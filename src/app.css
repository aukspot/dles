@import "@fontsource/fira-mono";

@tailwind base;

@tailwind components;

@tailwind utilities;

:root {
  --font-size-offset: 0px;
  --dle-played-opacity: 0.35;
  font-size: calc(14px + var(--font-size-offset));
}

@media (min-width: 360px) {
  :root {
    font-size: calc(15px + var(--font-size-offset));
  }
}

@media (min-width: 640px) {
  :root {
    font-size: calc(16px + var(--font-size-offset));
  }
}

a {
  @apply text-colorLink hover:text-colorLinkHover active:text-colorLinkActive;
}

.header-section-label {
  @apply uppercase text-center text-xl md:text-2xl font-semibold font-mono;
}

.changelog-link {
  @apply underline;
}

.title {
  @apply p-1 font-mono text-base bg-colorCardC fill-colorTextSofter z-30 flex border border-colorTextSofter text-colorText;
}

.subtitle {
  @apply p-1 font-mono text-tiny bg-colorCardC fill-colorTextSofter z-30 uppercase shadow-colorTextSoftest shadow-sm;
}

.section-icon {
  @apply flex-shrink-0 w-6 h-6 flex items-center justify-center;
}

.section-icon :global(svg) {
  @apply w-full h-full;
}

.rainbow-gradient {
  background: repeating-linear-gradient(60deg,
      hsl(0, 90%, 70%, 0.8) 0% 20%,
      hsl(72, 90%, 70%, 0.8) 20% 40%,
      hsl(144, 90%, 70%, 0.8) 40% 60%,
      hsl(216, 90%, 70%, 0.8) 60% 80%,
      hsl(288, 90%, 70%, 0.8) 80% 100%);
}

.dark .rainbow-gradient {
  background: repeating-linear-gradient(60deg,
      hsl(0, 90%, 30%, 0.9) 0% 20%,
      hsl(72, 90%, 30%, 0.9) 20% 40%,
      hsl(144, 90%, 30%, 0.9) 40% 60%,
      hsl(216, 90%, 30%, 0.9) 60% 80%,
      hsl(288, 90%, 30%, 0.9) 80% 100%);
}

.btn {
  @apply shadow-colorNeutralSofter text-colorText border-colorNeutral rounded-md border p-1 text-base shadow-md hover:shadow-none active:shadow-none md:text-lg;
}

.btn:disabled {
  cursor: unset;
  @apply text-colorNeutral bg-colorBackground border-colorNeutralSofter shadow-none;
}

.btn-header {
  @apply p-[.4rem] font-mono text-tiny fill-colorTextSofter z-30 flex items-center uppercase border border-colorTextSofter;
}

.btn-icon {
  @apply fill-colorTextSoft flex h-9 w-9 items-center justify-center rounded hover:border hover:border-colorNeutralSoft active:shadow-none;
}

.btn-dropdown-menu {
  @apply text-colorText bg-colorCardB fill-colorTextSofter z-30 flex items-center justify-between gap-1 rounded-md border-2 border-transparent p-1 shadow-md hover:border-2 hover:border-colorTextSofter active:shadow-none;
}

.btn-menu-item {
  @apply text-colorText bg-colorCardB fill-colorTextSoft flex items-center justify-center gap-1 border-2 border-transparent p-1 hover:border-2 hover:border-colorTextSofter hover:bg-colorBackground;
}

.btn-settings {
  @apply text-colorText bg-colorCardB fill-colorTextSoft flex items-center justify-center gap-1 rounded-md border-2 border-transparent p-1 hover:border-2 hover:border-colorText;
}

.btn-toolbar {
  @apply bg-colorCardB flex flex-row items-center justify-center rounded-md;
}

.btn-svg {
  @apply md:w-8;
}

.btn-action {
  @apply inline-flex items-center justify-center px-1.5 py-1 text-xs font-medium uppercase text-colorText bg-colorCardC border border-colorTextSofter transition-all text-center fill-colorText;
}

.btn-action-big {
  @apply inline-flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium uppercase text-colorText bg-colorCardC border border-colorTextSofter transition-all text-center fill-colorText;
}

.btn-action:hover {
  @apply bg-zinc-200;
}

:is(.dark .btn-action):hover {
  @apply bg-zinc-800;
}

.btn-action :global(svg) {
  @apply w-4 h-4 flex-shrink-0;
}

.btn-action :global(svg path) {
  fill: currentColor;
}

.btn-primary {
  @apply flex items-center justify-center gap-2 px-4 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 border-2 border-blue-700 hover:border-blue-800 shadow-md hover:shadow-lg active:scale-95 transition-all duration-75 cursor-pointer;
}

.btn-secondary {
  @apply flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-colorText bg-colorCardB hover:bg-gray-100 dark:hover:bg-gray-700 border-2 border-colorTextSofter shadow-sm hover:shadow-md active:scale-95 transition-all duration-75 stroke-colorTextSoft cursor-pointer;
}

.btn-poll-option {
  @apply p-2 bg-colorCardC border border-colorTextSofter hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium text-colorText text-sm md:text-base uppercase leading-tight min-w-16;
  min-height: 2.5rem;
}

.btn-poll-option:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Button sizes */
.btn-size-sm {
  @apply px-2 py-1 text-xs;
}

.btn-size-md {
  @apply px-3 py-2 text-sm;
}

.btn-size-lg {
  @apply px-4 py-3 text-base;
}

/* Button width */
.btn-full-width {
  @apply w-full;
}

/* Button uppercase */
.btn-uppercase {
  @apply uppercase tracking-wide;
}

.btn-toggle {
  @apply cursor-pointer flex items-center justify-center select-none text-xs px-1.5 bg-zinc-200 dark:bg-zinc-800 border border-zinc-400 dark:border-zinc-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all font-medium;
}

.btn-toggle.active {
  @apply bg-colorCardC border-colorTextSofter hover:bg-colorCardB;
}

.btn-toggle input[type="checkbox"] {
  @apply w-4 h-4 cursor-pointer;
}

.showBtn {
  opacity: 1 !important;
  display: block;
  transform: translateY(0);
}

.menu-link {
  @apply text-colorText [&:nth-child(odd)]:bg-colorCardA [&:nth-child(even)]:bg-colorCardB flex justify-center gap-2 p-2;
}

.only-md {
  @apply hidden md:block;
}

.divider {
  @apply border-colorNeutral border-t;
}

button:disabled:hover {
  transform: unset;
}

button:disabled:active {
  transform: unset;
}

label {
  @apply text-base;
}

input {
  @apply m-2;
}

input[type="number"],
input[type="text"],
textarea {
  @apply font-mono bg-colorBackground border-colorNeutral rounded border p-2 text-xs placeholder:text-colorTextSofter sm:text-sm;
}

textarea {
  @apply min-h-10 m-2 max-h-32 resize-y;
}

table {
  @apply my-2 w-full border-spacing-4 border-none p-1 shadow;
}

tr {
  @apply [&:nth-child(odd)]:bg-colorCardB [&:nth-child(even)]:bg-colorCardA;
}

td {
  @apply border-none p-2 text-sm md:text-base;
}

.bevel {
  /* 3D bevel effect */
  border: 2px solid;
  border-color: theme('colors.colorTextSoftest') theme('colors.colorTextSoft') theme('colors.colorTextSoft') theme('colors.colorTextSoftest');
  box-shadow: inset 1px 1px 0 rgba(255, 255, 255, 0.3),
    inset -1px -1px 0 rgba(0, 0, 0, 0.2),
    0 2px 4px rgba(0, 0, 0, 0.1);
}

@layer components {
  .cardComponent {
    background-color: var(--color-white);
    border-radius: var(--rounded-lg);
    padding: var(--spacing-6);
    box-shadow: var(--shadow-xl);
  }

  .unselectable {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  .grid-cols-var {
    grid-template-columns: repeat(var(--num-columns), minmax(0, 1fr));
  }

  /* Modal utilities */
  .modal-container {
    @apply bg-colorCardC border border-colorTextSofter shadow-2xl flex flex-col;
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
  }

  :global(.dark) .modal-container {
    @apply border-colorTextSoftest;
  }

  .modal-content {
    @apply p-3 overflow-y-auto flex-1;
  }

  .modal-footer {
    @apply p-3 bg-colorCardB border-t-2 border-colorTextSofter flex justify-center;
  }

  .footer-actions {
    @apply flex flex-col gap-2 w-full;
  }

  /* Layout utilities */
  .block-header {
    @apply text-sm font-semibold text-colorText mb-2 uppercase tracking-wide;
  }

  .section-subtitle {
    @apply text-sm md:text-base font-semibold text-colorTextSoft uppercase tracking-wide mb-1 text-center;
  }

  .header-count {
    @apply text-sm font-mono font-bold text-colorTextSoft bg-colorCardB px-2 py-0.5 rounded-sm border border-colorTextSoftest;
  }

  /* Played dle state - reduces opacity to indicate completion */
  .dle-played {
    opacity: var(--dle-played-opacity);
  }

  /* Divider utilities */
  .or-divider {
    @apply flex items-center justify-center my-1;
  }

  .or-text {
    @apply text-xs text-colorTextSofter uppercase tracking-wider px-2;
  }
}

/* Remove yellow highlight from svelte-dnd-action drop zones */
[aria-dropeffect="move"],
[aria-dropeffect="move"]:focus,
[aria-dropeffect="move"]:focus-visible,
.dnd-action-draggable-wrapper {
  outline: none !important;
  background-color: transparent !important;
  box-shadow: none !important;
}

/* Override any default focus styles on drag containers */
*:focus-visible[aria-dropeffect] {
  outline: none !important;
}

/* Remove any border/outline during dragging */
[data-is-dnd-shadow-item-active] {
  outline: none !important;
}

/* Target the container directly */
div[aria-dropeffect] {
  outline: none !important;
  box-shadow: none !important;
}