import{r as W,B as Y,A as k}from"./C4RE7so8.js";import{w as d,d as H,r as M}from"./uwC7Tu3j.js";function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function P(t,s){k(t,1,1,()=>{s.delete(t.key)})}function Z(t,s){t.f(),P(t,s)}function ee(t,s,o,n,e,i,a,r,c,y,f,S){let g=t.length,p=i.length,h=g;const I={};for(;h--;)I[t[h].key]=h;const w=[],T=new Map,v=new Map,O=[];for(h=p;h--;){const l=S(e,i,h),u=o(l);let m=a.get(u);m?O.push(()=>m.p(l,s)):(m=y(u,l),m.c()),T.set(u,w[h]=m),u in I&&v.set(u,Math.abs(h-I[u]))}const D=new Set,G=new Set;function E(l){Y(l,1),l.m(r,f),a.set(l.key,l),f=l.first,p--}for(;g&&p;){const l=w[p-1],u=t[g-1],m=l.key,R=u.key;l===u?(f=l.first,g--,p--):T.has(R)?!a.has(m)||D.has(m)?E(l):G.has(R)?g--:v.get(m)>v.get(R)?(G.add(m),E(l)):(D.add(R),g--):(c(u,a),g--)}for(;g--;){const l=t[g];T.has(l.key)||c(l,a)}for(;p;)E(w[p-1]);return W(O),w}function V(t,s){if(!t||!s)return 0;const o=t.length>s.length?t:s,n=t.length>s.length?s:t;if(o.length===0)return 1;const e=_(o.toLowerCase(),n.toLowerCase());return(o.length-e)/o.length}function _(t,s){const o=[];for(let n=0;n<=s.length;n++)o[n]=[n];for(let n=0;n<=t.length;n++)o[0][n]=n;for(let n=1;n<=s.length;n++)for(let e=1;e<=t.length;e++)s.charAt(n-1)===t.charAt(e-1)?o[n][e]=o[n-1][e-1]:o[n][e]=Math.min(o[n-1][e-1]+1,o[n][e-1]+1,o[n-1][e]+1);return o[s.length][t.length]}function te(t,s){if(!Array.isArray(t)||!Array.isArray(s))return{ids:[],report:{total:0,migrated:0,failed:[],suggestions:[]}};const o=[],n={total:t.length,migrated:0,failed:[],suggestions:[]};for(const e of t){if(typeof e=="number"){o.push(e),n.migrated++;continue}if(!e||typeof e!="object")continue;let i=null,a="";if(e.name&&(i=s.find(r=>r.name===e.name),i&&(a="exact_name")),!i&&e.url&&(i=s.find(r=>r.url===e.url),i&&(a="exact_url")),!i&&e.name){let c=null,y=0;for(const f of s){if(!f.name)continue;const S=V(e.name,f.name);S>y&&S>=.65&&(y=S,c=f)}c&&(i=c,a=`fuzzy_name (${Math.round(y*100)}% similar)`)}if(!i&&e.url){const r=C(e.url);r&&(i=s.find(c=>c.url?C(c.url)===r:!1),i&&(a="domain_match"))}if(i&&i.id)o.push(i.id),n.migrated++,console.log(`✅ Migrated "${e.name}" → "${i.name}" (ID: ${i.id}) [${a}]`);else{const r={name:e.name||"Unknown",url:e.url||"Unknown",reason:"No suitable match found"};if(n.failed.push(r),e.name){const c=B(e.name,s,3);c.length>0&&n.suggestions.push({original:e.name,suggestions:c})}console.warn(`❌ Could not migrate "${e.name||e.url}"`)}}return{ids:o,report:n}}function C(t){try{return new URL(t).hostname.replace("www.","")}catch{return null}}function B(t,s,o=3){return s.filter(e=>e.name).map(e=>({name:e.name,similarity:V(t,e.name)})).filter(e=>e.similarity>.5).sort((e,i)=>i.similarity-e.similarity).slice(0,o).map(e=>e.name)}function J(t,s){return!Array.isArray(t)||!Array.isArray(s)?[]:t.map(o=>s.find(n=>n.id===o)).filter(Boolean)}function se(t){return!Array.isArray(t)||t.length===0?!1:t.some(s=>typeof s=="object"&&s!==null)}const b="categoryRanks",L={"Card/Board Games":1,Colors:2,Estimation:3,Food:4,Geography:5,History:6,"Math/Logic":7,"Movies/TV":8,Music:9,"Science/Nature":10,"Shapes/Patterns":11,Sports:12,Trivia:13,Vehicles:14,"Video Games":15,Miscellaneous:16,Words:17};function q(){const t=JSON.parse(localStorage.getItem(b)||JSON.stringify(L)),{subscribe:s,set:o,update:n}=d(t);return{subscribe:s,setRank:(e,i)=>{n(a=>{const r={...a,[e]:i};return localStorage.setItem(b,JSON.stringify(r)),r})},bulkSetRanks:e=>{o(e),localStorage.setItem(b,JSON.stringify(e))},reset:()=>{o(L),localStorage.setItem(b,JSON.stringify(L))}}}const ne=q(),A="completelyHiddenSections";function x(){const t=JSON.parse(localStorage.getItem(A)||"{}"),{subscribe:s,set:o,update:n}=d(t);return{subscribe:s,completelyHide:e=>{n(i=>{const a={...i,[e]:!0};return localStorage.setItem(A,JSON.stringify(a)),a})},show:e=>{n(i=>{const a={...i,[e]:!1};return localStorage.setItem(A,JSON.stringify(a)),a})},isCompletelyHidden:(e,i)=>i[e]===!0,reset:()=>{o({}),localStorage.setItem(A,JSON.stringify({}))}}}const ie=x(),$=[{id:"poll-1",question:"Do you like the new design for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-2",question:"Would you like a Discord server for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-3",question:"Would you like more polls?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-4",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"math-logic",label:"Math/Logic"},{id:"words",label:"Words"}],timeRange:{start:"2025-12-15",end:"2025-12-29"},showResultsImmediately:!0},{id:"poll-5",question:"Have you tried rearranging categories in the Settings?",options:[{id:"yes-it-is-a-good-feature",label:"Yes, it is a good feature"},{id:"yes-but-i-dont-see-the-point",label:"Yes, but I don't see the point"},{id:"no",label:"No"}],timeRange:{start:"2025-12-21",end:"2025-12-30"},showResultsImmediately:!0},{id:"poll-6",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"music",label:"Music"},{id:"movies-tv",label:"Movies/TV"}],timeRange:{start:"2025-12-22",end:"2026-01-04"},showResultsImmediately:!0},{id:"poll-7",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"sports",label:"Sports"},{id:"video-games",label:"Video Games"}],timeRange:{start:"2025-12-29",end:"2026-01-11"},showResultsImmediately:!0},{id:"poll-8",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"history",label:"History"},{id:"science-nature",label:"Science/Nature"}],timeRange:{start:"2026-01-05",end:"2026-01-19"},showResultsImmediately:!0},{id:"poll-9",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"card-board-games",label:"Card/Board Games"},{id:"shapes-patterns",label:"Shapes/Patterns"}],timeRange:{start:"2026-01-12",end:"2026-01-26"},showResultsImmediately:!0}],N="pollResponses";function oe(){const t=new Date;return $.filter(s=>{const o=new Date(s.timeRange.start),n=new Date(s.timeRange.end);return t>=o&&t<=n})}function F(){const t=JSON.parse(localStorage.getItem(N)||"{}"),{subscribe:s,set:o,update:n}=d(t);return{subscribe:s,hasAnswered:(e,i)=>i[e]!==void 0,recordAnswer:(e,i)=>{n(a=>{const r={...a,[e]:i};return localStorage.setItem(N,JSON.stringify(r)),r})},getAnswer:(e,i)=>i[e]}}const ae=F();let re=d([]),le=d([]),j=d([]),ce=d([]),de=d([]),ue=d({}),me=d([]),z=d([]),ge=H([z,j],([t,s])=>J(t,s)),he=d(""),fe=d(""),pe=d({}),ye=M(["Card/Board Games","Colors","Estimation","Food","Geography","History","Math/Logic","Movies/TV","Music","Science/Nature","Shapes/Patterns","Sports","Trivia","Vehicles","Video Games","Miscellaneous","Words"]),Se=M({"Card/Board Games":"hsl(0, 90%, 50%, 45%)",Colors:"hsl(24, 90%, 50%, 45%)",Estimation:"hsl(48, 90%, 50%, 45%)",Food:"hsl(72, 90%, 50%, 45%)",Geography:"hsl(96, 90%, 50%, 45%)",History:"hsl(108, 90%, 50%, 45%)","Math/Logic":"hsl(120, 90%, 50%, 45%)","Movies/TV":"hsl(144, 90%, 50%, 45%)",Music:"hsl(168, 90%, 50%, 45%)","Science/Nature":"hsl(192, 90%, 50%, 45%)","Shapes/Patterns":"hsl(216, 90%, 50%, 45%)",Sponsors:"hsl(226, 90%, 50%, 45%)",Sports:"hsl(240, 90%, 50%, 45%)",Trivia:"hsl(264, 90%, 50%, 45%)",Vehicles:"hsl(288, 90%, 50%, 45%)","Video Games":"hsl(312, 90%, 50%, 45%)",Words:"hsl(336, 90%, 50%, 45%)",Miscellaneous:"hsl(0, 0%, 49%, 45%)"}),we=M([{id:202,name:"Lexicle",url:"https://lexicle.com",description:"Guess the secret word based on its meaning.",category:"Words"},{name:"Wordamid",url:"https://www.wordamid.com",description:"Solve the daily word pyramid by guessing words of increasing length.",category:"Words",id:564}]);function U(){const s=typeof window<"u"&&typeof localStorage<"u",o=s&&localStorage.activePanel?localStorage.activePanel:null,{subscribe:n,set:e,update:i}=d(o);return{subscribe:n,set:a=>{s&&(a===null?localStorage.removeItem("activePanel"):localStorage.activePanel=a),e(a)},update:a=>{i(r=>{const c=a(r);return s&&(c===null?localStorage.removeItem("activePanel"):localStorage.activePanel=c),c})}}}let Re=U();export{Z as a,ge as b,de as c,re as d,X as e,z as f,Se as g,ce as h,ne as i,j,we as k,ie as l,ye as m,le as n,P as o,he as p,pe as q,ue as r,fe as s,Re as t,ee as u,oe as v,ae as w,me as x,se as y,te as z};
