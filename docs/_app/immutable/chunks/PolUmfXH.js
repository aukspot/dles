import{u as Y,r as P}from"./D8CeWvsA.js";import{r as k}from"./CJdsnkcg.js";import{w as l,d as L,r as D}from"./fJJzfKmP.js";function se(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function oe(t,s){P(t,1,1,()=>{s.delete(t.key)})}function ie(t,s,a,o,e,i,n,r,d,y,f,w){let g=t.length,p=i.length,h=g;const I={};for(;h--;)I[t[h].key]=h;const S=[],v=new Map,A=new Map,G=[];for(h=p;h--;){const c=w(e,i,h),u=a(c);let m=n.get(u);m?G.push(()=>m.p(c,s)):(m=y(u,c),m.c()),v.set(u,S[h]=m),u in I&&A.set(u,Math.abs(h-I[u]))}const C=new Set,O=new Set;function E(c){Y(c,1),c.m(r,f),n.set(c.key,c),f=c.first,p--}for(;g&&p;){const c=S[p-1],u=t[g-1],m=c.key,R=u.key;c===u?(f=c.first,g--,p--):v.has(R)?!n.has(m)||C.has(m)?E(c):O.has(R)?g--:A.get(m)>A.get(R)?(O.add(m),E(c)):(C.add(R),g--):(d(u,n),g--)}for(;g--;){const c=t[g];v.has(c.key)||d(c,n)}for(;p;)E(S[p-1]);return k(G),S}function B(t,s){if(!t||!s)return 0;const a=t.length>s.length?t:s,o=t.length>s.length?s:t;if(a.length===0)return 1;const e=H(a.toLowerCase(),o.toLowerCase());return(a.length-e)/a.length}function H(t,s){const a=[];for(let o=0;o<=s.length;o++)a[o]=[o];for(let o=0;o<=t.length;o++)a[0][o]=o;for(let o=1;o<=s.length;o++)for(let e=1;e<=t.length;e++)s.charAt(o-1)===t.charAt(e-1)?a[o][e]=a[o-1][e-1]:a[o][e]=Math.min(a[o-1][e-1]+1,a[o][e-1]+1,a[o-1][e]+1);return a[s.length][t.length]}function ae(t,s){if(!Array.isArray(t)||!Array.isArray(s))return{ids:[],report:{total:0,migrated:0,failed:[],suggestions:[]}};const a=[],o={total:t.length,migrated:0,failed:[],suggestions:[]};for(const e of t){if(typeof e=="number"){a.push(e),o.migrated++;continue}if(!e||typeof e!="object")continue;let i=null,n="";if(e.name&&(i=s.find(r=>r.name===e.name),i&&(n="exact_name")),!i&&e.url&&(i=s.find(r=>r.url===e.url),i&&(n="exact_url")),!i&&e.name){let d=null,y=0;for(const f of s){if(!f.name)continue;const w=B(e.name,f.name);w>y&&w>=.65&&(y=w,d=f)}d&&(i=d,n=`fuzzy_name (${Math.round(y*100)}% similar)`)}if(!i&&e.url){const r=V(e.url);r&&(i=s.find(d=>d.url?V(d.url)===r:!1),i&&(n="domain_match"))}if(i&&i.id)a.push(i.id),o.migrated++,console.log(`✅ Migrated "${e.name}" → "${i.name}" (ID: ${i.id}) [${n}]`);else{const r={name:e.name||"Unknown",url:e.url||"Unknown",reason:"No suitable match found"};if(o.failed.push(r),e.name){const d=q(e.name,s,3);d.length>0&&o.suggestions.push({original:e.name,suggestions:d})}console.warn(`❌ Could not migrate "${e.name||e.url}"`)}}return{ids:a,report:o}}function V(t){try{return new URL(t).hostname.replace("www.","")}catch{return null}}function q(t,s,a=3){return s.filter(e=>e.name).map(e=>({name:e.name,similarity:B(t,e.name)})).filter(e=>e.similarity>.5).sort((e,i)=>i.similarity-e.similarity).slice(0,a).map(e=>e.name)}function J(t,s){return!Array.isArray(t)||!Array.isArray(s)?[]:t.map(a=>s.find(o=>o.id===a)).filter(Boolean)}function ne(t){return!Array.isArray(t)||t.length===0?!1:t.some(s=>typeof s=="object"&&s!==null)}const F=[{id:202,name:"Lexicle",url:"https://lexicle.com",description:"Guess the secret word based on its meaning.",category:"Words"},{id:563,name:"Word Zip",url:"https://www.wfhgames.com/word-zip",description:"Build as many words as you can by alternating between two pools of letters.",category:"Words"},{id:559,name:"Terraformation",url:"https://puzzmallow.com/terraformation",description:"Fill in the hex grid planet with the correct terrains.",category:"Math/Logic"},{id:642,name:"Lettered",url:"https://lettered.io",description:"Move letter tiles on the board to spell out the hidden phrase.",category:"Words"}],b="categoryRanks",M={"Card/Board Games":1,Colors:2,Estimation:3,Food:4,Geography:5,History:6,"Math/Logic":7,"Movies/TV":8,Music:9,"Science/Nature":10,"Shapes/Patterns":11,Sports:12,Trivia:13,Vehicles:14,"Video Games":15,Miscellaneous:16,Words:17};function x(){const t=JSON.parse(localStorage.getItem(b)||JSON.stringify(M)),{subscribe:s,set:a,update:o}=l(t);return{subscribe:s,setRank:(e,i)=>{o(n=>{const r={...n,[e]:i};return localStorage.setItem(b,JSON.stringify(r)),r})},bulkSetRanks:e=>{a(e),localStorage.setItem(b,JSON.stringify(e))},reset:()=>{a(M),localStorage.setItem(b,JSON.stringify(M))}}}const le=x(),T="completelyHiddenSections";function _(){const t=JSON.parse(localStorage.getItem(T)||"{}"),{subscribe:s,set:a,update:o}=l(t);return{subscribe:s,completelyHide:e=>{o(i=>{const n={...i,[e]:!0};return localStorage.setItem(T,JSON.stringify(n)),n})},show:e=>{o(i=>{const n={...i,[e]:!1};return localStorage.setItem(T,JSON.stringify(n)),n})},isCompletelyHidden:(e,i)=>i[e]===!0,reset:()=>{a({}),localStorage.setItem(T,JSON.stringify({}))}}}const re=_(),W=[{id:"poll-1",question:"Do you like the new design for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-2",question:"Would you like a Discord server for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-3",question:"Would you like more polls?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-4",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"math-logic",label:"Math/Logic"},{id:"words",label:"Words"}],timeRange:{start:"2025-12-15",end:"2025-12-29"},showResultsImmediately:!0},{id:"poll-5",question:"Have you tried rearranging categories in the Settings?",options:[{id:"yes-it-is-a-good-feature",label:"Yes, it is a good feature"},{id:"yes-but-i-dont-see-the-point",label:"Yes, but I don't see the point"},{id:"no",label:"No"}],timeRange:{start:"2025-12-21",end:"2025-12-30"},showResultsImmediately:!0},{id:"poll-6",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"music",label:"Music"},{id:"movies-tv",label:"Movies/TV"}],timeRange:{start:"2025-12-22",end:"2026-01-04"},showResultsImmediately:!0},{id:"poll-7",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"sports",label:"Sports"},{id:"video-games",label:"Video Games"}],timeRange:{start:"2025-12-29",end:"2026-01-11"},showResultsImmediately:!0},{id:"poll-8",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"history",label:"History"},{id:"science-nature",label:"Science/Nature"}],timeRange:{start:"2026-01-05",end:"2026-02-05"},showResultsImmediately:!0},{id:"poll-9",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"card-board-games",label:"Card/Board Games"},{id:"shapes-patterns",label:"Shapes/Patterns"}],timeRange:{start:"2026-01-12",end:"2026-02-12"},showResultsImmediately:!0},{id:"poll-10",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"geography",label:"Geography"},{id:"trivia",label:"Trivia"}],timeRange:{start:"2026-01-19",end:"2026-02-19"},showResultsImmediately:!0},{id:"poll-11",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"food",label:"Food"},{id:"colors",label:"Colors"}],timeRange:{start:"2026-01-26",end:"2026-02-26"},showResultsImmediately:!0},{id:"poll-12",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"estimation",label:"Estimation"},{id:"miscellaneous",label:"Miscellaneous"}],timeRange:{start:"2026-02-02",end:"2026-03-02"},showResultsImmediately:!0},{id:"poll-13",question:"CATEGORY BATTLE: Which DLES category is better?",options:[{id:"movies-tv",label:"Movies/TV"},{id:"video-games",label:"Video Games"}],timeRange:{start:"2026-02-09",end:"2026-03-09"},showResultsImmediately:!0}],N="pollResponses";function de(){const t=new Date;return W.filter(s=>{const a=new Date(s.timeRange.start),o=new Date(s.timeRange.end);return t>=a&&t<=o})}const ce=W;function $(){const t=JSON.parse(localStorage.getItem(N)||"{}"),{subscribe:s,set:a,update:o}=l(t);return{subscribe:s,hasAnswered:(e,i)=>i[e]!==void 0,recordAnswer:(e,i)=>{o(n=>{const r={...n,[e]:i};return localStorage.setItem(N,JSON.stringify(r)),r})},getAnswer:(e,i)=>i[e]}}const ue=$();let me=l([]),ge=l([]),z=l([]),he=l([]),fe=l([]),pe=l({}),ye=l([]),j=l([]),we=L([j,z],([t,s])=>J(t,s)),U=l([]),Se=L(U,t=>new Set(t)),K=l([]),Re=L(K,t=>new Set(t)),be=l(!1),Te=l(!0),Ie=l(""),ve=l(""),Ae=l({}),Ee=D(["Card/Board Games","Colors","Estimation","Food","Geography","History","Math/Logic","Movies/TV","Music","Science/Nature","Shapes/Patterns","Sports","Trivia","Vehicles","Video Games","Miscellaneous","Words"]),Me=D({"Card/Board Games":"hsl(0, 90%, 50%, 45%)",Colors:"hsl(24, 90%, 50%, 45%)",Estimation:"hsl(48, 90%, 50%, 45%)",Food:"hsl(72, 90%, 50%, 45%)",Geography:"hsl(96, 90%, 50%, 45%)",History:"hsl(108, 90%, 50%, 45%)","Math/Logic":"hsl(120, 90%, 50%, 45%)","Movies/TV":"hsl(144, 90%, 50%, 45%)",Music:"hsl(168, 90%, 50%, 45%)",New:"hsl(180, 90%, 40%, 45%)","Science/Nature":"hsl(192, 90%, 50%, 45%)","Shapes/Patterns":"hsl(216, 90%, 50%, 45%)",Sponsors:"hsl(226, 90%, 50%, 45%)",Sports:"hsl(240, 90%, 50%, 45%)",Trivia:"hsl(264, 90%, 50%, 45%)",Vehicles:"hsl(288, 90%, 50%, 45%)","Video Games":"hsl(312, 90%, 50%, 45%)",Words:"hsl(336, 90%, 50%, 45%)",Miscellaneous:"hsl(0, 0%, 49%, 45%)"}),Le=D(F);function Q(){const s=typeof window<"u"&&typeof localStorage<"u",a=s&&localStorage.activePanel?localStorage.activePanel:null,{subscribe:o,set:e,update:i}=l(a);return{subscribe:o,set:n=>{s&&(n===null?localStorage.removeItem("activePanel"):localStorage.activePanel=n),e(n)},update:n=>{i(r=>{const d=n(r);return s&&(d===null?localStorage.removeItem("activePanel"):localStorage.activePanel=d),d})}}}let De=Q();function Z(){const s=typeof window<"u"&&typeof localStorage<"u",a=s&&localStorage.getItem("favoritesViewMode")||"row",o=s?!!localStorage.getItem("favoritesViewToggleSeen"):!1,e=l(a),i=l(!o);function n(){e.update(r=>{const d=r==="row"?"grid":"row";return s&&localStorage.setItem("favoritesViewMode",d),d}),i.update(r=>(r&&s&&localStorage.setItem("favoritesViewToggleSeen","true"),!1))}return{viewMode:e,showNewBadge:i,toggle:n}}const Ge=Z();let Ce=l(!1),Oe=l(!1),Ve=l(!1);export{Ee as A,Ae as B,pe as C,De as D,de as E,ue as F,ye as G,Te as H,ne as I,ae as J,ce as a,we as b,fe as c,me as d,se as e,Ge as f,j as g,Me as h,Re as i,he as j,K as k,be as l,U as m,Ce as n,oe as o,Ie as p,Oe as q,ge as r,Ve as s,Se as t,ie as u,le as v,z as w,Le as x,ve as y,re as z};
