import{r as L,B as V,A as H}from"./DqUeIwOP.js";import{w as c,d as J,r as O}from"./d_-RDZ71.js";function Q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function x(t,s){H(t,1,1,()=>{s.delete(t.key)})}function X(t,s){t.f(),x(t,s)}function Z(t,s,o,n,e,i,a,l,u,p,g,S){let f=t.length,y=i.length,h=f;const M={};for(;h--;)M[t[h].key]=h;const w=[],N=new Map,T=new Map,b=[];for(h=y;h--;){const r=S(e,i,h),d=o(r);let m=a.get(d);m?b.push(()=>m.p(r,s)):(m=p(d,r),m.c()),N.set(d,w[h]=m),d in M&&T.set(d,Math.abs(h-M[d]))}const D=new Set,k=new Set;function v(r){V(r,1),r.m(l,g),a.set(r.key,r),g=r.first,y--}for(;f&&y;){const r=w[y-1],d=t[f-1],m=r.key,R=d.key;r===d?(g=r.first,f--,y--):N.has(R)?!a.has(m)||D.has(m)?v(r):k.has(R)?f--:T.get(m)>T.get(R)?(k.add(m),v(r)):(D.add(R),f--):(u(d,a),f--)}for(;f--;){const r=t[f];N.has(r.key)||u(r,a)}for(;y;)v(w[y-1]);return L(b),w}function E(t,s){if(!t||!s)return 0;const o=t.length>s.length?t:s,n=t.length>s.length?s:t;if(o.length===0)return 1;const e=Y(o.toLowerCase(),n.toLowerCase());return(o.length-e)/o.length}function Y(t,s){const o=[];for(let n=0;n<=s.length;n++)o[n]=[n];for(let n=0;n<=t.length;n++)o[0][n]=n;for(let n=1;n<=s.length;n++)for(let e=1;e<=t.length;e++)s.charAt(n-1)===t.charAt(e-1)?o[n][e]=o[n-1][e-1]:o[n][e]=Math.min(o[n-1][e-1]+1,o[n][e-1]+1,o[n-1][e]+1);return o[s.length][t.length]}function ee(t,s){if(!Array.isArray(t)||!Array.isArray(s))return{ids:[],report:{total:0,migrated:0,failed:[],suggestions:[]}};const o=[],n={total:t.length,migrated:0,failed:[],suggestions:[]};for(const e of t){if(typeof e=="number"){o.push(e),n.migrated++;continue}if(!e||typeof e!="object")continue;let i=null,a="";if(e.name&&(i=s.find(l=>l.name===e.name),i&&(a="exact_name")),!i&&e.url&&(i=s.find(l=>l.url===e.url),i&&(a="exact_url")),!i&&e.name){let u=null,p=0;for(const g of s){if(!g.name)continue;const S=E(e.name,g.name);S>p&&S>=.65&&(p=S,u=g)}u&&(i=u,a=`fuzzy_name (${Math.round(p*100)}% similar)`)}if(!i&&e.url){const l=G(e.url);l&&(i=s.find(u=>u.url?G(u.url)===l:!1),i&&(a="domain_match"))}if(i&&i.id)o.push(i.id),n.migrated++,console.log(`✅ Migrated "${e.name}" → "${i.name}" (ID: ${i.id}) [${a}]`);else{const l={name:e.name||"Unknown",url:e.url||"Unknown",reason:"No suitable match found"};if(n.failed.push(l),e.name){const u=$(e.name,s,3);u.length>0&&n.suggestions.push({original:e.name,suggestions:u})}console.warn(`❌ Could not migrate "${e.name||e.url}"`)}}return{ids:o,report:n}}function G(t){try{return new URL(t).hostname.replace("www.","")}catch{return null}}function $(t,s,o=3){return s.filter(e=>e.name).map(e=>({name:e.name,similarity:E(t,e.name)})).filter(e=>e.similarity>.5).sort((e,i)=>i.similarity-e.similarity).slice(0,o).map(e=>e.name)}function W(t,s){return!Array.isArray(t)||!Array.isArray(s)?[]:t.map(o=>s.find(n=>n.id===o)).filter(Boolean)}function te(t){return!Array.isArray(t)||t.length===0?!1:t.some(s=>typeof s=="object"&&s!==null)}const I="categoryRanks",C={"Card/Board Games":1,Colors:2,Estimation:3,Food:4,Geography:5,History:6,"Math/Logic":7,"Movies/TV":8,Music:9,"Science/Nature":10,"Shapes/Patterns":11,Sports:12,Trivia:13,Vehicles:14,"Video Games":15,Miscellaneous:16,Words:17};function F(){const t=JSON.parse(localStorage.getItem(I)||JSON.stringify(C)),{subscribe:s,set:o,update:n}=c(t);return{subscribe:s,setRank:(e,i)=>{n(a=>{const l={...a,[e]:i};return localStorage.setItem(I,JSON.stringify(l)),l})},bulkSetRanks:e=>{o(e),localStorage.setItem(I,JSON.stringify(e))},reset:()=>{o(C),localStorage.setItem(I,JSON.stringify(C))}}}const se=F(),A="completelyHiddenSections";function P(){const t=JSON.parse(localStorage.getItem(A)||"{}"),{subscribe:s,set:o,update:n}=c(t);return{subscribe:s,completelyHide:e=>{n(i=>{const a={...i,[e]:!0};return localStorage.setItem(A,JSON.stringify(a)),a})},show:e=>{n(i=>{const a={...i,[e]:!1};return localStorage.setItem(A,JSON.stringify(a)),a})},isCompletelyHidden:(e,i)=>i[e]===!0,reset:()=>{o({}),localStorage.setItem(A,JSON.stringify({}))}}}const ne=P(),j=[{id:"poll-1",question:"Do you like the new design for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-2",question:"Would you like a Discord server for The DLES?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0},{id:"poll-3",question:"Would you like more polls?",options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],timeRange:{start:"2025-12-10",end:"2025-12-21"},showResultsImmediately:!0}],_="pollResponses";function ie(){const t=new Date;return j.filter(s=>{const o=new Date(s.timeRange.start),n=new Date(s.timeRange.end);return t>=o&&t<=n})}function B(){const t=JSON.parse(localStorage.getItem(_)||"{}"),{subscribe:s,set:o,update:n}=c(t);return{subscribe:s,hasAnswered:(e,i)=>i[e]!==void 0,recordAnswer:(e,i)=>{n(a=>{const l={...a,[e]:i};return localStorage.setItem(_,JSON.stringify(l)),l})},getAnswer:(e,i)=>i[e]}}const oe=B();let ae=c([]),re=c([]),q=c([]),le=c([]),ce=c([]),ue=c({}),de=c([]),z=c([]),me=J([z,q],([t,s])=>W(t,s)),fe=c(""),he=c(""),ge=c({}),ye=O(["Card/Board Games","Colors","Estimation","Food","Geography","History","Math/Logic","Movies/TV","Music","Science/Nature","Shapes/Patterns","Sports","Trivia","Vehicles","Video Games","Miscellaneous","Words"]),pe=O({"Card/Board Games":"hsl(0, 90%, 50%, 45%)",Colors:"hsl(24, 90%, 50%, 45%)",Estimation:"hsl(48, 90%, 50%, 45%)",Food:"hsl(72, 90%, 50%, 45%)",Geography:"hsl(96, 90%, 50%, 45%)",History:"hsl(108, 90%, 50%, 45%)","Math/Logic":"hsl(120, 90%, 50%, 45%)","Movies/TV":"hsl(144, 90%, 50%, 45%)",Music:"hsl(168, 90%, 50%, 45%)","Science/Nature":"hsl(192, 90%, 50%, 45%)","Shapes/Patterns":"hsl(216, 90%, 50%, 45%)",Sponsors:"hsl(226, 90%, 50%, 45%)",Sports:"hsl(240, 90%, 50%, 45%)",Trivia:"hsl(264, 90%, 50%, 45%)",Vehicles:"hsl(288, 90%, 50%, 45%)","Video Games":"hsl(312, 90%, 50%, 45%)",Words:"hsl(336, 90%, 50%, 45%)",Miscellaneous:"hsl(0, 0%, 49%, 45%)"}),Se=O([{id:202,name:"Lexicle",url:"https://lexicle.com",description:"Guess the secret word based on its meaning.",category:"Words"},{name:"Cinema Circuit",url:"https://www.wfhgames.com/cinema-circuit",description:"Connect the two movie actors in the fewest links possible.",category:"Movies/TV",id:542}]),we=c(null);export{X as a,me as b,ce as c,ae as d,Q as e,z as f,pe as g,le as h,se as i,q as j,Se as k,ne as l,ye as m,re as n,x as o,fe as p,ge as q,ue as r,he as s,we as t,Z as u,ie as v,oe as w,de as x,te as y,ee as z};
