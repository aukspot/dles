import{s as Ee,n as G,c as he,o as bt,r as ge,w as Ve,e as de,d as ze,i as tt}from"./CJdsnkcg.js";import{S as Ce,i as Ie,d as _,a as T,b as w,c as u,k as q,g as C,m as H,q as ee,r as N,u as B,v as te,w as re,x as le,G as Ne,B as oe,C as ie,A as X,l as J,f as z,e as U,j,s as F,h as ve,E as $e,o as ue,z as R,p as W,t as Q,D as pe}from"./D8CeWvsA.js";import{e as me,u as je,o as Te,g as _e,d as wt,h as lt,p as ke,i as kt,b as yt,j as Et,f as Ct}from"./ANhPJiJX.js";import{M as It,a as Dt,u as St,b as st,g as zt,c as jt,o as Me,p as At,D as Mt}from"./DBCphQbS.js";import{c as Pe,B as be,d as nt}from"./vgp5mdiT.js";import{I as Be}from"./DWZuID--.js";function Vt(n){let e,t,l,s,r,a,i;return{c(){e=H("svg"),t=H("circle"),l=H("circle"),s=H("circle"),r=H("circle"),a=H("circle"),i=H("circle"),this.h()},l(f){e=q(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0});var o=C(e);t=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(t).forEach(_),l=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(l).forEach(_),s=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(s).forEach(_),r=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(r).forEach(_),a=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(a).forEach(_),i=q(o,"circle",{cx:!0,cy:!0,r:!0}),C(i).forEach(_),o.forEach(_),this.h()},h(){u(t,"cx","4"),u(t,"cy","4"),u(t,"r","1.5"),u(l,"cx","12"),u(l,"cy","4"),u(l,"r","1.5"),u(s,"cx","4"),u(s,"cy","8"),u(s,"r","1.5"),u(r,"cx","12"),u(r,"cy","8"),u(r,"r","1.5"),u(a,"cx","4"),u(a,"cy","12"),u(a,"r","1.5"),u(i,"cx","12"),u(i,"cy","12"),u(i,"r","1.5"),u(e,"width","16"),u(e,"height","18"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor")},m(f,o){T(f,e,o),w(e,t),w(e,l),w(e,s),w(e,r),w(e,a),w(e,i)},p:G,i:G,o:G,d(f){f&&_(e)}}}class Tt extends Ce{constructor(e){super(),Ie(this,e,null,Vt,Ee,{})}}function Bt(n){return n.focus(),{}}const{Map:Nt}=zt;function Le(n,e,t){const l=n.slice();l[28]=e[t],l[31]=t;const s=l[5].has(l[28].id)||l[12].has(l[28].id);return l[29]=s,l}function $t(n){let e,t=[],l=new Nt,s,r=me(n[3]);const a=i=>i[28].id;for(let i=0;i<r.length;i+=1){let f=Le(n,r,i),o=a(f);l.set(o,t[i]=Ue(o,f))}return{c(){e=j("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=z(i,"DIV",{class:!0});var f=C(e);for(let o=0;o<t.length;o+=1)t[o].l(f);f.forEach(_),this.h()},h(){u(e,"class","results svelte-1wz6c9b")},m(i,f){T(i,e,f);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);s=!0},p(i,f){f[0]&14392&&(r=me(i[3]),oe(),t=je(t,f,a,1,i,r,l,e,Te,Ue,null,Le),ie())},i(i){if(!s){for(let f=0;f<r.length;f+=1)B(t[f]);s=!0}},o(i){for(let f=0;f<t.length;f+=1)N(t[f]);s=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Pt(n){let e,t="No dles found.";return{c(){e=j("div"),e.textContent=t,this.h()},l(l){e=z(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-vii9eq"&&(e.textContent=t),this.h()},h(){u(e,"class","no-results svelte-1wz6c9b")},m(l,s){T(l,e,s)},p:G,i:G,o:G,d(l){l&&_(e)}}}function Lt(n){let e,t,l;return t=new Be({}),{c(){e=j("div"),le(t.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);re(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","plus-icon svelte-1wz6c9b")},m(s,r){T(s,e,r),te(t,e,null),l=!0},i(s){l||(B(t.$$.fragment,s),l=!0)},o(s){N(t.$$.fragment,s),l=!1},d(s){s&&_(e),ee(t)}}}function Ut(n){let e,t='<div class="favorite-text svelte-1wz6c9b">Added!</div> <div class="favorite-subtext svelte-1wz6c9b">Click to remove</div>';return{c(){e=j("div"),e.innerHTML=t,this.h()},l(l){e=z(l,"DIV",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-127cu57"&&(e.innerHTML=t),this.h()},h(){u(e,"class","favorite-message svelte-1wz6c9b")},m(l,s){T(l,e,s)},i:G,o:G,d(l){l&&_(e)}}}function Ue(n,e){let t,l,s,r,a,i,f,o=e[28].name+"",v,c,p,d=e[28].category+"",h,b,A,k,m,y,L,E,D,I;var V=Pe[e[28].category];function P(O,S){return{}}V&&(r=$e(V,P()));const se=[Ut,Lt],Z=[];function fe(O,S){return S[0]&40&&(A=null),A==null&&(A=!!(O[29]&&O[12].has(O[28].id))),A?0:!O[29]&&!O[4]?1:-1}~(k=fe(e,[-1,-1]))&&(m=Z[k]=se[k](e));function we(){return e[21](e[28])}return{key:n,first:null,c(){t=j("button"),l=j("div"),s=j("div"),r&&le(r.$$.fragment),a=F(),i=j("div"),f=j("div"),v=Q(o),c=F(),p=j("div"),h=Q(d),b=F(),m&&m.c(),y=F(),this.h()},l(O){t=z(O,"BUTTON",{class:!0,title:!0});var S=C(t);l=z(S,"DIV",{class:!0});var $=C(l);s=z($,"DIV",{class:!0,style:!0});var x=C(s);r&&re(r.$$.fragment,x),x.forEach(_),a=U($),i=z($,"DIV",{class:!0});var ae=C(i);f=z(ae,"DIV",{class:!0});var ne=C(f);v=W(ne,o),ne.forEach(_),c=U(ae),p=z(ae,"DIV",{class:!0});var ce=C(p);h=W(ce,d),ce.forEach(_),ae.forEach(_),$.forEach(_),b=U(S),m&&m.l(S),y=U(S),S.forEach(_),this.h()},h(){u(s,"class","category-icon svelte-1wz6c9b"),X(s,"background-color",e[11][e[28].category]),u(f,"class","dle-name svelte-1wz6c9b"),u(p,"class","dle-category svelte-1wz6c9b"),u(i,"class","dle-details svelte-1wz6c9b"),u(l,"class","dle-info svelte-1wz6c9b"),u(t,"class","result-item svelte-1wz6c9b"),u(t,"title",L=e[29]?`Remove ${e[28].name} from favorites`:`Add ${e[28].name} to favorites`),R(t,"favorited",e[29]),R(t,"even-row",e[31]%2===0),R(t,"odd-row",e[31]%2!==0),this.first=t},m(O,S){T(O,t,S),w(t,l),w(l,s),r&&te(r,s,null),w(l,a),w(l,i),w(i,f),w(f,v),w(i,c),w(i,p),w(p,h),w(t,b),~k&&Z[k].m(t,null),w(t,y),E=!0,D||(I=J(t,"click",we),D=!0)},p(O,S){if(e=O,S[0]&8&&V!==(V=Pe[e[28].category])){if(r){oe();const x=r;N(x.$$.fragment,1,0,()=>{ee(x,1)}),ie()}V?(r=$e(V,P()),le(r.$$.fragment),B(r.$$.fragment,1),te(r,s,null)):r=null}(!E||S[0]&2056)&&X(s,"background-color",e[11][e[28].category]),(!E||S[0]&8)&&o!==(o=e[28].name+"")&&ue(v,o),(!E||S[0]&8)&&d!==(d=e[28].category+"")&&ue(h,d);let $=k;k=fe(e,S),k!==$&&(m&&(oe(),N(Z[$],1,1,()=>{Z[$]=null}),ie()),~k?(m=Z[k],m||(m=Z[k]=se[k](e),m.c()),B(m,1),m.m(t,y)):m=null),(!E||S[0]&40&&L!==(L=e[29]?`Remove ${e[28].name} from favorites`:`Add ${e[28].name} to favorites`))&&u(t,"title",L),(!E||S[0]&4136)&&R(t,"favorited",e[29]),(!E||S[0]&8)&&R(t,"even-row",e[31]%2===0),(!E||S[0]&8)&&R(t,"odd-row",e[31]%2!==0)},i(O){E||(r&&B(r.$$.fragment,O),B(m),E=!0)},o(O){r&&N(r.$$.fragment,O),N(m),E=!1},d(O){O&&_(t),r&&ee(r),~k&&Z[k].d(),D=!1,I()}}}function Ft(n){let e,t,l,s,r,a,i,f,o,v,c,p,d;t=new Dt({props:{title:"Add a new favorite!",onClose:n[0],variant:"inline"}});const h=[Pt,$t],b=[];function A(k,m){return m[0]&12&&(f=null),f==null&&(f=!!(k[2].trim()&&k[3].length===0)),f?0:k[3].length>0?1:-1}return~(o=A(n,[-1,-1]))&&(v=b[o]=h[o](n)),{c(){e=j("div"),le(t.$$.fragment),l=F(),s=j("div"),r=j("input"),a=F(),i=j("div"),v&&v.c(),this.h()},l(k){e=z(k,"DIV",{class:!0,style:!0});var m=C(e);re(t.$$.fragment,m),l=U(m),s=z(m,"DIV",{class:!0});var y=C(s);r=z(y,"INPUT",{type:!0,placeholder:!0,class:!0}),y.forEach(_),a=U(m),i=z(m,"DIV",{class:!0});var L=C(i);v&&v.l(L),L.forEach(_),m.forEach(_),this.h()},h(){u(r,"type","text"),u(r,"placeholder","Search dles..."),u(r,"class","search-input svelte-1wz6c9b"),u(s,"class","search-header svelte-1wz6c9b"),u(i,"class","results-container svelte-1wz6c9b"),u(e,"class","searchPopup svelte-1wz6c9b"),X(e,"left",n[6]+(typeof n[6]=="number"?"px":"")),X(e,"top",n[7]+(typeof n[7]=="number"?"px":"")),X(e,"width",ye+"px"),X(e,"height",n[10]+"px"),X(e,"transform","translate("+n[8]+", "+n[9]+")"),X(e,"z-index",n[1])},m(k,m){T(k,e,m),te(t,e,null),w(e,l),w(e,s),w(s,r),Ne(r,n[2]),w(e,a),w(e,i),~o&&b[o].m(i,null),c=!0,p||(d=[J(r,"input",n[20]),Ve(Bt.call(null,r))],p=!0)},p(k,m){const y={};m[0]&1&&(y.onClose=k[0]),t.$set(y),m[0]&4&&r.value!==k[2]&&Ne(r,k[2]);let L=o;o=A(k,m),o===L?~o&&b[o].p(k,m):(v&&(oe(),N(b[L],1,1,()=>{b[L]=null}),ie()),~o?(v=b[o],v?v.p(k,m):(v=b[o]=h[o](k),v.c()),B(v,1),v.m(i,null)):v=null),(!c||m[0]&64)&&X(e,"left",k[6]+(typeof k[6]=="number"?"px":"")),(!c||m[0]&128)&&X(e,"top",k[7]+(typeof k[7]=="number"?"px":"")),(!c||m[0]&1024)&&X(e,"height",k[10]+"px"),(!c||m[0]&768)&&X(e,"transform","translate("+k[8]+", "+k[9]+")"),(!c||m[0]&2)&&X(e,"z-index",k[1])},i(k){c||(B(t.$$.fragment,k),B(v),c=!0)},o(k){N(t.$$.fragment,k),N(v),c=!1},d(k){k&&_(e),ee(t),~o&&b[o].d(),p=!1,ge(d)}}}function Ot(n){let e,t;return e=new It({props:{onClose:n[0],overlay:!0,zIndex:n[1],$$slots:{default:[Ft]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[0]&1&&(r.onClose=l[0]),s[0]&2&&(r.zIndex=l[1]),s[0]&4095|s[1]&2&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}let ye=320,Rt=120,Zt=400;function qt(n,e,t){let l,s,r,a,i;he(n,_e,S=>t(19,r=S)),he(n,wt,S=>t(23,a=S)),he(n,lt,S=>t(11,i=S));let{onClose:f}=e,{pageX:o=null}=e,{pageY:v=null}=e,{zIndex:c=100}=e;const p=St(),d=st();let h="",b=[],A=new Set,k=!1,m=new Map,y=new Set,L=[],E=null,D,I,V,P;function se(){const S=new Map;for(const $ of a)$!=null&&$.id&&($!=null&&$.name)&&S.set($.id,{dle:$,nameLower:$.name.toLowerCase(),nameFirstChar:$.name.toLowerCase().charAt(0)});m=S}function Z(S){if(!S.trim()){t(3,b=[]);return}const $=S.toLowerCase(),x=[],ae=50;for(const[ne,{dle:ce,nameLower:De}]of m)if(!(y.has(ne)&&!A.has(ne))&&De.includes($)){const Se=De.startsWith($)?0:1;if(x.push({dle:ce,sortScore:Se,name:ce.name}),x.length>=ae&&Se===0)break}x.sort((ne,ce)=>ne.sortScore!==ce.sortScore?ne.sortScore-ce.sortScore:ne.name.localeCompare(ce.name)),t(3,b=x.slice(0,ae).map(ne=>ne.dle))}function fe(S){const $=p.toggleFavorite(S);$.success&&(A.add(S.id),d.trackFavoriteAction(S,$.action,"search-modal","favorites-search",null,$.totalFavorites))}bt(()=>{t(4,k="ontouchstart"in window||navigator.maxTouchPoints>0),se()});function we(){h=this.value,t(2,h)}const O=S=>fe(S);return n.$$set=S=>{"onClose"in S&&t(0,f=S.onClose),"pageX"in S&&t(14,o=S.pageX),"pageY"in S&&t(15,v=S.pageY),"zIndex"in S&&t(1,c=S.zIndex)},n.$$.update=()=>{if(n.$$.dirty[0]&8&&t(10,l=b.length>0?Zt:Rt),n.$$.dirty[0]&311296)if(s||o===null||v===null)t(6,D="50%"),t(7,I="2%"),t(8,V="-50%"),t(9,P="0%");else{let S=o;S<ye/2&&(S=ye/2+5),S+ye/2>document.documentElement.clientWidth&&(S=document.documentElement.clientWidth-ye/2-5);const $=v-window.scrollY;t(7,I=$-68),t(9,P="0%"),t(6,D=S),t(8,V="-50%")}n.$$.dirty[0]&589824&&r!==L&&(t(5,y=new Set(r)),t(16,L=r)),n.$$.dirty[0]&131076&&(E&&cancelAnimationFrame(E),t(17,E=requestAnimationFrame(()=>{Z(h),t(17,E=null)})))},t(18,s=typeof window<"u"&&window.innerWidth<=768),[f,c,h,b,k,y,D,I,V,P,l,i,A,fe,o,v,L,E,s,r,we,O]}class Ht extends Ce{constructor(e){super(),Ie(this,e,qt,Ot,Ee,{onClose:0,pageX:14,pageY:15,zIndex:1},null,[-1,-1])}}function Yt(n){let e,t;return{c(){e=H("svg"),t=H("path"),this.h()},l(l){e=q(l,"svg",{xmlns:!0,class:!0,viewBox:!0,width:!0,height:!0});var s=C(e);t=q(s,"path",{d:!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"d","M15.676 17.312h.048a3.978 3.978 0 0 0-.436-.78L4.174 10.186c-.37.13-.607.519-.607 1.109v9.84c0 1.034.726 2.291 1.621 2.808l9.168 5.294c.544.314 1.026.282 1.32-.023V17.312zm-5.627 6.922-1.83-1.057v-1.918l1.83 1.057v1.918zm1.556-4.241c-.132.2-.357.369-.674.505l-.324.12c-.23.09-.38.183-.451.278a.609.609 0 0 0-.106.38v.242l-1.83-1.056v-.264c0-.294.056-.523.167-.685.111-.165.346-.321.705-.466l.324-.125c.193-.076.333-.171.421-.285a.642.642 0 0 0 .137-.417c0-.251-.081-.494-.243-.728a2.047 2.047 0 0 0-.679-.608 2.828 2.828 0 0 0-.887-.329 3.19 3.19 0 0 0-.994-.04v-1.691c.409.085.782.19 1.12.313s.664.276.978.457c.825.476 1.453 1.019 1.886 1.627.433.605.649 1.251.649 1.937 0 .352-.066.63-.198.834zM27.111 8.247 17.58 2.733c-.895-.518-2.346-.518-3.241 0L4.808 8.247c-.763.442-.875 1.117-.336 1.628l10.578 6.04a3.86 3.86 0 0 0 1.832-.003l10.589-6.06c.512-.508.392-1.17-.36-1.605zm-10.806 2.17-.23-.129c-.257-.144-.421-.307-.492-.488-.074-.183-.062-.474.037-.874l.095-.359c.055-.214.061-.389.016-.525a.552.552 0 0 0-.277-.329c-.219-.123-.482-.167-.788-.133a2.509 2.509 0 0 0-.958.326 3.996 3.996 0 0 0-1.507 1.545l-1.476-.827c.332-.333.658-.625.978-.875s.659-.474 1.015-.674c.934-.524 1.803-.835 2.607-.934.8-.101 1.5.016 2.098.352.307.172.508.368.603.589.092.219.097.507.016.865l-.1.356c-.066.255-.08.438-.041.55.035.11.124.205.265.284l.212.118-2.074 1.162zm2.369 1.327-1.673-.937 2.074-1.162 1.673.937-2.074 1.162zm9.073-1.57-11.06 6.329a3.97 3.97 0 0 0-.459.813v11.84c.287.358.793.414 1.37.081l9.168-5.294c.895-.517 1.621-1.774 1.621-2.808v-9.84c0-.608-.251-1.003-.641-1.121zm-4.6 13.506-1.83 1.056v-1.918l1.83-1.057v1.918zm1.556-6.037c-.132.353-.357.78-.674 1.284l-.324.494c-.23.355-.38.622-.451.799a1.33 1.33 0 0 0-.106.503v.242l-1.83 1.056v-.264c0-.294.056-.587.167-.878.111-.294.346-.721.705-1.279l.324-.5c.193-.298.333-.555.421-.771.091-.218.137-.409.137-.575 0-.251-.081-.4-.243-.447-.162-.05-.389.009-.679.177-.274.158-.569.39-.887.695-.318.302-.649.671-.994 1.107v-1.692c.409-.387.782-.714 1.12-.981s.664-.491.978-.673c.825-.476 1.453-.659 1.886-.55.433.106.649.502.649 1.188 0 .352-.066.706-.198 1.062z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","btn-svg"),u(e,"viewBox","0 0 32 32"),u(e,"width","24"),u(e,"height","24")},m(l,s){T(l,e,s),w(e,t)},p:G,i:G,o:G,d(l){l&&_(e)}}}class Kt extends Ce{constructor(e){super(),Ie(this,e,null,Yt,Ee,{})}}function Fe(n,e,t){const l=n.slice();l[50]=e[t];const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function Oe(n,e,t){const l=n.slice();l[50]=e[t],l[55]=t;const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function Re(n,e,t){const l=n.slice();l[50]=e[t],l[55]=t;const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function Ze(n){let e,t,l,s,r,a,i,f,o,v,c="A-Z by Name",p,d,h="A-Z by Category",b,A,k,m,y,L;t=new be({props:{size:"sm",color:"green",icon:Be,$$slots:{default:[Xt]},$$scope:{ctx:n}}}),t.$on("click",n[28]),s=new be({props:{size:"sm",color:"blue",class:n[0]?"reorder-active":"",$$slots:{default:[Gt]},$$scope:{ctx:n}}}),s.$on("click",n[16]),i=new be({props:{size:"sm",color:"blue",class:"sort-button",$$slots:{default:[Jt]},$$scope:{ctx:n}}}),i.$on("click",n[14]),A=new be({props:{size:"sm",color:"orange",icon:Kt,$$slots:{default:[Wt]},$$scope:{ctx:n}}}),A.$on("click",n[27]);let E=n[10]&&qe(n);return{c(){e=j("div"),le(t.$$.fragment),l=F(),le(s.$$.fragment),r=F(),a=j("div"),le(i.$$.fragment),f=F(),o=j("div"),v=j("button"),v.textContent=c,p=F(),d=j("button"),d.textContent=h,b=F(),le(A.$$.fragment),k=F(),E&&E.c(),this.h()},l(D){e=z(D,"DIV",{class:!0});var I=C(e);re(t.$$.fragment,I),l=U(I),re(s.$$.fragment,I),r=U(I),a=z(I,"DIV",{class:!0});var V=C(a);re(i.$$.fragment,V),f=U(V),o=z(V,"DIV",{class:!0});var P=C(o);v=z(P,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(v)!=="svelte-89w2uc"&&(v.textContent=c),p=U(P),d=z(P,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(d)!=="svelte-15r7md7"&&(d.textContent=h),P.forEach(_),V.forEach(_),b=U(I),re(A.$$.fragment,I),k=U(I),E&&E.l(I),I.forEach(_),this.h()},h(){u(v,"class","sort-option svelte-jyp8di"),u(d,"class","sort-option svelte-jyp8di"),u(o,"class","sort-dropdown svelte-jyp8di"),R(o,"hidden",!n[8]),u(a,"class","sort-dropdown-container svelte-jyp8di"),u(e,"class","actions-bar svelte-jyp8di")},m(D,I){T(D,e,I),te(t,e,null),w(e,l),te(s,e,null),w(e,r),w(e,a),te(i,a,null),w(a,f),w(a,o),w(o,v),w(o,p),w(o,d),w(e,b),te(A,e,null),w(e,k),E&&E.m(e,null),m=!0,y||(L=[J(v,"click",n[22]),J(d,"click",n[21])],y=!0)},p(D,I){const V={};I[1]&67108864&&(V.$$scope={dirty:I,ctx:D}),t.$set(V);const P={};I[0]&1&&(P.class=D[0]?"reorder-active":""),I[0]&1|I[1]&67108864&&(P.$$scope={dirty:I,ctx:D}),s.$set(P);const se={};I[0]&256|I[1]&67108864&&(se.$$scope={dirty:I,ctx:D}),i.$set(se),(!m||I[0]&256)&&R(o,"hidden",!D[8]);const Z={};I[1]&67108864&&(Z.$$scope={dirty:I,ctx:D}),A.$set(Z),D[10]?E?(E.p(D,I),I[0]&1024&&B(E,1)):(E=qe(D),E.c(),B(E,1),E.m(e,null)):E&&(oe(),N(E,1,1,()=>{E=null}),ie())},i(D){m||(B(t.$$.fragment,D),B(s.$$.fragment,D),B(i.$$.fragment,D),B(A.$$.fragment,D),B(E),m=!0)},o(D){N(t.$$.fragment,D),N(s.$$.fragment,D),N(i.$$.fragment,D),N(A.$$.fragment,D),N(E),m=!1},d(D){D&&_(e),ee(t),ee(s),ee(i),ee(A),E&&E.d(),y=!1,ge(L)}}}function Xt(n){let e;return{c(){e=Q("Add")},l(t){e=W(t,"Add")},m(t,l){T(t,e,l)},d(t){t&&_(e)}}}function Gt(n){let e=n[0]?"Done":"Reorder",t;return{c(){t=Q(e)},l(l){t=W(l,e)},m(l,s){T(l,t,s)},p(l,s){s[0]&1&&e!==(e=l[0]?"Done":"Reorder")&&ue(t,e)},d(l){l&&_(t)}}}function Jt(n){let e,t,l;return{c(){e=Q(`Sort
          `),t=H("svg"),l=H("path"),this.h()},l(s){e=W(s,`Sort
          `),t=q(s,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0});var r=C(t);l=q(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(l).forEach(_),r.forEach(_),this.h()},h(){u(l,"fill-rule","evenodd"),u(l,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),u(l,"clip-rule","evenodd"),u(l,"class","svelte-jyp8di"),u(t,"class","sort-chevron svelte-jyp8di"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 20 20"),u(t,"fill","currentColor"),R(t,"open",n[8])},m(s,r){T(s,e,r),T(s,t,r),w(t,l)},p(s,r){r[0]&256&&R(t,"open",s[8])},d(s){s&&(_(e),_(t))}}}function Wt(n){let e;return{c(){e=Q("Random")},l(t){e=W(t,"Random")},m(t,l){T(t,e,l)},d(t){t&&_(e)}}}function qe(n){let e,t;return e=new be({props:{size:"sm",color:"neutral",$$slots:{default:[Qt]},$$scope:{ctx:n}}}),e.$on("click",n[15]),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[1]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function Qt(n){let e;return{c(){e=Q("Undo")},l(t){e=W(t,"Undo")},m(t,l){T(t,e,l)},d(t){t&&_(e)}}}function xt(n){let e,t,l,s=[],r=new Map,a,i;const f=[ll,tl],o=[];function v(d,h){return d[4]==="row"?0:1}e=v(n),t=o[e]=f[e](n);let c=me(n[6]);const p=d=>d[50].id;for(let d=0;d<c.length;d+=1){let h=Fe(n,c,d),b=p(h);r.set(b,s[d]=Je(b,h))}return{c(){t.c(),l=F();for(let d=0;d<s.length;d+=1)s[d].c();a=pe()},l(d){t.l(d),l=U(d);for(let h=0;h<s.length;h+=1)s[h].l(d);a=pe()},m(d,h){o[e].m(d,h),T(d,l,h);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(d,h);T(d,a,h),i=!0},p(d,h){let b=e;e=v(d),e===b?o[e].p(d,h):(oe(),N(o[b],1,1,()=>{o[b]=null}),ie(),t=o[e],t?t.p(d,h):(t=o[e]=f[e](d),t.c()),B(t,1),t.m(l.parentNode,l)),h[0]&67111106&&(c=me(d[6]),oe(),s=je(s,h,p,1,d,c,r,a.parentNode,Te,Je,a,Fe),ie())},i(d){if(!i){B(t);for(let h=0;h<c.length;h+=1)B(s[h]);i=!0}},o(d){N(t);for(let h=0;h<s.length;h+=1)N(s[h]);i=!1},d(d){d&&(_(l),_(a)),o[e].d(d);for(let h=0;h<s.length;h+=1)s[h].d(d)}}}function el(n){let e,t,l="No favorites yet.",s,r,a;return r=new be({props:{size:"sm",color:"green",icon:Be,$$slots:{default:[cl]},$$scope:{ctx:n}}}),r.$on("click",n[28]),{c(){e=j("div"),t=j("p"),t.textContent=l,s=F(),le(r.$$.fragment),this.h()},l(i){e=z(i,"DIV",{class:!0});var f=C(e);t=z(f,"P",{class:!0,"data-svelte-h":!0}),ve(t)!=="svelte-d5qb2q"&&(t.textContent=l),s=U(f),re(r.$$.fragment,f),f.forEach(_),this.h()},h(){u(t,"class","empty-message svelte-jyp8di"),u(e,"class","empty-state svelte-jyp8di")},m(i,f){T(i,e,f),w(e,t),w(e,s),te(r,e,null),a=!0},p(i,f){const o={};f[1]&67108864&&(o.$$scope={dirty:f,ctx:i}),r.$set(o)},i(i){a||(B(r.$$.fragment,i),a=!0)},o(i){N(r.$$.fragment,i),a=!1},d(i){i&&_(e),ee(r)}}}function tl(n){let e,t=[],l=new Map,s,r,a,i=me(n[6]);const f=o=>o[50].id;for(let o=0;o<i.length;o+=1){let v=Oe(n,i,o),c=f(v);l.set(c,t[o]=Ye(c,v))}return{c(){e=j("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=z(o,"DIV",{class:!0});var v=C(e);for(let c=0;c<t.length;c+=1)t[c].l(v);v.forEach(_),this.h()},h(){u(e,"class","favorites-grid svelte-jyp8di")},m(o,v){T(o,e,v);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r||(a=[Ve(s=nt.call(null,e,{items:n[6],dragDisabled:!n[0],dropTargetStyle:{},type:n[1]})),J(e,"consider",n[17]),J(e,"finalize",n[18])],r=!0)},p(o,v){v[0]&58732743&&(i=me(o[6]),t=je(t,v,f,1,o,i,l,e,kt,Ye,null,Oe)),s&&tt(s.update)&&v[0]&67&&s.update.call(null,{items:o[6],dragDisabled:!o[0],dropTargetStyle:{},type:o[1]})},i:G,o:G,d(o){o&&_(e);for(let v=0;v<t.length;v+=1)t[v].d();r=!1,ge(a)}}}function ll(n){let e,t,l=[],s=new Map,r,a,i,f,o=me(n[6]);const v=c=>c[50].id;for(let c=0;c<o.length;c+=1){let p=Re(n,o,c),d=v(p);s.set(d,l[c]=Xe(d,p))}return{c(){e=j("div"),t=j("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=z(c,"DIV",{class:!0});var p=C(e);t=z(p,"DIV",{class:!0});var d=C(t);for(let h=0;h<l.length;h+=1)l[h].l(d);d.forEach(_),p.forEach(_),this.h()},h(){u(t,"class","favorites-list svelte-jyp8di"),u(e,"class","reorder-wrapper svelte-jyp8di"),R(e,"reorder-mode",n[0])},m(c,p){T(c,e,p),w(e,t);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null);a=!0,i||(f=[Ve(r=nt.call(null,t,{items:n[6],dragDisabled:!n[0],dropTargetStyle:{},type:n[1],transformDraggedElement:xe})),J(t,"consider",n[17]),J(t,"finalize",n[18])],i=!0)},p(c,p){p[0]&60305607&&(o=me(c[6]),oe(),l=je(l,p,v,1,c,o,s,t,Te,Xe,null,Re),ie()),r&&tt(r.update)&&p[0]&67&&r.update.call(null,{items:c[6],dragDisabled:!c[0],dropTargetStyle:{},type:c[1],transformDraggedElement:xe}),(!a||p[0]&1)&&R(e,"reorder-mode",c[0])},i(c){if(!a){for(let p=0;p<o.length;p+=1)B(l[p]);a=!0}},o(c){for(let p=0;p<l.length;p+=1)N(l[p]);a=!1},d(c){c&&_(e);for(let p=0;p<l.length;p+=1)l[p].d();i=!1,ge(f)}}}function sl(n){let e,t=n[50].name+"",l,s=n[51],r,a;const i=()=>n[40](e,s),f=()=>n[40](null,s);function o(...c){return n[41](n[50],n[55],...c)}function v(){return n[42](n[50],n[55])}return{c(){e=j("span"),l=Q(t),this.h()},l(c){e=z(c,"SPAN",{class:!0,role:!0,tabindex:!0});var p=C(e);l=W(p,t),p.forEach(_),this.h()},h(){u(e,"class","dle-name-btn grid-name svelte-jyp8di"),u(e,"role","button"),u(e,"tabindex","0")},m(c,p){T(c,e,p),w(e,l),i(),r||(a=[J(e,"click",o),J(e,"auxclick",v)],r=!0)},p(c,p){n=c,p[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(f(),s=n[51],i())},d(c){c&&_(e),f(),r=!1,ge(a)}}}function nl(n){let e,t=n[50].name+"",l,s=n[51];const r=()=>n[39](e,s),a=()=>n[39](null,s);return{c(){e=j("span"),l=Q(t),this.h()},l(i){e=z(i,"SPAN",{class:!0});var f=C(e);l=W(f,t),f.forEach(_),this.h()},h(){u(e,"class","dle-name-btn grid-name drag-mode svelte-jyp8di")},m(i,f){T(i,e,f),w(e,l),r()},p(i,f){n=i,f[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(a(),s=n[51],r())},d(i){i&&_(e),a()}}}function He(n){let e,t=n[50].category+"",l;return{c(){e=j("div"),l=Q(t),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);l=W(r,t),r.forEach(_),this.h()},h(){u(e,"class","dle-category svelte-jyp8di")},m(s,r){T(s,e,r),w(e,l)},p(s,r){r[0]&64&&t!==(t=s[50].category+"")&&ue(l,t)},d(s){s&&_(e)}}}function Ye(n,e){let t,l,s,r=e[55]+1+"",a,i,f,o,v,c,p="Play",d,h,b;function A(E,D){return E[0]?nl:sl}let k=A(e),m=k(e),y=e[2]&&He(e);function L(){return e[43](e[50],e[55])}return{key:n,first:null,c(){t=j("div"),l=j("div"),s=j("div"),a=Q(r),i=F(),f=j("div"),m.c(),o=F(),y&&y.c(),v=F(),c=j("button"),c.textContent=p,d=F(),this.h()},l(E){t=z(E,"DIV",{class:!0});var D=C(t);l=z(D,"DIV",{class:!0});var I=C(l);s=z(I,"DIV",{class:!0,style:!0});var V=C(s);a=W(V,r),V.forEach(_),i=U(I),f=z(I,"DIV",{class:!0});var P=C(f);m.l(P),o=U(P),y&&y.l(P),P.forEach(_),I.forEach(_),v=U(D),c=z(D,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(c)!=="svelte-16l9gop"&&(c.textContent=p),d=U(D),D.forEach(_),this.h()},h(){u(s,"class","position-number svelte-jyp8di"),X(s,"--category-color",e[13][e[50].category]),u(f,"class","grid-card-details svelte-jyp8di"),u(l,"class","grid-card-inner svelte-jyp8di"),u(c,"class","play-btn svelte-jyp8di"),u(t,"class","grid-card svelte-jyp8di"),R(t,"drag-enabled",e[0]),R(t,"played",e[12].has(e[50].id)),this.first=t},m(E,D){T(E,t,D),w(t,l),w(l,s),w(s,a),w(l,i),w(l,f),m.m(f,null),w(f,o),y&&y.m(f,null),w(t,v),w(t,c),w(t,d),h||(b=J(c,"click",L),h=!0)},p(E,D){e=E,D[0]&64&&r!==(r=e[55]+1+"")&&ue(a,r),D[0]&8256&&X(s,"--category-color",e[13][e[50].category]),k===(k=A(e))&&m?m.p(e,D):(m.d(1),m=k(e),m&&(m.c(),m.m(f,o))),e[2]?y?y.p(e,D):(y=He(e),y.c(),y.m(f,null)):y&&(y.d(1),y=null),D[0]&1&&R(t,"drag-enabled",e[0]),D[0]&4160&&R(t,"played",e[12].has(e[50].id))},d(E){E&&_(t),m.d(),y&&y.d(),h=!1,b()}}}function rl(n){let e,t=n[50].name+"",l,s=n[51],r,a;const i=()=>n[33](e,s),f=()=>n[33](null,s);function o(...c){return n[34](n[50],n[55],...c)}function v(){return n[35](n[50],n[55])}return{c(){e=j("span"),l=Q(t),this.h()},l(c){e=z(c,"SPAN",{class:!0,role:!0,tabindex:!0});var p=C(e);l=W(p,t),p.forEach(_),this.h()},h(){u(e,"class","dle-name-btn svelte-jyp8di"),u(e,"role","button"),u(e,"tabindex","0")},m(c,p){T(c,e,p),w(e,l),i(),r||(a=[J(e,"click",o),J(e,"auxclick",v)],r=!0)},p(c,p){n=c,p[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(f(),s=n[51],i())},d(c){c&&_(e),f(),r=!1,ge(a)}}}function ol(n){let e,t=n[50].name+"",l,s=n[51];const r=()=>n[32](e,s),a=()=>n[32](null,s);return{c(){e=j("span"),l=Q(t),this.h()},l(i){e=z(i,"SPAN",{class:!0});var f=C(e);l=W(f,t),f.forEach(_),this.h()},h(){u(e,"class","dle-name-btn drag-mode svelte-jyp8di")},m(i,f){T(i,e,f),w(e,l),r()},p(i,f){n=i,f[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(a(),s=n[51],r())},d(i){i&&_(e),a()}}}function Ke(n){let e,t=n[50].category+"",l;return{c(){e=j("div"),l=Q(t),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);l=W(r,t),r.forEach(_),this.h()},h(){u(e,"class","dle-category svelte-jyp8di")},m(s,r){T(s,e,r),w(e,l)},p(s,r){r[0]&64&&t!==(t=s[50].category+"")&&ue(l,t)},d(s){s&&_(e)}}}function il(n){let e,t="Play",l,s;function r(){return n[38](n[50],n[55])}return{c(){e=j("button"),e.textContent=t,this.h()},l(a){e=z(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1e1gng9"&&(e.textContent=t),this.h()},h(){u(e,"class","play-btn svelte-jyp8di")},m(a,i){T(a,e,i),l||(s=J(e,"click",r),l=!0)},p(a,i){n=a},i:G,o:G,d(a){a&&_(e),l=!1,s()}}}function al(n){let e,t,l,s,r,a,i,f,o,v,c,p,d,h,b;function A(){return n[36](n[55])}function k(){return n[37](n[55])}return p=new Tt({}),{c(){e=j("button"),t=H("svg"),l=H("path"),r=F(),a=j("button"),i=H("svg"),f=H("path"),v=F(),c=j("div"),le(p.$$.fragment),this.h()},l(m){e=z(m,"BUTTON",{class:!0,title:!0});var y=C(e);t=q(y,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var L=C(t);l=q(L,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(l).forEach(_),L.forEach(_),y.forEach(_),r=U(m),a=z(m,"BUTTON",{class:!0,title:!0});var E=C(a);i=q(E,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var D=C(i);f=q(D,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(f).forEach(_),D.forEach(_),E.forEach(_),v=U(m),c=z(m,"DIV",{class:!0});var I=C(c);re(p.$$.fragment,I),I.forEach(_),this.h()},h(){u(l,"fill-rule","evenodd"),u(l,"d","M10.53 15.28a.75.75 0 0 1-1.06 0l-4.25-4.25a.75.75 0 1 1 1.06-1.06L10 13.69l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25ZM14.78 5.47a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 6.53a.75.75 0 0 1 1.06-1.06L10 9.19l3.72-3.72a.75.75 0 0 1 1.06 0Z"),u(l,"clip-rule","evenodd"),u(l,"class","svelte-jyp8di"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 20 20"),u(t,"fill","currentColor"),u(t,"class","rotate-180 svelte-jyp8di"),u(e,"class","move-btn svelte-jyp8di"),e.disabled=s=n[55]===0,u(e,"title","Move to top"),u(f,"fill-rule","evenodd"),u(f,"d","M10.53 15.28a.75.75 0 0 1-1.06 0l-4.25-4.25a.75.75 0 1 1 1.06-1.06L10 13.69l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25ZM14.78 5.47a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 6.53a.75.75 0 0 1 1.06-1.06L10 9.19l3.72-3.72a.75.75 0 0 1 1.06 0Z"),u(f,"clip-rule","evenodd"),u(f,"class","svelte-jyp8di"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(i,"viewBox","0 0 20 20"),u(i,"fill","currentColor"),u(i,"class","svelte-jyp8di"),u(a,"class","move-btn svelte-jyp8di"),a.disabled=o=n[55]===n[6].length-1,u(a,"title","Move to bottom"),u(c,"class","drag-handle svelte-jyp8di")},m(m,y){T(m,e,y),w(e,t),w(t,l),T(m,r,y),T(m,a,y),w(a,i),w(i,f),T(m,v,y),T(m,c,y),te(p,c,null),d=!0,h||(b=[J(e,"click",A),J(a,"click",k)],h=!0)},p(m,y){n=m,(!d||y[0]&64&&s!==(s=n[55]===0))&&(e.disabled=s),(!d||y[0]&64&&o!==(o=n[55]===n[6].length-1))&&(a.disabled=o)},i(m){d||(B(p.$$.fragment,m),d=!0)},o(m){N(p.$$.fragment,m),d=!1},d(m){m&&(_(e),_(r),_(a),_(v),_(c)),ee(p),h=!1,ge(b)}}}function Xe(n,e){let t,l,s,r=e[55]+1+"",a,i,f,o,v,c,p,d,h,b;function A(I,V){return I[0]?ol:rl}let k=A(e),m=k(e),y=e[2]&&Ke(e);const L=[al,il],E=[];function D(I,V){return I[0]?0:1}return p=D(e),d=E[p]=L[p](e),{key:n,first:null,c(){t=j("div"),l=j("div"),s=j("div"),a=Q(r),i=F(),f=j("div"),m.c(),o=F(),y&&y.c(),v=F(),c=j("div"),d.c(),h=F(),this.h()},l(I){t=z(I,"DIV",{class:!0});var V=C(t);l=z(V,"DIV",{class:!0});var P=C(l);s=z(P,"DIV",{class:!0,style:!0});var se=C(s);a=W(se,r),se.forEach(_),i=U(P),f=z(P,"DIV",{class:!0});var Z=C(f);m.l(Z),o=U(Z),y&&y.l(Z),Z.forEach(_),P.forEach(_),v=U(V),c=z(V,"DIV",{class:!0});var fe=C(c);d.l(fe),fe.forEach(_),h=U(V),V.forEach(_),this.h()},h(){u(s,"class","position-number svelte-jyp8di"),X(s,"--category-color",e[13][e[50].category]),u(f,"class","dle-details svelte-jyp8di"),u(l,"class","dle-info svelte-jyp8di"),u(c,"class","favorite-actions svelte-jyp8di"),u(t,"class","favorite-item svelte-jyp8di"),R(t,"even-row",e[55]%2===0),R(t,"odd-row",e[55]%2!==0),R(t,"drag-enabled",e[0]),R(t,"played",e[12].has(e[50].id)),this.first=t},m(I,V){T(I,t,V),w(t,l),w(l,s),w(s,a),w(l,i),w(l,f),m.m(f,null),w(f,o),y&&y.m(f,null),w(t,v),w(t,c),E[p].m(c,null),w(t,h),b=!0},p(I,V){e=I,(!b||V[0]&64)&&r!==(r=e[55]+1+"")&&ue(a,r),(!b||V[0]&8256)&&X(s,"--category-color",e[13][e[50].category]),k===(k=A(e))&&m?m.p(e,V):(m.d(1),m=k(e),m&&(m.c(),m.m(f,o))),e[2]?y?y.p(e,V):(y=Ke(e),y.c(),y.m(f,null)):y&&(y.d(1),y=null);let P=p;p=D(e),p===P?E[p].p(e,V):(oe(),N(E[P],1,1,()=>{E[P]=null}),ie(),d=E[p],d?d.p(e,V):(d=E[p]=L[p](e),d.c()),B(d,1),d.m(c,null)),(!b||V[0]&64)&&R(t,"even-row",e[55]%2===0),(!b||V[0]&64)&&R(t,"odd-row",e[55]%2!==0),(!b||V[0]&1)&&R(t,"drag-enabled",e[0]),(!b||V[0]&4160)&&R(t,"played",e[12].has(e[50].id))},i(I){b||(B(d),b=!0)},o(I){N(d),b=!1},d(I){I&&_(t),m.d(),y&&y.d(),E[p].d()}}}function Ge(n){let e,t;function l(...s){return n[44](n[50],...s)}return e=new Mt({props:{dle:n[50],handleClickOutside:n[26],section:n[1],position:n[6].findIndex(l),referenceEl:n[7][n[51]]}}),{c(){le(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,r){te(e,s,r),t=!0},p(s,r){n=s;const a={};r[0]&64&&(a.dle=n[50]),r[0]&2&&(a.section=n[1]),r[0]&64&&(a.position=n[6].findIndex(l)),r[0]&194&&(a.referenceEl=n[7][n[51]]),e.$set(a)},i(s){t||(B(e.$$.fragment,s),t=!0)},o(s){N(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Je(n,e){let t,l,s,r=e[11]===e[51]&&Ge(e);return{key:n,first:null,c(){t=pe(),r&&r.c(),l=pe(),this.h()},l(a){t=pe(),r&&r.l(a),l=pe(),this.h()},h(){this.first=t},m(a,i){T(a,t,i),r&&r.m(a,i),T(a,l,i),s=!0},p(a,i){e=a,e[11]===e[51]?r?(r.p(e,i),i[0]&2114&&B(r,1)):(r=Ge(e),r.c(),B(r,1),r.m(l.parentNode,l)):r&&(oe(),N(r,1,1,()=>{r=null}),ie())},i(a){s||(B(r),s=!0)},o(a){N(r),s=!1},d(a){a&&(_(t),_(l)),r&&r.d(a)}}}function cl(n){let e;return{c(){e=Q("Add Favorite")},l(t){e=W(t,"Add Favorite")},m(t,l){T(t,e,l)},d(t){t&&_(e)}}}function We(n){let e,t;return e=new Ht({props:{onClose:n[29],zIndex:n[3]}}),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[0]&8&&(r.zIndex=l[3]),e.$set(r)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function ul(n){let e,t,l,s,r,a,i,f,o=n[5].length>0&&Ze(n);const v=[el,xt],c=[];function p(h,b){return h[5].length===0?0:1}s=p(n),r=c[s]=v[s](n);let d=n[9]&&We(n);return{c(){e=j("div"),o&&o.c(),t=F(),l=j("div"),r.c(),a=F(),d&&d.c(),i=pe(),this.h()},l(h){e=z(h,"DIV",{class:!0});var b=C(e);o&&o.l(b),t=U(b),l=z(b,"DIV",{class:!0});var A=C(l);r.l(A),A.forEach(_),b.forEach(_),a=U(h),d&&d.l(h),i=pe(),this.h()},h(){u(l,"class","list-content svelte-jyp8di"),u(e,"class","favorites-list-container svelte-jyp8di")},m(h,b){T(h,e,b),o&&o.m(e,null),w(e,t),w(e,l),c[s].m(l,null),T(h,a,b),d&&d.m(h,b),T(h,i,b),f=!0},p(h,b){h[5].length>0?o?(o.p(h,b),b[0]&32&&B(o,1)):(o=Ze(h),o.c(),B(o,1),o.m(e,t)):o&&(oe(),N(o,1,1,()=>{o=null}),ie());let A=s;s=p(h),s===A?c[s].p(h,b):(oe(),N(c[A],1,1,()=>{c[A]=null}),ie(),r=c[s],r?r.p(h,b):(r=c[s]=v[s](h),r.c()),B(r,1),r.m(l,null)),h[9]?d?(d.p(h,b),b[0]&512&&B(d,1)):(d=We(h),d.c(),B(d,1),d.m(i.parentNode,i)):d&&(oe(),N(d,1,1,()=>{d=null}),ie())},i(h){f||(B(o),B(r),B(d),f=!0)},o(h){N(o),N(r),N(d),f=!1},d(h){h&&(_(e),_(a),_(i)),o&&o.d(),c[s].d(),d&&d.d(h)}}}function Qe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const xe=n=>{n.style.willChange="transform",n.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",n.style.opacity="0.95"};function fl(n,e,t){let l,s,r,a,i,f;he(n,ke,g=>t(11,s=g)),he(n,yt,g=>t(5,r=g)),he(n,_e,g=>t(45,a=g)),he(n,Et,g=>t(12,i=g)),he(n,lt,g=>t(13,f=g));let{section:o="favorites"}=e,{showCategory:v=!1}=e,{searchModalZIndex:c=1100}=e,{viewMode:p="row"}=e,{dragEnabled:d=!1}=e,h=[],b={},A=[],k=!1,m=!1;function y(){t(8,k=!k)}function L(){t(8,k=!1)}function E(){t(31,A=[...A,[...a]].slice(-10))}function D(){if(A.length===0)return;const g=A[A.length-1];t(31,A=A.slice(0,-1)),de(_e,a=g,a),localStorage.favorites=JSON.stringify(a)}function I(){t(0,d=!d),d||L()}function V(g){t(6,h=g.detail.items)}function P(g){t(6,h=g.detail.items),de(_e,a=h.map(M=>M.id),a),localStorage.favorites=JSON.stringify(a)}function se(g){if(g===0)return;E();const M=h[g];t(6,h=[M,...h.slice(0,g),...h.slice(g+1)]),de(_e,a=h.map(Y=>Y.id),a),localStorage.favorites=JSON.stringify(a)}function Z(g){if(g===h.length-1)return;E();const M=h[g];t(6,h=[...h.slice(0,g),...h.slice(g+1),M]),de(_e,a=h.map(Y=>Y.id),a),localStorage.favorites=JSON.stringify(a)}function fe(){L();const g=h.map(K=>K.id),M=[...h].sort((K,Ae)=>K.category.toLowerCase().localeCompare(Ae.category.toLowerCase())),Y=M.map(K=>K.id);Qe(g,Y)||(E(),t(6,h=M),de(_e,a=Y,a),localStorage.favorites=JSON.stringify(a))}function we(){L();const g=h.map(K=>K.id),M=[...h].sort((K,Ae)=>K.name.toLowerCase().localeCompare(Ae.name.toLowerCase())),Y=M.map(K=>K.id);Qe(g,Y)||(E(),t(6,h=M),de(_e,a=Y,a),localStorage.favorites=JSON.stringify(a))}const{trackGameClick:O}=st(),S=jt();function $(g,M){O(g,"play-button","favorites",o,M),S.markAsPlayed(g),Me(g.url)}function x(g,M,Y){if(g.ctrlKey||g.metaKey){O(M,"ctrl-click","favorites",o,Y),S.markAsPlayed(M),Me(M.url);return}const K=`${o}-${M.id}`;s===K?de(ke,s="",s):de(ke,s=K,s)}function ae(g,M){O(g,"middle-click","favorites",o,M),S.markAsPlayed(g),Me(g.url)}function ne(g){var K;const M=(K=g.detail)==null?void 0:K.originalEvent,Y=M==null?void 0:M.target;Y&&Y.closest(".dlePopUp")||de(ke,s="",s)}function ce(){const g={click_type:"random-button-favorites",section:o,available_options:r.length};At(r,g)}function De(){t(9,m=!0)}function Se(){t(9,m=!1)}function rt(){de(ke,s="",s)}function ot(g,M){ze[g?"unshift":"push"](()=>{b[M]=g,t(7,b)})}function it(g,M){ze[g?"unshift":"push"](()=>{b[M]=g,t(7,b)})}const at=(g,M,Y)=>x(Y,g,M),ct=(g,M)=>ae(g,M),ut=g=>se(g),ft=g=>Z(g),dt=(g,M)=>$(g,M);function ht(g,M){ze[g?"unshift":"push"](()=>{b[M]=g,t(7,b)})}function _t(g,M){ze[g?"unshift":"push"](()=>{b[M]=g,t(7,b)})}const pt=(g,M,Y)=>x(Y,g,M),vt=(g,M)=>ae(g,M),mt=(g,M)=>$(g,M),gt=(g,M)=>M.id===g.id;return n.$$set=g=>{"section"in g&&t(1,o=g.section),"showCategory"in g&&t(2,v=g.showCategory),"searchModalZIndex"in g&&t(3,c=g.searchModalZIndex),"viewMode"in g&&t(4,p=g.viewMode),"dragEnabled"in g&&t(0,d=g.dragEnabled)},n.$$.update=()=>{n.$$.dirty[0]&32&&t(6,h=r.map(g=>({...g,id:g.id}))),n.$$.dirty[1]&1&&t(10,l=A.length>0)},[d,o,v,c,p,r,h,b,k,m,l,s,i,f,y,D,I,V,P,se,Z,fe,we,$,x,ae,ne,ce,De,Se,rt,A,ot,it,at,ct,ut,ft,dt,ht,_t,pt,vt,mt,gt]}class yl extends Ce{constructor(e){super(),Ie(this,e,fl,ul,Ee,{section:1,showCategory:2,searchModalZIndex:3,viewMode:4,dragEnabled:0,clearPoppedUp:30},null,[-1,-1])}get clearPoppedUp(){return this.$$.ctx[30]}}function dl(n){let e,t,l;return{c(){e=H("svg"),t=H("rect"),l=H("rect"),this.h()},l(s){e=q(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=C(e);t=q(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(t).forEach(_),l=q(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(l).forEach(_),r.forEach(_),this.h()},h(){u(t,"x","2"),u(t,"y","3"),u(t,"width","16"),u(t,"height","5.5"),u(t,"rx","1"),u(l,"x","2"),u(l,"y","11.5"),u(l,"width","16"),u(l,"height","5.5"),u(l,"rx","1"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","svelte-1e6pysk")},m(s,r){T(s,e,r),w(e,t),w(e,l)},d(s){s&&_(e)}}}function hl(n){let e,t;return{c(){e=H("svg"),t=H("path"),this.h()},l(l){e=q(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=C(e);t=q(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","svelte-1e6pysk")},m(l,s){T(l,e,s),w(e,t)},d(l){l&&_(e)}}}function et(n){let e,t="NEW";return{c(){e=j("span"),e.textContent=t,this.h()},l(l){e=z(l,"SPAN",{class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-enrg1q"&&(e.textContent=t),this.h()},h(){u(e,"class","toggle-label svelte-1e6pysk")},m(l,s){T(l,e,s)},d(l){l&&_(e)}}}function _l(n){let e,t,l,s,r,a;function i(c,p){return c[1]==="row"?hl:dl}let f=i(n),o=f(n),v=n[0]&&n[2]&&et();return{c(){e=j("button"),o.c(),t=F(),v&&v.c(),this.h()},l(c){e=z(c,"BUTTON",{class:!0,title:!0,"aria-label":!0});var p=C(e);o.l(p),t=U(p),v&&v.l(p),p.forEach(_),this.h()},h(){u(e,"class","view-toggle svelte-1e6pysk"),u(e,"title",l=n[1]==="row"?"Switch to Grid view":"Switch to Row view"),u(e,"aria-label",s=n[1]==="row"?"Switch to Grid view":"Switch to Row view")},m(c,p){T(c,e,p),o.m(e,null),w(e,t),v&&v.m(e,null),r||(a=J(e,"click",n[5]),r=!0)},p(c,[p]){f!==(f=i(c))&&(o.d(1),o=f(c),o&&(o.c(),o.m(e,t))),c[0]&&c[2]?v||(v=et(),v.c(),v.m(e,null)):v&&(v.d(1),v=null),p&2&&l!==(l=c[1]==="row"?"Switch to Grid view":"Switch to Row view")&&u(e,"title",l),p&2&&s!==(s=c[1]==="row"?"Switch to Grid view":"Switch to Row view")&&u(e,"aria-label",s)},i:G,o:G,d(c){c&&_(e),o.d(),v&&v.d(),r=!1,a()}}}function pl(n,e,t){let l,s,{showBadge:r=!1}=e;const{viewMode:a,showNewBadge:i,toggle:f}=Ct;return he(n,a,o=>t(1,l=o)),he(n,i,o=>t(2,s=o)),n.$$set=o=>{"showBadge"in o&&t(0,r=o.showBadge)},[r,l,s,a,i,f]}class El extends Ce{constructor(e){super(),Ie(this,e,pl,_l,Ee,{showBadge:0})}}export{yl as F,Tt as I,Ht as S,El as V};
