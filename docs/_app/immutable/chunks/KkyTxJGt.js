import{D as N,s as te,o as Qe,x as Mt,r as Pe,z as Ht,A as Lt,B as Nt,f as ft,n as j,i as He,c as fe,e as ke,d as Qt}from"./w_vi9pvy.js";import{S as ne,i as oe,d as p,r as R,u as F,B as Le,C as Ne,a as W,l as z,D as Ae,A as Je,b as y,c as g,f as S,g as C,j as T,k as M,m as H,q as Z,o as Se,v as K,p as ye,e as X,w as Q,t as _e,s as Y,x as $,z as de,h as rt}from"./BHN_rrvk.js";import{i as $t,j as pe,k as en,b as re,p as Fe,s as bt,l as ue,m as kt,n as st,h as tn}from"./D_HLd4tE.js";import{w as nn}from"./4rnmUhQg.js";const Zo=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,xt={DEDICATED_SECTION:"dles-of-the-week",REGULAR_SECTION:"regular-section-dle-of-week"};function Ct(t,e,n,o,i=null){const l={dle_name:t.name,dle_id:t.id,click_type:e,section:o},s=on(t,o,i);return s&&(l.position_id=s),l}function on(t,e,n){if(n!==null&&e==="dles-of-the-week")return`${xt.DEDICATED_SECTION}-${n+1}`;if(e==="regular"){const o=rn(t);if(o!==-1)return`${xt.REGULAR_SECTION}-${o+1}`}return null}function rn(t){return N($t).findIndex(n=>n.id===t.id)}function qe(t,e,n=""){typeof window<"u"&&window.umami&&window.umami.track(t,e)}function ve(){let t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function sn(t,e=null){if(e){const n={dle_name:e.dle_name,dle_id:e.dle_id,click_type:e.click_type,section:e.section||"random"};e.position_id&&e.section&&e.section.includes("dles-of-the-week")&&(n.position_id=e.position_id),qe("game-click",n)}Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:t}).click()}function Ko(t,e=null){if(t.length!=0){const n=t[Math.floor(Math.random()*t.length)],o=e||{dle_name:n.name,dle_id:n.id,click_type:"random-button",section:"random"};e&&(o.dle_name=n.name,o.dle_id=n.id),sn(n.url,o)}}function Qo(t){const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"}));for(const o of t)if(new Date(o.date)<n)return o;return t[t.length-1]}function dt(t){const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",{detail:{originalEvent:n}}))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function ln(t){let e,n,o,i;const l=t[9].default,s=Mt(l,t,t[8],null);return{c(){e=T("div"),s&&s.c()},l(r){e=S(r,"DIV",{});var c=C(e);s&&s.l(c),c.forEach(p)},m(r,c){W(r,e,c),s&&s.m(e,null),n=!0,o||(i=[ft(dt.call(null,e)),z(e,"click_outside",t[3])],o=!0)},p(r,c){s&&s.p&&(!n||c&256)&&Ht(s,l,r,r[8],n?Nt(l,r[8],c,null):Lt(r[8]),null)},i(r){n||(F(s,r),n=!0)},o(r){R(s,r),n=!1},d(r){r&&p(e),s&&s.d(r),o=!1,Pe(i)}}}function cn(t){let e,n,o,i,l;const s=t[9].default,r=Mt(s,t,t[8],null);return{c(){e=T("div"),n=T("div"),r&&r.c(),this.h()},l(c){e=S(c,"DIV",{class:!0,style:!0});var a=C(e);n=S(a,"DIV",{});var u=C(n);r&&r.l(u),u.forEach(p),a.forEach(p),this.h()},h(){g(e,"class","modal-overlay svelte-q2lgn8"),Je(e,"z-index",t[1])},m(c,a){W(c,e,a),y(e,n),r&&r.m(n,null),o=!0,i||(l=[ft(dt.call(null,n)),z(n,"click_outside",t[3])],i=!0)},p(c,a){r&&r.p&&(!o||a&256)&&Ht(r,s,c,c[8],o?Nt(s,c[8],a,null):Lt(c[8]),null),(!o||a&2)&&Je(e,"z-index",c[1])},i(c){o||(F(r,c),o=!0)},o(c){R(r,c),o=!1},d(c){c&&p(e),r&&r.d(c),i=!1,Pe(l)}}}function an(t){let e,n,o,i,l,s;const r=[cn,ln],c=[];function a(u,d){return u[0]?0:1}return e=a(t),n=c[e]=r[e](t),{c(){n.c(),o=Ae()},l(u){n.l(u),o=Ae()},m(u,d){c[e].m(u,d),W(u,o,d),i=!0,l||(s=z(window,"keydown",t[2]),l=!0)},p(u,[d]){let h=e;e=a(u),e===h?c[e].p(u,d):(Le(),R(c[h],1,1,()=>{c[h]=null}),Ne(),n=c[e],n?n.p(u,d):(n=c[e]=r[e](u),n.c()),F(n,1),n.m(o.parentNode,o))},i(u){i||(F(n),i=!0)},o(u){R(n),i=!1},d(u){u&&p(o),c[e].d(u),l=!1,s()}}}function un(t,e,n){let{$$slots:o={},$$scope:i}=e,{onClose:l}=e,{overlay:s=!1}=e,{closeOnEscape:r=!0}=e,{closeOnClickOutside:c=!0}=e,{zIndex:a=100}=e,{lockScroll:u=!0}=e;Qe(()=>{if(u){const f=document.documentElement,m=f.style.overflow,v=f.style.scrollbarGutter;return f.style.overflow="hidden",f.style.scrollbarGutter="stable",()=>{f.style.overflow=m,f.style.scrollbarGutter=v}}});function d(f){r&&f.key==="Escape"&&l()}function h(){c&&l()}return t.$$set=f=>{"onClose"in f&&n(4,l=f.onClose),"overlay"in f&&n(0,s=f.overlay),"closeOnEscape"in f&&n(5,r=f.closeOnEscape),"closeOnClickOutside"in f&&n(6,c=f.closeOnClickOutside),"zIndex"in f&&n(1,a=f.zIndex),"lockScroll"in f&&n(7,u=f.lockScroll),"$$scope"in f&&n(8,i=f.$$scope)},[s,a,d,h,l,r,c,u,i,o]}class fn extends ne{constructor(e){super(),oe(this,e,un,an,te,{onClose:4,overlay:0,closeOnEscape:5,closeOnClickOutside:6,zIndex:1,lockScroll:7})}}function dn(t){let e,n,o;return{c(){e=H("svg"),n=H("path"),o=H("circle"),this.h()},l(i){e=M(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var l=C(e);n=M(l,"path",{d:!0}),C(n).forEach(p),o=M(l,"circle",{cx:!0,cy:!0,r:!0}),C(o).forEach(p),l.forEach(p),this.h()},h(){g(n,"d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"),g(o,"cx","12"),g(o,"cy","12"),g(o,"r","3"),g(e,"width","20"),g(e,"height","20"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","2"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round")},m(i,l){W(i,e,l),y(e,n),y(e,o)},p:j,i:j,o:j,d(i){i&&p(e)}}}class hn extends ne{constructor(e){super(),oe(this,e,null,dn,te,{})}}function mn(t){let e,n,o;return{c(){e=H("svg"),n=H("path"),o=H("line"),this.h()},l(i){e=M(i,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var l=C(e);n=M(l,"path",{d:!0}),C(n).forEach(p),o=M(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),C(o).forEach(p),l.forEach(p),this.h()},h(){g(n,"d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"),g(o,"x1","1"),g(o,"y1","1"),g(o,"x2","23"),g(o,"y2","23"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","2"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round")},m(i,l){W(i,e,l),y(e,n),y(e,o)},p:j,i:j,o:j,d(i){i&&p(e)}}}class gn extends ne{constructor(e){super(),oe(this,e,null,mn,te,{})}}function vn(t){let e,n;return{c(){e=H("svg"),n=H("path"),this.h()},l(o){e=M(o,"svg",{viewBox:!0,stroke:!0});var i=C(e);n=M(i,"path",{d:!0}),C(n).forEach(p),i.forEach(p),this.h()},h(){g(n,"d","M2 9.137C2 14 6.02 16.591 8.962 18.911 10 19.729 11 20.5 12 20.5s2-.77 3.038-1.59C17.981 16.592 22 14 22 9.138c0-4.863-5.5-8.312-10-3.636C7.5.825 2 4.274 2 9.137Z"),g(e,"viewBox","0 0 24 24"),g(e,"stroke","currentColor")},m(o,i){W(o,e,i),y(e,n)},p:j,i:j,o:j,d(o){o&&p(e)}}}class pn extends ne{constructor(e){super(),oe(this,e,null,vn,te,{})}}function wn(t){let e,n,o,i,l,s;return{c(){e=H("svg"),n=H("g"),o=H("path"),i=H("defs"),l=H("clipPath"),s=H("path"),this.h()},l(r){e=M(r,"svg",{viewBox:!0,class:!0});var c=C(e);n=M(c,"g",{});var a=C(n);o=M(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(o).forEach(p),a.forEach(p),i=M(c,"defs",{});var u=C(i);l=M(u,"clipPath",{id:!0});var d=C(l);s=M(d,"path",{d:!0}),C(s).forEach(p),d.forEach(p),u.forEach(p),c.forEach(p),this.h()},h(){g(o,"stroke-linecap","round"),g(o,"stroke-linejoin","round"),g(o,"stroke-width","2.5"),g(o,"d","m7 7 10 10M7 17 17 7"),g(s,"d","M0 0h24v24H0z"),g(l,"id","a"),g(e,"viewBox","0 0 24 24"),g(e,"class","svelte-166z64e")},m(r,c){W(r,e,c),y(e,n),y(n,o),y(e,i),y(i,l),y(l,s)},p:j,i:j,o:j,d(r){r&&p(e)}}}class ht extends ne{constructor(e){super(),oe(this,e,null,wn,te,{})}}function yn(t){let e,n,o,i,l,s,r,c,a,u,d;return c=new ht({}),{c(){e=T("div"),n=T("div"),o=Y(),i=T("h3"),l=_e(t[0]),s=Y(),r=T("button"),$(c.$$.fragment),this.h()},l(h){e=S(h,"DIV",{class:!0});var f=C(e);n=S(f,"DIV",{class:!0}),C(n).forEach(p),o=X(f),i=S(f,"H3",{class:!0});var m=C(i);l=ye(m,t[0]),m.forEach(p),s=X(f),r=S(f,"BUTTON",{});var v=C(r);Q(c.$$.fragment,v),v.forEach(p),f.forEach(p),this.h()},h(){g(n,"class","w-6"),g(i,"class","modal-title-inline svelte-v4jt7w"),g(e,"class","modal-header-inline svelte-v4jt7w")},m(h,f){W(h,e,f),y(e,n),y(e,o),y(e,i),y(i,l),y(e,s),y(e,r),K(c,r,null),a=!0,u||(d=z(r,"click",function(){He(t[1])&&t[1].apply(this,arguments)}),u=!0)},p(h,f){t=h,(!a||f&1)&&Se(l,t[0])},i(h){a||(F(c.$$.fragment,h),a=!0)},o(h){R(c.$$.fragment,h),a=!1},d(h){h&&p(e),Z(c),u=!1,d()}}}function _n(t){let e,n,o,i,l,s,r,c,a;return s=new ht({}),{c(){e=T("div"),n=T("h3"),o=_e(t[0]),i=Y(),l=T("button"),$(s.$$.fragment),this.h()},l(u){e=S(u,"DIV",{class:!0});var d=C(e);n=S(d,"H3",{class:!0});var h=C(n);o=ye(h,t[0]),h.forEach(p),i=X(d),l=S(d,"BUTTON",{class:!0});var f=C(l);Q(s.$$.fragment,f),f.forEach(p),d.forEach(p),this.h()},h(){g(n,"class","modal-title svelte-v4jt7w"),g(l,"class","close-button svelte-v4jt7w"),g(e,"class","modal-header-section svelte-v4jt7w")},m(u,d){W(u,e,d),y(e,n),y(n,o),y(e,i),y(e,l),K(s,l,null),r=!0,c||(a=z(l,"click",function(){He(t[1])&&t[1].apply(this,arguments)}),c=!0)},p(u,d){t=u,(!r||d&1)&&Se(o,t[0])},i(u){r||(F(s.$$.fragment,u),r=!0)},o(u){R(s.$$.fragment,u),r=!1},d(u){u&&p(e),Z(s),c=!1,a()}}}function bn(t){let e,n,o,i;const l=[_n,yn],s=[];function r(c,a){return c[2]==="section"?0:1}return e=r(t),n=s[e]=l[e](t),{c(){n.c(),o=Ae()},l(c){n.l(c),o=Ae()},m(c,a){s[e].m(c,a),W(c,o,a),i=!0},p(c,[a]){let u=e;e=r(c),e===u?s[e].p(c,a):(Le(),R(s[u],1,1,()=>{s[u]=null}),Ne(),n=s[e],n?n.p(c,a):(n=s[e]=l[e](c),n.c()),F(n,1),n.m(o.parentNode,o))},i(c){i||(F(n),i=!0)},o(c){R(n),i=!1},d(c){c&&p(o),s[e].d(c)}}}function kn(t,e,n){let{title:o}=e,{onClose:i}=e,{variant:l="inline"}=e;return t.$$set=s=>{"title"in s&&n(0,o=s.title),"onClose"in s&&n(1,i=s.onClose),"variant"in s&&n(2,l=s.variant)},[o,i,l]}class xn extends ne{constructor(e){super(),oe(this,e,kn,bn,te,{title:0,onClose:1,variant:2})}}function Cn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ie(t){return`<strong>${Cn(t)}</strong>`}function En(){const{subscribe:t,update:e}=nn([]);let n=0;function o(s,r={}){const c=++n,a={id:c,message:s,type:r.type||"info",duration:r.duration??5e3,action:r.action||null,actions:r.actions||null};return e(u=>[...u,a]),a.duration>0&&setTimeout(()=>{i(c)},a.duration),c}function i(s){e(r=>r.filter(c=>c.id!==s))}function l(){e(()=>[])}return{subscribe:t,show:o,dismiss:i,clear:l}}const Be=En();function Bt(){function t(i,l,s,r,c){try{if(typeof window>"u"||!window.umami)return!1;const a=Ct(i,l,s,r,c),u={dle_name:a.dle_name,dle_id:a.dle_id,action:l,section:a.section};return a.position_id&&(u.position_id=a.position_id),qe("favorite-action",u,`${s} ${l}`),!0}catch(a){return console.error("Failed to track favorite action:",a),!1}}function e(i,l,s,r,c){try{if(typeof window>"u"||!window.umami)return!1;const a=Ct(i,l,s,r,c);return qe("game-click",a,`${s} ${l}`),!0}catch(a){return console.error("Failed to track game click:",a),!1}}function n(i,l,s){try{if(typeof window>"u"||!window.umami)return!1;const r={sponsor_name:i.name,sponsor_id:i.id,sponsor_url:i.url,click_type:l};return s!=null&&(r.position_id=`sponsor-${s+1}`),qe("sponsor-click",r,`sponsor ${l}`),!0}catch(r){return console.error("Failed to track sponsor click:",r),!1}}function o(){return typeof window<"u"&&!!window.umami}return{trackFavoriteAction:t,trackGameClick:e,trackSponsorClick:n,isTrackingAvailable:o}}function Dn(){function t(l){return N(pe).includes(l.id)}function e(l,s=!1){if(!s&&!N(en))return!1;try{const r=N(pe);if(r.includes(l.id))return!0;const c=[...r,l.id];return pe.set(c),ve()&&(localStorage.playedDles=JSON.stringify(c)),!0}catch(r){return console.error("Failed to mark dle as played:",r),!1}}function n(l){try{const r=N(pe).filter(c=>c!==l.id);return pe.set(r),ve()&&(localStorage.playedDles=JSON.stringify(r)),!0}catch(s){return console.error("Failed to unmark dle as played:",s),!1}}function o(){const l=N(pe);return pe.set([]),ve()&&(localStorage.playedDles=JSON.stringify([])),l}function i(){return N(pe).length}return{isPlayed:t,markAsPlayed:e,unmarkAsPlayed:n,resetPlayedDles:o,getPlayedCount:i}}function On(t){let e,n;return{c(){e=H("svg"),n=H("path"),this.h()},l(o){e=M(o,"svg",{fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,xmlns:!0});var i=C(e);n=M(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(p),i.forEach(p),this.h()},h(){g(n,"stroke-linecap","round"),g(n,"stroke-linejoin","round"),g(n,"d","M5 13l4 4L19 7"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke","currentColor"),g(e,"stroke-width","2.5"),g(e,"xmlns","http://www.w3.org/2000/svg")},m(o,i){W(o,e,i),y(e,n)},p:j,i:j,o:j,d(o){o&&p(e)}}}class Sn extends ne{constructor(e){super(),oe(this,e,null,On,te,{})}}let je=null,q=null;function Tn(){q!==null&&(re.set(q),ve()&&(localStorage.favorites=JSON.stringify(q)),q=null)}function lt(t){q=t,je&&clearTimeout(je),je=setTimeout(()=>{Tn(),je=null},15)}function mt(){function t(s){return q!==null?q.includes(s.id):N(re).includes(s.id)}function e(s){try{const r=q!==null?q:N(re);if(r.includes(s.id))return!0;const c=[...r,s.id];return lt(c),!0}catch(r){return console.error("Failed to add favorite:",r),!1}}function n(s,r){try{const c=q!==null?q:N(re);if(c.includes(s.id))return!0;const a=[...c],u=Math.min(r,a.length);return a.splice(u,0,s.id),lt(a),!0}catch(c){return console.error("Failed to insert favorite:",c),!1}}function o(s){try{const r=q!==null?q:N(re),c=r.indexOf(s.id),a=r.filter(u=>u!==s.id);return lt(a),{success:!0,index:c}}catch(r){return console.error("Failed to remove favorite:",r),{success:!1,index:-1}}}function i(s){const r=t(s);let c=!1,a=-1;if(r){const d=o(s);c=d.success,a=d.index}else c=e(s);const u=q!==null?q.length:N(re).length;return{success:c,action:r?"unfavorite":"favorite",wasInFavorites:r,previousIndex:a,totalFavorites:u}}function l(){return q!==null?q.length:N(re).length}return{isFavorited:t,addToFavorites:e,insertFavoriteAt:n,removeFromFavorites:o,toggleFavorite:i,getFavoritesCount:l}}function An(t){let e,n,o,i,l,s;return{c(){e=H("svg"),n=H("defs"),o=H("mask"),i=H("rect"),l=H("path"),s=H("path"),this.h()},l(r){e=M(r,"svg",{viewBox:!0,fill:!0});var c=C(e);n=M(c,"defs",{});var a=C(n);o=M(a,"mask",{id:!0});var u=C(o);i=M(u,"rect",{width:!0,height:!0,fill:!0}),C(i).forEach(p),l=M(u,"path",{fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(l).forEach(p),u.forEach(p),a.forEach(p),s=M(c,"path",{mask:!0,d:!0}),C(s).forEach(p),c.forEach(p),this.h()},h(){g(i,"width","24"),g(i,"height","24"),g(i,"fill","white"),g(l,"fill","none"),g(l,"stroke","black"),g(l,"stroke-width","2"),g(l,"stroke-linecap","round"),g(l,"stroke-linejoin","round"),g(l,"d","m 12.453133,4.7825861 -1.6652,2.6158265 3.001768,3.0270634 -2.386811,2.974459"),g(o,"id","brokenHeartMask"),g(s,"mask","url(#brokenHeartMask)"),g(s,"d","M2 9.137C2 14 6.02 16.591 8.962 18.911 10 19.729 11 20.5 12 20.5s2-.77 3.038-1.59C17.981 16.592 22 14 22 9.138c0-4.863-5.5-8.312-10-3.636C7.5.825 2 4.274 2 9.137Z"),g(e,"viewBox","0 0 24 24"),g(e,"fill","currentColor")},m(r,c){W(r,e,c),y(e,n),y(n,o),y(o,i),y(o,l),y(e,s)},p:j,i:j,o:j,d(r){r&&p(e)}}}class Fn extends ne{constructor(e){super(),oe(this,e,null,An,te,{})}}function In(t){let e,n;return e=new pn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Rn(t){let e,n;return e=new Fn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Pn(t){let e,n,o,i,l,s,r;const c=[Rn,In],a=[];function u(d,h){return d[1]&&d[3]&&!d[4]?0:1}return n=u(t),o=a[n]=c[n](t),{c(){e=T("button"),o.c(),this.h()},l(d){e=S(d,"BUTTON",{style:!0,class:!0,title:!0});var h=C(e);o.l(h),h.forEach(p),this.h()},h(){Je(e,"fill",t[2]??"transparent"),g(e,"class","hover:scale-105 flex items-center justify-center favorite-button svelte-1jsw2dm"),g(e,"title",i=t[1]?"Remove from favorites":"Add to favorites"),de(e,"small",t[0]==="small"),de(e,"is-favorited",t[1])},m(d,h){W(d,e,h),a[n].m(e,null),l=!0,s||(r=[z(e,"click",t[5]),z(e,"mouseenter",t[10]),z(e,"mouseleave",t[11])],s=!0)},p(d,[h]){let f=n;n=u(d),n!==f&&(Le(),R(a[f],1,1,()=>{a[f]=null}),Ne(),o=a[n],o||(o=a[n]=c[n](d),o.c()),F(o,1),o.m(e,null)),(!l||h&4)&&Je(e,"fill",d[2]??"transparent"),(!l||h&2&&i!==(i=d[1]?"Remove from favorites":"Add to favorites"))&&g(e,"title",i),(!l||h&1)&&de(e,"small",d[0]==="small"),(!l||h&2)&&de(e,"is-favorited",d[1])},i(d){l||(F(o),l=!0)},o(d){R(o),l=!1},d(d){d&&p(e),a[n].d(),s=!1,Pe(r)}}}let Mn="rgb(var(--colors-colorTextSofter))",Hn="transparent";function Ln(t,e,n){let o,i,l,s;fe(t,Fe,w=>n(12,i=w)),fe(t,bt,w=>n(13,l=w)),fe(t,re,w=>n(9,s=w));let{dle:r}=e,{size:c="normal"}=e,{section:a="regular"}=e,{position:u=null}=e;const d=mt(),h=Bt();let f,m=!1,v=!1;Qe(()=>{n(4,v="ontouchstart"in window||navigator.maxTouchPoints>0)});function _(w){n(2,f=w?Mn:Hn)}function x(){const w=d.toggleFavorite(r);if(w.success){_(!w.wasInFavorites),h.trackFavoriteAction(r,w.action,"button",a,u);const D={label:"Manage",onClick:()=>{ke(bt,l=!0,l)}};if(w.action==="favorite")Be.show(`${Ie(r.name)} added to favorites`,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>d.removeFromFavorites(r)},D]});else{ke(Fe,i="",i);const E=w.previousIndex;Be.show(`${Ie(r.name)} removed from favorites`,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>d.insertFavoriteAt(r,E)},D]})}}}const k=()=>!v&&n(3,m=!0),O=()=>n(3,m=!1);return t.$$set=w=>{"dle"in w&&n(6,r=w.dle),"size"in w&&n(0,c=w.size),"section"in w&&n(7,a=w.section),"position"in w&&n(8,u=w.position)},t.$$.update=()=>{t.$$.dirty&576&&n(1,o=s.includes(r.id)),t.$$.dirty&2&&_(o)},[c,o,f,m,v,x,r,a,u,s,k,O]}class Nn extends ne{constructor(e){super(),oe(this,e,Ln,Pn,te,{dle:6,size:0,section:7,position:8})}}let We=null,J=null;function Bn(){J!==null&&(ue.set(J),ve()&&(localStorage.hiddenDles=JSON.stringify(J)),J=null)}function Et(t){J=t,We&&clearTimeout(We),We=setTimeout(()=>{Bn(),We=null},15)}function Vn(){function t(r){return J!==null?J.includes(r.id):N(ue).includes(r.id)}function e(r){try{const c=J!==null?J:N(ue);if(c.includes(r.id))return{success:!0,previousFavoriteIndex:-1};const a=[...c,r.id];Et(a);let u=-1;const d=N(re);return d.includes(r.id)&&(u=d.indexOf(r.id),mt().removeFromFavorites(r)),{success:!0,previousFavoriteIndex:u}}catch(c){return console.error("Failed to hide dle:",c),{success:!1,previousFavoriteIndex:-1}}}function n(r){try{const a=(J!==null?J:N(ue)).filter(u=>u!==r.id);return Et(a),!0}catch(c){return console.error("Failed to unhide dle:",c),!1}}function o(r){const c=t(r),a=!c&&N(re).includes(r.id);let u=!1,d=-1;if(c)u=n(r);else{const f=e(r);u=f.success,d=f.previousFavoriteIndex}const h=J!==null?J.length:N(ue).length;return{success:u,action:c?"unhide":"hide",wasHidden:c,wasFavorited:a,previousFavoriteIndex:d,totalHidden:h}}function i(){return J!==null?J.length:N(ue).length}function l(){const r=N(ue);return ue.set([]),ve()&&(localStorage.hiddenDles=JSON.stringify([])),r}function s(r){ue.set(r),ve()&&(localStorage.hiddenDles=JSON.stringify(r))}return{isHidden:t,hideDle:e,unhideDle:n,toggleHidden:o,getHiddenCount:i,resetHiddenDles:l,restoreHiddenDles:s}}function zn(t){let e,n,o,i,l,s,r,c,a,u,d,h='You can unhide it later in <strong class="svelte-1xvsh34">Settings â†’ Manage hidden DLES</strong>.',f,m,v,_="Cancel",x,k,O="Hide",w,D,E;return n=new xn({props:{title:"Hide this dle?",onClose:t[2],variant:"section"}}),{c(){e=T("div"),$(n.$$.fragment),o=Y(),i=T("div"),l=T("p"),s=_e("Are you sure you want to hide "),r=T("strong"),c=_e(t[0]),a=_e("?"),u=Y(),d=T("p"),d.innerHTML=h,f=Y(),m=T("div"),v=T("button"),v.textContent=_,x=Y(),k=T("button"),k.textContent=O,this.h()},l(b){e=S(b,"DIV",{class:!0});var P=C(e);Q(n.$$.fragment,P),o=X(P),i=S(P,"DIV",{class:!0});var A=C(i);l=S(A,"P",{class:!0});var B=C(l);s=ye(B,"Are you sure you want to hide "),r=S(B,"STRONG",{class:!0});var ce=C(r);c=ye(ce,t[0]),ce.forEach(p),a=ye(B,"?"),B.forEach(p),u=X(A),d=S(A,"P",{class:!0,"data-svelte-h":!0}),rt(d)!=="svelte-2xnyb1"&&(d.innerHTML=h),f=X(A),m=S(A,"DIV",{class:!0});var U=C(m);v=S(U,"BUTTON",{class:!0,"data-svelte-h":!0}),rt(v)!=="svelte-1dr2zjf"&&(v.textContent=_),x=X(U),k=S(U,"BUTTON",{class:!0,"data-svelte-h":!0}),rt(k)!=="svelte-xghks5"&&(k.textContent=O),U.forEach(p),A.forEach(p),P.forEach(p),this.h()},h(){g(r,"class","svelte-1xvsh34"),g(l,"class","message svelte-1xvsh34"),g(d,"class","hint svelte-1xvsh34"),g(v,"class","btn btn-cancel svelte-1xvsh34"),g(k,"class","btn btn-confirm svelte-1xvsh34"),g(m,"class","button-row svelte-1xvsh34"),g(i,"class","modal-content svelte-1xvsh34"),g(e,"class","modal-container svelte-1xvsh34")},m(b,P){W(b,e,P),K(n,e,null),y(e,o),y(e,i),y(i,l),y(l,s),y(l,r),y(r,c),y(l,a),y(i,u),y(i,d),y(i,f),y(i,m),y(m,v),y(m,x),y(m,k),w=!0,D||(E=[z(v,"click",function(){He(t[2])&&t[2].apply(this,arguments)}),z(k,"click",function(){He(t[1])&&t[1].apply(this,arguments)})],D=!0)},p(b,P){t=b;const A={};P&4&&(A.onClose=t[2]),n.$set(A),(!w||P&1)&&Se(c,t[0])},i(b){w||(F(n.$$.fragment,b),w=!0)},o(b){R(n.$$.fragment,b),w=!1},d(b){b&&p(e),Z(n),D=!1,Pe(E)}}}function Un(t){let e,n;return e=new fn({props:{onClose:t[2],overlay:!0,zIndex:1100,$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const l={};i&4&&(l.onClose=o[2]),i&15&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function jn(t,e,n){let{dleName:o}=e,{onConfirm:i}=e,{onCancel:l}=e;return t.$$set=s=>{"dleName"in s&&n(0,o=s.dleName),"onConfirm"in s&&n(1,i=s.onConfirm),"onCancel"in s&&n(2,l=s.onCancel)},[o,i,l]}class Wn extends ne{constructor(e){super(),oe(this,e,jn,Un,te,{dleName:0,onConfirm:1,onCancel:2})}}function Gn(t){let e,n;return e=new gn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function qn(t){let e,n;return e=new hn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Dt(t){let e,n;return e=new Wn({props:{dleName:t[0].name,onConfirm:t[7],onCancel:t[8]}}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,i){const l={};i&1&&(l.dleName=o[0].name),e.$set(l)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Jn(t){let e,n,o,i,l,s,r,c,a;const u=[qn,Gn],d=[];function h(m,v){return m[5]?0:1}n=h(t),o=d[n]=u[n](t);let f=t[4]&&Dt(t);return{c(){e=T("button"),o.c(),l=Y(),f&&f.c(),s=Ae(),this.h()},l(m){e=S(m,"BUTTON",{class:!0,title:!0});var v=C(e);o.l(v),v.forEach(p),l=X(m),f&&f.l(m),s=Ae(),this.h()},h(){g(e,"class","hover:scale-105 flex items-center justify-center hide-button svelte-odutcb"),g(e,"title",i=t[5]?"Unhide dle":"Hide dle"),de(e,"small",t[1]==="small"),de(e,"is-hidden",t[5])},m(m,v){W(m,e,v),d[n].m(e,null),W(m,l,v),f&&f.m(m,v),W(m,s,v),r=!0,c||(a=[z(e,"click",t[6]),z(e,"mouseenter",t[11]),z(e,"mouseleave",t[12])],c=!0)},p(m,[v]){let _=n;n=h(m),n!==_&&(Le(),R(d[_],1,1,()=>{d[_]=null}),Ne(),o=d[n],o||(o=d[n]=u[n](m),o.c()),F(o,1),o.m(e,null)),(!r||v&32&&i!==(i=m[5]?"Unhide dle":"Hide dle"))&&g(e,"title",i),(!r||v&2)&&de(e,"small",m[1]==="small"),(!r||v&32)&&de(e,"is-hidden",m[5]),m[4]?f?(f.p(m,v),v&16&&F(f,1)):(f=Dt(m),f.c(),F(f,1),f.m(s.parentNode,s)):f&&(Le(),R(f,1,1,()=>{f=null}),Ne())},i(m){r||(F(o),F(f),r=!0)},o(m){R(o),R(f),r=!1},d(m){m&&(p(e),p(l),p(s)),d[n].d(),f&&f.d(m),c=!1,Pe(a)}}}function Xn(t,e,n){let o,i,l,s,r;fe(t,Fe,E=>n(15,i=E)),fe(t,kt,E=>n(16,l=E)),fe(t,re,E=>n(9,s=E)),fe(t,ue,E=>n(10,r=E));let{dle:c}=e,{size:a="normal"}=e;const u=Vn(),d=mt();let h=!1,f=!1,m=!1,v=!1;Qe(()=>{n(3,f="ontouchstart"in window||navigator.maxTouchPoints>0),ve()&&(v=localStorage.getItem("hasHiddenDle")==="true")});function _(){if(o){u.unhideDle(c);return}if(!v){n(4,m=!0);return}x()}function x(){const E=u.toggleHidden(c);if(E.success&&E.action==="hide"){ve()&&(localStorage.setItem("hasHiddenDle","true"),v=!0);const b=E.wasFavorited?`${Ie(c.name)} hidden and removed from favorites`:`${Ie(c.name)} hidden`,P=E.previousFavoriteIndex;Be.show(b,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>{u.unhideDle(c),E.wasFavorited&&d.insertFavoriteAt(c,P)}},{label:"Manage",onClick:()=>{ke(kt,l=!0,l)}}]}),ke(Fe,i="",i)}}function k(){n(4,m=!1),x()}function O(){n(4,m=!1)}const w=()=>!f&&n(2,h=!0),D=()=>n(2,h=!1);return t.$$set=E=>{"dle"in E&&n(0,c=E.dle),"size"in E&&n(1,a=E.size)},t.$$.update=()=>{t.$$.dirty&1025&&n(5,o=r.includes(c.id)),t.$$.dirty&513&&s.includes(c.id)},[c,a,h,f,m,o,_,k,O,s,r,w,D]}class Yn extends ne{constructor(e){super(),oe(this,e,Xn,Jn,te,{dle:0,size:1})}}const Xe=Math.min,xe=Math.max,Ye=Math.round,Ge=Math.floor,he=t=>({x:t,y:t}),Zn={left:"right",right:"left",bottom:"top",top:"bottom"},Kn={start:"end",end:"start"};function Ot(t,e,n){return xe(t,Xe(e,n))}function $e(t,e){return typeof t=="function"?t(e):t}function Ce(t){return t.split("-")[0]}function et(t){return t.split("-")[1]}function Vt(t){return t==="x"?"y":"x"}function zt(t){return t==="y"?"height":"width"}const Qn=new Set(["top","bottom"]);function we(t){return Qn.has(Ce(t))?"y":"x"}function Ut(t){return Vt(we(t))}function $n(t,e,n){n===void 0&&(n=!1);const o=et(t),i=Ut(t),l=zt(i);let s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(s=Ze(s)),[s,Ze(s)]}function eo(t){const e=Ze(t);return[at(t),e,at(e)]}function at(t){return t.replace(/start|end/g,e=>Kn[e])}const St=["left","right"],Tt=["right","left"],to=["top","bottom"],no=["bottom","top"];function oo(t,e,n){switch(t){case"top":case"bottom":return n?e?Tt:St:e?St:Tt;case"left":case"right":return e?to:no;default:return[]}}function io(t,e,n,o){const i=et(t);let l=oo(Ce(t),n==="start",o);return i&&(l=l.map(s=>s+"-"+i),e&&(l=l.concat(l.map(at)))),l}function Ze(t){return t.replace(/left|right|bottom|top/g,e=>Zn[e])}function ro(t){return{top:0,right:0,bottom:0,left:0,...t}}function so(t){return typeof t!="number"?ro(t):{top:t,right:t,bottom:t,left:t}}function Ke(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function At(t,e,n){let{reference:o,floating:i}=t;const l=we(e),s=Ut(e),r=zt(s),c=Ce(e),a=l==="y",u=o.x+o.width/2-i.width/2,d=o.y+o.height/2-i.height/2,h=o[r]/2-i[r]/2;let f;switch(c){case"top":f={x:u,y:o.y-i.height};break;case"bottom":f={x:u,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-i.width,y:d};break;default:f={x:o.x,y:o.y}}switch(et(e)){case"start":f[s]-=h*(n&&a?-1:1);break;case"end":f[s]+=h*(n&&a?-1:1);break}return f}const lo=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:l=[],platform:s}=n,r=l.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let a=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=At(a,o,c),h=o,f={},m=0;for(let v=0;v<r.length;v++){const{name:_,fn:x}=r[v],{x:k,y:O,data:w,reset:D}=await x({x:u,y:d,initialPlacement:o,placement:h,strategy:i,middlewareData:f,rects:a,platform:s,elements:{reference:t,floating:e}});u=k??u,d=O??d,f={...f,[_]:{...f[_],...w}},D&&m<=50&&(m++,typeof D=="object"&&(D.placement&&(h=D.placement),D.rects&&(a=D.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:u,y:d}=At(a,h,c)),v=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function jt(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:l,rects:s,elements:r,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=$e(e,t),m=so(f),_=r[h?d==="floating"?"reference":"floating":d],x=Ke(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(_)))==null||n?_:_.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(r.floating)),boundary:a,rootBoundary:u,strategy:c})),k=d==="floating"?{x:o,y:i,width:s.floating.width,height:s.floating.height}:s.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(r.floating)),w=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},D=Ke(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:k,offsetParent:O,strategy:c}):k);return{top:(x.top-D.top+m.top)/w.y,bottom:(D.bottom-x.bottom+m.bottom)/w.y,left:(x.left-D.left+m.left)/w.x,right:(D.right-x.right+m.right)/w.x}}const co=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:l,rects:s,initialPlacement:r,platform:c,elements:a}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,..._}=$e(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const x=Ce(i),k=we(r),O=Ce(r)===r,w=await(c.isRTL==null?void 0:c.isRTL(a.floating)),D=h||(O||!v?[Ze(r)]:eo(r)),E=m!=="none";!h&&E&&D.push(...io(r,v,m,w));const b=[r,...D],P=await jt(e,_),A=[];let B=((o=l.flip)==null?void 0:o.overflows)||[];if(u&&A.push(P[x]),d){const ae=$n(i,s,w);A.push(P[ae[0]],P[ae[1]])}if(B=[...B,{placement:i,overflows:A}],!A.every(ae=>ae<=0)){var ce,U;const ae=(((ce=l.flip)==null?void 0:ce.index)||0)+1,L=b[ae];if(L&&(!(d==="alignment"?k!==we(L):!1)||B.every(G=>we(G.placement)===k?G.overflows[0]>0:!0)))return{data:{index:ae,overflows:B},reset:{placement:L}};let I=(U=B.filter(V=>V.overflows[0]<=0).sort((V,G)=>V.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(f){case"bestFit":{var De;const V=(De=B.filter(G=>{if(E){const ie=we(G.placement);return ie===k||ie==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ie=>ie>0).reduce((ie,Ue)=>ie+Ue,0)]).sort((G,ie)=>G[1]-ie[1])[0])==null?void 0:De[0];V&&(I=V);break}case"initialPlacement":I=r;break}if(i!==I)return{reset:{placement:I}}}return{}}}},ao=new Set(["left","top"]);async function uo(t,e){const{placement:n,platform:o,elements:i}=t,l=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=Ce(n),r=et(n),c=we(n)==="y",a=ao.has(s)?-1:1,u=l&&c?-1:1,d=$e(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return r&&typeof m=="number"&&(f=r==="end"?m*-1:m),c?{x:f*u,y:h*a}:{x:h*a,y:f*u}}const fo=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:l,placement:s,middlewareData:r}=e,c=await uo(e,t);return s===((n=r.offset)==null?void 0:n.placement)&&(o=r.arrow)!=null&&o.alignmentOffset?{}:{x:i+c.x,y:l+c.y,data:{...c,placement:s}}}}},ho=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:l=!0,crossAxis:s=!1,limiter:r={fn:_=>{let{x,y:k}=_;return{x,y:k}}},...c}=$e(t,e),a={x:n,y:o},u=await jt(e,c),d=we(Ce(i)),h=Vt(d);let f=a[h],m=a[d];if(l){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",k=f+u[_],O=f-u[x];f=Ot(k,f,O)}if(s){const _=d==="y"?"top":"left",x=d==="y"?"bottom":"right",k=m+u[_],O=m-u[x];m=Ot(k,m,O)}const v=r.fn({...e,[h]:f,[d]:m});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[h]:l,[d]:s}}}}}};function tt(){return typeof window<"u"}function Me(t){return Wt(t)?(t.nodeName||"").toLowerCase():"#document"}function ee(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ge(t){var e;return(e=(Wt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wt(t){return tt()?t instanceof Node||t instanceof ee(t).Node:!1}function se(t){return tt()?t instanceof Element||t instanceof ee(t).Element:!1}function me(t){return tt()?t instanceof HTMLElement||t instanceof ee(t).HTMLElement:!1}function Ft(t){return!tt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ee(t).ShadowRoot}const mo=new Set(["inline","contents"]);function ze(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=le(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!mo.has(i)}const go=new Set(["table","td","th"]);function vo(t){return go.has(Me(t))}const po=[":popover-open",":modal"];function nt(t){return po.some(e=>{try{return t.matches(e)}catch{return!1}})}const wo=["transform","translate","scale","rotate","perspective"],yo=["transform","translate","scale","rotate","perspective","filter"],_o=["paint","layout","strict","content"];function gt(t){const e=vt(),n=se(t)?le(t):t;return wo.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yo.some(o=>(n.willChange||"").includes(o))||_o.some(o=>(n.contain||"").includes(o))}function bo(t){let e=be(t);for(;me(e)&&!Re(e);){if(gt(e))return e;if(nt(e))return null;e=be(e)}return null}function vt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ko=new Set(["html","body","#document"]);function Re(t){return ko.has(Me(t))}function le(t){return ee(t).getComputedStyle(t)}function ot(t){return se(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function be(t){if(Me(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ft(t)&&t.host||ge(t);return Ft(e)?e.host:e}function Gt(t){const e=be(t);return Re(e)?t.ownerDocument?t.ownerDocument.body:t.body:me(e)&&ze(e)?e:Gt(e)}function Ve(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Gt(t),l=i===((o=t.ownerDocument)==null?void 0:o.body),s=ee(i);if(l){const r=ut(s);return e.concat(s,s.visualViewport||[],ze(i)?i:[],r&&n?Ve(r):[])}return e.concat(i,Ve(i,[],n))}function ut(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qt(t){const e=le(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=me(t),l=i?t.offsetWidth:n,s=i?t.offsetHeight:o,r=Ye(n)!==l||Ye(o)!==s;return r&&(n=l,o=s),{width:n,height:o,$:r}}function pt(t){return se(t)?t:t.contextElement}function Te(t){const e=pt(t);if(!me(e))return he(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:l}=qt(e);let s=(l?Ye(n.width):n.width)/o,r=(l?Ye(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!r||!Number.isFinite(r))&&(r=1),{x:s,y:r}}const xo=he(0);function Jt(t){const e=ee(t);return!vt()||!e.visualViewport?xo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Co(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ee(t)?!1:e}function Ee(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),l=pt(t);let s=he(1);e&&(o?se(o)&&(s=Te(o)):s=Te(t));const r=Co(l,n,o)?Jt(l):he(0);let c=(i.left+r.x)/s.x,a=(i.top+r.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(l){const h=ee(l),f=o&&se(o)?ee(o):o;let m=h,v=ut(m);for(;v&&o&&f!==m;){const _=Te(v),x=v.getBoundingClientRect(),k=le(v),O=x.left+(v.clientLeft+parseFloat(k.paddingLeft))*_.x,w=x.top+(v.clientTop+parseFloat(k.paddingTop))*_.y;c*=_.x,a*=_.y,u*=_.x,d*=_.y,c+=O,a+=w,m=ee(v),v=ut(m)}}return Ke({width:u,height:d,x:c,y:a})}function it(t,e){const n=ot(t).scrollLeft;return e?e.left+n:Ee(ge(t)).left+n}function Xt(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-it(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function Eo(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const l=i==="fixed",s=ge(o),r=e?nt(e.floating):!1;if(o===s||r&&l)return n;let c={scrollLeft:0,scrollTop:0},a=he(1);const u=he(0),d=me(o);if((d||!d&&!l)&&((Me(o)!=="body"||ze(s))&&(c=ot(o)),me(o))){const f=Ee(o);a=Te(o),u.x=f.x+o.clientLeft,u.y=f.y+o.clientTop}const h=s&&!d&&!l?Xt(s,c):he(0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+u.x+h.x,y:n.y*a.y-c.scrollTop*a.y+u.y+h.y}}function Do(t){return Array.from(t.getClientRects())}function Oo(t){const e=ge(t),n=ot(t),o=t.ownerDocument.body,i=xe(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=xe(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+it(t);const r=-n.scrollTop;return le(o).direction==="rtl"&&(s+=xe(e.clientWidth,o.clientWidth)-i),{width:i,height:l,x:s,y:r}}const It=25;function So(t,e){const n=ee(t),o=ge(t),i=n.visualViewport;let l=o.clientWidth,s=o.clientHeight,r=0,c=0;if(i){l=i.width,s=i.height;const u=vt();(!u||u&&e==="fixed")&&(r=i.offsetLeft,c=i.offsetTop)}const a=it(o);if(a<=0){const u=o.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(o.clientWidth-d.clientWidth-f);m<=It&&(l-=m)}else a<=It&&(l+=a);return{width:l,height:s,x:r,y:c}}const To=new Set(["absolute","fixed"]);function Ao(t,e){const n=Ee(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,l=me(t)?Te(t):he(1),s=t.clientWidth*l.x,r=t.clientHeight*l.y,c=i*l.x,a=o*l.y;return{width:s,height:r,x:c,y:a}}function Rt(t,e,n){let o;if(e==="viewport")o=So(t,n);else if(e==="document")o=Oo(ge(t));else if(se(e))o=Ao(e,n);else{const i=Jt(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ke(o)}function Yt(t,e){const n=be(t);return n===e||!se(n)||Re(n)?!1:le(n).position==="fixed"||Yt(n,e)}function Fo(t,e){const n=e.get(t);if(n)return n;let o=Ve(t,[],!1).filter(r=>se(r)&&Me(r)!=="body"),i=null;const l=le(t).position==="fixed";let s=l?be(t):t;for(;se(s)&&!Re(s);){const r=le(s),c=gt(s);!c&&r.position==="fixed"&&(i=null),(l?!c&&!i:!c&&r.position==="static"&&!!i&&To.has(i.position)||ze(s)&&!c&&Yt(t,s))?o=o.filter(u=>u!==s):i=r,s=be(s)}return e.set(t,o),o}function Io(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const s=[...n==="clippingAncestors"?nt(e)?[]:Fo(e,this._c):[].concat(n),o],r=s[0],c=s.reduce((a,u)=>{const d=Rt(e,u,i);return a.top=xe(d.top,a.top),a.right=Xe(d.right,a.right),a.bottom=Xe(d.bottom,a.bottom),a.left=xe(d.left,a.left),a},Rt(e,r,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ro(t){const{width:e,height:n}=qt(t);return{width:e,height:n}}function Po(t,e,n){const o=me(e),i=ge(e),l=n==="fixed",s=Ee(t,!0,l,e);let r={scrollLeft:0,scrollTop:0};const c=he(0);function a(){c.x=it(i)}if(o||!o&&!l)if((Me(e)!=="body"||ze(i))&&(r=ot(e)),o){const f=Ee(e,!0,l,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&a();l&&!o&&i&&a();const u=i&&!o&&!l?Xt(i,r):he(0),d=s.left+r.scrollLeft-c.x-u.x,h=s.top+r.scrollTop-c.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function ct(t){return le(t).position==="static"}function Pt(t,e){if(!me(t)||le(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ge(t)===n&&(n=n.ownerDocument.body),n}function Zt(t,e){const n=ee(t);if(nt(t))return n;if(!me(t)){let i=be(t);for(;i&&!Re(i);){if(se(i)&&!ct(i))return i;i=be(i)}return n}let o=Pt(t,e);for(;o&&vo(o)&&ct(o);)o=Pt(o,e);return o&&Re(o)&&ct(o)&&!gt(o)?n:o||bo(t)||n}const Mo=async function(t){const e=this.getOffsetParent||Zt,n=this.getDimensions,o=await n(t.floating);return{reference:Po(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ho(t){return le(t).direction==="rtl"}const Lo={convertOffsetParentRelativeRectToViewportRelativeRect:Eo,getDocumentElement:ge,getClippingRect:Io,getOffsetParent:Zt,getElementRects:Mo,getClientRects:Do,getDimensions:Ro,getScale:Te,isElement:se,isRTL:Ho};function Kt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function No(t,e){let n=null,o;const i=ge(t);function l(){var r;clearTimeout(o),(r=n)==null||r.disconnect(),n=null}function s(r,c){r===void 0&&(r=!1),c===void 0&&(c=1),l();const a=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=a;if(r||e(),!h||!f)return;const m=Ge(d),v=Ge(i.clientWidth-(u+h)),_=Ge(i.clientHeight-(d+f)),x=Ge(u),O={rootMargin:-m+"px "+-v+"px "+-_+"px "+-x+"px",threshold:xe(0,Xe(1,c))||1};let w=!0;function D(E){const b=E[0].intersectionRatio;if(b!==c){if(!w)return s();b?s(!1,b):o=setTimeout(()=>{s(!1,1e-7)},1e3)}b===1&&!Kt(a,t.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(D,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,O)}n.observe(t)}return s(!0),l}function Bo(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,a=pt(t),u=i||l?[...a?Ve(a):[],...Ve(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),l&&x.addEventListener("resize",n)});const d=a&&r?No(a,n):null;let h=-1,f=null;s&&(f=new ResizeObserver(x=>{let[k]=x;k&&k.target===a&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var O;(O=f)==null||O.observe(e)})),n()}),a&&!c&&f.observe(a),f.observe(e));let m,v=c?Ee(t):null;c&&_();function _(){const x=Ee(t);v&&!Kt(v,x)&&n(),v=x,m=requestAnimationFrame(_)}return n(),()=>{var x;u.forEach(k=>{i&&k.removeEventListener("scroll",n),l&&k.removeEventListener("resize",n)}),d==null||d(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(m)}}const Vo=fo,zo=ho,Uo=co,jo=(t,e,n)=>{const o=new Map,i={platform:Lo,...n},l={...i.platform,_c:o};return lo(t,e,{...i,platform:l})};function Wo(t){let e,n,o,i,l,s=t[0].name+"",r,c,a,u,d,h,f=t[0].description+"",m,v,_,x,k,O,w,D=t[0].url+"",E,b,P,A,B,ce,U,De,ae;return o=new Nn({props:{dle:t[0],section:t[2],position:t[3]}}),u=new ht({}),k=new Yn({props:{dle:t[0]}}),B=new Sn({}),{c(){e=T("div"),n=T("div"),$(o.$$.fragment),i=Y(),l=T("div"),r=_e(s),c=Y(),a=T("button"),$(u.$$.fragment),d=Y(),h=T("div"),m=_e(f),v=Y(),_=T("div"),x=T("div"),$(k.$$.fragment),O=Y(),w=T("a"),E=_e(D),P=Y(),A=T("button"),$(B.$$.fragment),this.h()},l(L){e=S(L,"DIV",{class:!0});var I=C(e);n=S(I,"DIV",{class:!0});var V=C(n);Q(o.$$.fragment,V),i=X(V),l=S(V,"DIV",{class:!0});var G=C(l);r=ye(G,s),G.forEach(p),c=X(V),a=S(V,"BUTTON",{class:!0});var ie=C(a);Q(u.$$.fragment,ie),ie.forEach(p),V.forEach(p),d=X(I),h=S(I,"DIV",{class:!0});var Ue=C(h);m=ye(Ue,f),Ue.forEach(p),v=X(I),_=S(I,"DIV",{class:!0});var Oe=C(_);x=S(Oe,"DIV",{class:!0});var wt=C(x);Q(k.$$.fragment,wt),wt.forEach(p),O=X(Oe),w=S(Oe,"A",{href:!0,target:!0,class:!0});var yt=C(w);E=ye(yt,D),yt.forEach(p),P=X(Oe),A=S(Oe,"BUTTON",{class:!0,title:!0});var _t=C(A);Q(B.$$.fragment,_t),_t.forEach(p),Oe.forEach(p),I.forEach(p),this.h()},h(){g(l,"class","text-center text-xl font-bold flex-1 svelte-1o5h3gw"),g(a,"class","close-btn svelte-1o5h3gw"),g(n,"class","header-row svelte-1o5h3gw"),g(h,"class","text-center text-base text-colorTextSoft px-6 svelte-1o5h3gw"),g(x,"class","hide-btn-container svelte-1o5h3gw"),g(w,"href",b=t[0].url),g(w,"target","_blank"),g(w,"class","svelte-1o5h3gw"),g(A,"class","played-btn svelte-1o5h3gw"),g(A,"title",ce=t[5]?"Mark as not played":"Mark as played"),de(A,"checked",t[5]),g(_,"class","url-row svelte-1o5h3gw"),g(e,"class","dlePopUp bevel svelte-1o5h3gw")},m(L,I){W(L,e,I),y(e,n),K(o,n,null),y(n,i),y(n,l),y(l,r),y(n,c),y(n,a),K(u,a,null),y(e,d),y(e,h),y(h,m),y(e,v),y(e,_),y(_,x),K(k,x,null),y(_,O),y(_,w),y(w,E),y(_,P),y(_,A),K(B,A,null),t[14](e),U=!0,De||(ae=[z(a,"click",t[7]),z(w,"click",t[11]),z(w,"auxclick",t[12]),z(w,"contextmenu",t[13]),z(A,"click",t[8]),ft(dt.call(null,e)),z(e,"click_outside",function(){He(t[1])&&t[1].apply(this,arguments)})],De=!0)},p(L,[I]){t=L;const V={};I&1&&(V.dle=t[0]),I&4&&(V.section=t[2]),I&8&&(V.position=t[3]),o.$set(V),(!U||I&1)&&s!==(s=t[0].name+"")&&Se(r,s),(!U||I&1)&&f!==(f=t[0].description+"")&&Se(m,f);const G={};I&1&&(G.dle=t[0]),k.$set(G),(!U||I&1)&&D!==(D=t[0].url+"")&&Se(E,D),(!U||I&1&&b!==(b=t[0].url))&&g(w,"href",b),(!U||I&32&&ce!==(ce=t[5]?"Mark as not played":"Mark as played"))&&g(A,"title",ce),(!U||I&32)&&de(A,"checked",t[5])},i(L){U||(F(o.$$.fragment,L),F(u.$$.fragment,L),F(k.$$.fragment,L),F(B.$$.fragment,L),U=!0)},o(L){R(o.$$.fragment,L),R(u.$$.fragment,L),R(k.$$.fragment,L),R(B.$$.fragment,L),U=!1},d(L){L&&p(e),Z(o),Z(u),Z(k),Z(B),t[14](null),De=!1,Pe(ae)}}}function Go(t,e,n){let o,i,l,s;fe(t,tn,b=>n(10,i=b)),fe(t,st,b=>n(16,l=b)),fe(t,Fe,b=>n(17,s=b));let{dle:r,handleClickOutside:c,referenceEl:a}=e,{section:u="regular"}=e,{position:d=null}=e;const h=Bt(),f=Dn();let m,v;function _(b,P){u==="sponsors"?h.trackSponsorClick(b,P,d):h.trackGameClick(b,P,"popup",u,d),f.markAsPlayed(b)}Qe(()=>(a&&m&&(v=Bo(a,m,()=>{jo(a,m,{placement:"top",middleware:[Vo(-10),Uo(),zo({padding:10})]}).then(({x:b,y:P})=>{Object.assign(m.style,{left:`${b}px`,top:`${P}px`})})})),()=>{v&&v()}));function x(){ke(Fe,s="",s)}function k(){i.has(r.id)?(f.unmarkAsPlayed(r),Be.show(`${Ie(r.name)} marked as not played`,{duration:5e3,actions:[{label:"Undo",onClick:()=>{f.markAsPlayed(r,!0)}},{label:"Manage",onClick:()=>{ke(st,l=!0,l)}}]})):(f.markAsPlayed(r,!0),Be.show(`${Ie(r.name)} marked as played`,{duration:5e3,actions:[{label:"Undo",onClick:()=>{f.unmarkAsPlayed(r)}},{label:"Manage",onClick:()=>{ke(st,l=!0,l)}}]}))}const O=()=>_(r,"popup-link"),w=()=>_(r,"popup-middle-click"),D=()=>_(r,"popup-context-menu");function E(b){Qt[b?"unshift":"push"](()=>{m=b,n(4,m)})}return t.$$set=b=>{"dle"in b&&n(0,r=b.dle),"handleClickOutside"in b&&n(1,c=b.handleClickOutside),"referenceEl"in b&&n(9,a=b.referenceEl),"section"in b&&n(2,u=b.section),"position"in b&&n(3,d=b.position)},t.$$.update=()=>{t.$$.dirty&1025&&n(5,o=i.has(r.id))},[r,c,u,d,m,o,_,x,k,a,i,O,w,D,E]}class $o extends ne{constructor(e){super(),oe(this,e,Go,Wo,te,{dle:0,handleClickOutside:1,referenceEl:9,section:2,position:3})}}export{$o as D,Nn as F,gn as I,fn as M,xn as a,Bt as b,Dn as c,hn as d,Be as e,Vn as f,Zo as g,Qo as h,ve as i,sn as o,Ko as p,qe as t,mt as u};
