import{s as Ee,n as J,c as he,o as bt,r as ge,w as Te,e as de,d as ze,i as tt}from"./CJdsnkcg.js";import{S as Ce,i as Ie,d as _,a as B,b as w,c as u,k as H,g as C,m as Y,q as ee,r as $,u as N,v as te,w as re,x as le,G as $e,B as oe,C as ie,A as G,l as j,f as z,e as F,j as A,s as O,h as me,E as Pe,o as ue,z as Z,p as W,t as Q,D as ve}from"./D8CeWvsA.js";import{e as pe,u as Ae,o as Be,g as _e,d as wt,h as lt,p as ke,i as kt,b as yt,j as Et,f as Ct}from"./ANhPJiJX.js";import{M as It,a as Dt,u as St,b as st,g as zt,c as At,o as Ve,p as Mt,D as Vt}from"./DBCphQbS.js";import{c as Le,B as be,d as nt}from"./vgp5mdiT.js";import{I as Ne}from"./DWZuID--.js";function Tt(n){let e,t,l,s,r,a,i;return{c(){e=Y("svg"),t=Y("circle"),l=Y("circle"),s=Y("circle"),r=Y("circle"),a=Y("circle"),i=Y("circle"),this.h()},l(f){e=H(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0});var o=C(e);t=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(t).forEach(_),l=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(l).forEach(_),s=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(s).forEach(_),r=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(r).forEach(_),a=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(a).forEach(_),i=H(o,"circle",{cx:!0,cy:!0,r:!0}),C(i).forEach(_),o.forEach(_),this.h()},h(){u(t,"cx","4"),u(t,"cy","4"),u(t,"r","1.5"),u(l,"cx","12"),u(l,"cy","4"),u(l,"r","1.5"),u(s,"cx","4"),u(s,"cy","8"),u(s,"r","1.5"),u(r,"cx","12"),u(r,"cy","8"),u(r,"r","1.5"),u(a,"cx","4"),u(a,"cy","12"),u(a,"r","1.5"),u(i,"cx","12"),u(i,"cy","12"),u(i,"r","1.5"),u(e,"width","16"),u(e,"height","18"),u(e,"viewBox","0 0 16 16"),u(e,"fill","currentColor")},m(f,o){B(f,e,o),w(e,t),w(e,l),w(e,s),w(e,r),w(e,a),w(e,i)},p:J,i:J,o:J,d(f){f&&_(e)}}}class Bt extends Ce{constructor(e){super(),Ie(this,e,null,Tt,Ee,{})}}function Nt(n){return n.focus(),{}}const{Map:$t}=zt;function Ue(n,e,t){const l=n.slice();l[28]=e[t],l[31]=t;const s=l[5].has(l[28].id)||l[12].has(l[28].id);return l[29]=s,l}function Pt(n){let e,t=[],l=new $t,s,r=pe(n[3]);const a=i=>i[28].id;for(let i=0;i<r.length;i+=1){let f=Ue(n,r,i),o=a(f);l.set(o,t[i]=Fe(o,f))}return{c(){e=A("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=z(i,"DIV",{class:!0});var f=C(e);for(let o=0;o<t.length;o+=1)t[o].l(f);f.forEach(_),this.h()},h(){u(e,"class","results svelte-1wz6c9b")},m(i,f){B(i,e,f);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);s=!0},p(i,f){f[0]&14392&&(r=pe(i[3]),oe(),t=Ae(t,f,a,1,i,r,l,e,Be,Fe,null,Ue),ie())},i(i){if(!s){for(let f=0;f<r.length;f+=1)N(t[f]);s=!0}},o(i){for(let f=0;f<t.length;f+=1)$(t[f]);s=!1},d(i){i&&_(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Lt(n){let e,t="No dles found.";return{c(){e=A("div"),e.textContent=t,this.h()},l(l){e=z(l,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-vii9eq"&&(e.textContent=t),this.h()},h(){u(e,"class","no-results svelte-1wz6c9b")},m(l,s){B(l,e,s)},p:J,i:J,o:J,d(l){l&&_(e)}}}function Ut(n){let e,t,l;return t=new Ne({}),{c(){e=A("div"),le(t.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);re(t.$$.fragment,r),r.forEach(_),this.h()},h(){u(e,"class","plus-icon svelte-1wz6c9b")},m(s,r){B(s,e,r),te(t,e,null),l=!0},i(s){l||(N(t.$$.fragment,s),l=!0)},o(s){$(t.$$.fragment,s),l=!1},d(s){s&&_(e),ee(t)}}}function Ft(n){let e,t='<div class="favorite-text svelte-1wz6c9b">Added!</div> <div class="favorite-subtext svelte-1wz6c9b">Click to remove</div>';return{c(){e=A("div"),e.innerHTML=t,this.h()},l(l){e=z(l,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-127cu57"&&(e.innerHTML=t),this.h()},h(){u(e,"class","favorite-message svelte-1wz6c9b")},m(l,s){B(l,e,s)},i:J,o:J,d(l){l&&_(e)}}}function Fe(n,e){let t,l,s,r,a,i,f,o=e[28].name+"",m,c,v,d=e[28].category+"",h,b,M,k,p,y,U,E,D,I;var T=Le[e[28].category];function L(R,S){return{}}T&&(r=Pe(T,L()));const se=[Ft,Ut],q=[];function fe(R,S){return S[0]&40&&(M=null),M==null&&(M=!!(R[29]&&R[12].has(R[28].id))),M?0:!R[29]&&!R[4]?1:-1}~(k=fe(e,[-1,-1]))&&(p=q[k]=se[k](e));function we(){return e[21](e[28])}return{key:n,first:null,c(){t=A("button"),l=A("div"),s=A("div"),r&&le(r.$$.fragment),a=O(),i=A("div"),f=A("div"),m=Q(o),c=O(),v=A("div"),h=Q(d),b=O(),p&&p.c(),y=O(),this.h()},l(R){t=z(R,"BUTTON",{class:!0,title:!0});var S=C(t);l=z(S,"DIV",{class:!0});var P=C(l);s=z(P,"DIV",{class:!0,style:!0});var x=C(s);r&&re(r.$$.fragment,x),x.forEach(_),a=F(P),i=z(P,"DIV",{class:!0});var ae=C(i);f=z(ae,"DIV",{class:!0});var ne=C(f);m=W(ne,o),ne.forEach(_),c=F(ae),v=z(ae,"DIV",{class:!0});var ce=C(v);h=W(ce,d),ce.forEach(_),ae.forEach(_),P.forEach(_),b=F(S),p&&p.l(S),y=F(S),S.forEach(_),this.h()},h(){u(s,"class","category-icon svelte-1wz6c9b"),G(s,"background-color",e[11][e[28].category]),u(f,"class","dle-name svelte-1wz6c9b"),u(v,"class","dle-category svelte-1wz6c9b"),u(i,"class","dle-details svelte-1wz6c9b"),u(l,"class","dle-info svelte-1wz6c9b"),u(t,"class","result-item svelte-1wz6c9b"),u(t,"title",U=e[29]?`Remove ${e[28].name} from favorites`:`Add ${e[28].name} to favorites`),Z(t,"favorited",e[29]),Z(t,"even-row",e[31]%2===0),Z(t,"odd-row",e[31]%2!==0),this.first=t},m(R,S){B(R,t,S),w(t,l),w(l,s),r&&te(r,s,null),w(l,a),w(l,i),w(i,f),w(f,m),w(i,c),w(i,v),w(v,h),w(t,b),~k&&q[k].m(t,null),w(t,y),E=!0,D||(I=j(t,"click",we),D=!0)},p(R,S){if(e=R,S[0]&8&&T!==(T=Le[e[28].category])){if(r){oe();const x=r;$(x.$$.fragment,1,0,()=>{ee(x,1)}),ie()}T?(r=Pe(T,L()),le(r.$$.fragment),N(r.$$.fragment,1),te(r,s,null)):r=null}(!E||S[0]&2056)&&G(s,"background-color",e[11][e[28].category]),(!E||S[0]&8)&&o!==(o=e[28].name+"")&&ue(m,o),(!E||S[0]&8)&&d!==(d=e[28].category+"")&&ue(h,d);let P=k;k=fe(e,S),k!==P&&(p&&(oe(),$(q[P],1,1,()=>{q[P]=null}),ie()),~k?(p=q[k],p||(p=q[k]=se[k](e),p.c()),N(p,1),p.m(t,y)):p=null),(!E||S[0]&40&&U!==(U=e[29]?`Remove ${e[28].name} from favorites`:`Add ${e[28].name} to favorites`))&&u(t,"title",U),(!E||S[0]&4136)&&Z(t,"favorited",e[29]),(!E||S[0]&8)&&Z(t,"even-row",e[31]%2===0),(!E||S[0]&8)&&Z(t,"odd-row",e[31]%2!==0)},i(R){E||(r&&N(r.$$.fragment,R),N(p),E=!0)},o(R){r&&$(r.$$.fragment,R),$(p),E=!1},d(R){R&&_(t),r&&ee(r),~k&&q[k].d(),D=!1,I()}}}function Ot(n){let e,t,l,s,r,a,i,f,o,m,c,v,d;t=new Dt({props:{title:"Add a new favorite!",onClose:n[0],variant:"inline"}});const h=[Lt,Pt],b=[];function M(k,p){return p[0]&12&&(f=null),f==null&&(f=!!(k[2].trim()&&k[3].length===0)),f?0:k[3].length>0?1:-1}return~(o=M(n,[-1,-1]))&&(m=b[o]=h[o](n)),{c(){e=A("div"),le(t.$$.fragment),l=O(),s=A("div"),r=A("input"),a=O(),i=A("div"),m&&m.c(),this.h()},l(k){e=z(k,"DIV",{class:!0,style:!0});var p=C(e);re(t.$$.fragment,p),l=F(p),s=z(p,"DIV",{class:!0});var y=C(s);r=z(y,"INPUT",{type:!0,placeholder:!0,class:!0}),y.forEach(_),a=F(p),i=z(p,"DIV",{class:!0});var U=C(i);m&&m.l(U),U.forEach(_),p.forEach(_),this.h()},h(){u(r,"type","text"),u(r,"placeholder","Search dles..."),u(r,"class","search-input svelte-1wz6c9b"),u(s,"class","search-header svelte-1wz6c9b"),u(i,"class","results-container svelte-1wz6c9b"),u(e,"class","searchPopup svelte-1wz6c9b"),G(e,"left",n[6]+(typeof n[6]=="number"?"px":"")),G(e,"top",n[7]+(typeof n[7]=="number"?"px":"")),G(e,"width",ye+"px"),G(e,"height",n[10]+"px"),G(e,"transform","translate("+n[8]+", "+n[9]+")"),G(e,"z-index",n[1])},m(k,p){B(k,e,p),te(t,e,null),w(e,l),w(e,s),w(s,r),$e(r,n[2]),w(e,a),w(e,i),~o&&b[o].m(i,null),c=!0,v||(d=[j(r,"input",n[20]),Te(Nt.call(null,r))],v=!0)},p(k,p){const y={};p[0]&1&&(y.onClose=k[0]),t.$set(y),p[0]&4&&r.value!==k[2]&&$e(r,k[2]);let U=o;o=M(k,p),o===U?~o&&b[o].p(k,p):(m&&(oe(),$(b[U],1,1,()=>{b[U]=null}),ie()),~o?(m=b[o],m?m.p(k,p):(m=b[o]=h[o](k),m.c()),N(m,1),m.m(i,null)):m=null),(!c||p[0]&64)&&G(e,"left",k[6]+(typeof k[6]=="number"?"px":"")),(!c||p[0]&128)&&G(e,"top",k[7]+(typeof k[7]=="number"?"px":"")),(!c||p[0]&1024)&&G(e,"height",k[10]+"px"),(!c||p[0]&768)&&G(e,"transform","translate("+k[8]+", "+k[9]+")"),(!c||p[0]&2)&&G(e,"z-index",k[1])},i(k){c||(N(t.$$.fragment,k),N(m),c=!0)},o(k){$(t.$$.fragment,k),$(m),c=!1},d(k){k&&_(e),ee(t),~o&&b[o].d(),v=!1,ge(d)}}}function Rt(n){let e,t;return e=new It({props:{onClose:n[0],overlay:!0,zIndex:n[1],$$slots:{default:[Ot]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[0]&1&&(r.onClose=l[0]),s[0]&2&&(r.zIndex=l[1]),s[0]&4095|s[1]&2&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}let ye=320,Zt=120,qt=400;function Ht(n,e,t){let l,s,r,a,i;he(n,_e,S=>t(19,r=S)),he(n,wt,S=>t(23,a=S)),he(n,lt,S=>t(11,i=S));let{onClose:f}=e,{pageX:o=null}=e,{pageY:m=null}=e,{zIndex:c=100}=e;const v=St(),d=st();let h="",b=[],M=new Set,k=!1,p=new Map,y=new Set,U=[],E=null,D,I,T,L;function se(){const S=new Map;for(const P of a)P!=null&&P.id&&(P!=null&&P.name)&&S.set(P.id,{dle:P,nameLower:P.name.toLowerCase(),nameFirstChar:P.name.toLowerCase().charAt(0)});p=S}function q(S){if(!S.trim()){t(3,b=[]);return}const P=S.toLowerCase(),x=[],ae=50;for(const[ne,{dle:ce,nameLower:De}]of p)if(!(y.has(ne)&&!M.has(ne))&&De.includes(P)){const Se=De.startsWith(P)?0:1;if(x.push({dle:ce,sortScore:Se,name:ce.name}),x.length>=ae&&Se===0)break}x.sort((ne,ce)=>ne.sortScore!==ce.sortScore?ne.sortScore-ce.sortScore:ne.name.localeCompare(ce.name)),t(3,b=x.slice(0,ae).map(ne=>ne.dle))}function fe(S){const P=v.toggleFavorite(S);P.success&&(M.add(S.id),d.trackFavoriteAction(S,P.action,"search-modal","favorites-search",null,P.totalFavorites))}bt(()=>{t(4,k="ontouchstart"in window||navigator.maxTouchPoints>0),se()});function we(){h=this.value,t(2,h)}const R=S=>fe(S);return n.$$set=S=>{"onClose"in S&&t(0,f=S.onClose),"pageX"in S&&t(14,o=S.pageX),"pageY"in S&&t(15,m=S.pageY),"zIndex"in S&&t(1,c=S.zIndex)},n.$$.update=()=>{if(n.$$.dirty[0]&8&&t(10,l=b.length>0?qt:Zt),n.$$.dirty[0]&311296)if(s||o===null||m===null)t(6,D="50%"),t(7,I="2%"),t(8,T="-50%"),t(9,L="0%");else{let S=o;S<ye/2&&(S=ye/2+5),S+ye/2>document.documentElement.clientWidth&&(S=document.documentElement.clientWidth-ye/2-5);const P=m-window.scrollY;t(7,I=P-68),t(9,L="0%"),t(6,D=S),t(8,T="-50%")}n.$$.dirty[0]&589824&&r!==U&&(t(5,y=new Set(r)),t(16,U=r)),n.$$.dirty[0]&131076&&(E&&cancelAnimationFrame(E),t(17,E=requestAnimationFrame(()=>{q(h),t(17,E=null)})))},t(18,s=typeof window<"u"&&window.innerWidth<=768),[f,c,h,b,k,y,D,I,T,L,l,i,M,fe,o,m,U,E,s,r,we,R]}class Yt extends Ce{constructor(e){super(),Ie(this,e,Ht,Rt,Ee,{onClose:0,pageX:14,pageY:15,zIndex:1},null,[-1,-1])}}function Kt(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(l){e=H(l,"svg",{xmlns:!0,class:!0,viewBox:!0,width:!0,height:!0});var s=C(e);t=H(s,"path",{d:!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"d","M15.676 17.312h.048a3.978 3.978 0 0 0-.436-.78L4.174 10.186c-.37.13-.607.519-.607 1.109v9.84c0 1.034.726 2.291 1.621 2.808l9.168 5.294c.544.314 1.026.282 1.32-.023V17.312zm-5.627 6.922-1.83-1.057v-1.918l1.83 1.057v1.918zm1.556-4.241c-.132.2-.357.369-.674.505l-.324.12c-.23.09-.38.183-.451.278a.609.609 0 0 0-.106.38v.242l-1.83-1.056v-.264c0-.294.056-.523.167-.685.111-.165.346-.321.705-.466l.324-.125c.193-.076.333-.171.421-.285a.642.642 0 0 0 .137-.417c0-.251-.081-.494-.243-.728a2.047 2.047 0 0 0-.679-.608 2.828 2.828 0 0 0-.887-.329 3.19 3.19 0 0 0-.994-.04v-1.691c.409.085.782.19 1.12.313s.664.276.978.457c.825.476 1.453 1.019 1.886 1.627.433.605.649 1.251.649 1.937 0 .352-.066.63-.198.834zM27.111 8.247 17.58 2.733c-.895-.518-2.346-.518-3.241 0L4.808 8.247c-.763.442-.875 1.117-.336 1.628l10.578 6.04a3.86 3.86 0 0 0 1.832-.003l10.589-6.06c.512-.508.392-1.17-.36-1.605zm-10.806 2.17-.23-.129c-.257-.144-.421-.307-.492-.488-.074-.183-.062-.474.037-.874l.095-.359c.055-.214.061-.389.016-.525a.552.552 0 0 0-.277-.329c-.219-.123-.482-.167-.788-.133a2.509 2.509 0 0 0-.958.326 3.996 3.996 0 0 0-1.507 1.545l-1.476-.827c.332-.333.658-.625.978-.875s.659-.474 1.015-.674c.934-.524 1.803-.835 2.607-.934.8-.101 1.5.016 2.098.352.307.172.508.368.603.589.092.219.097.507.016.865l-.1.356c-.066.255-.08.438-.041.55.035.11.124.205.265.284l.212.118-2.074 1.162zm2.369 1.327-1.673-.937 2.074-1.162 1.673.937-2.074 1.162zm9.073-1.57-11.06 6.329a3.97 3.97 0 0 0-.459.813v11.84c.287.358.793.414 1.37.081l9.168-5.294c.895-.517 1.621-1.774 1.621-2.808v-9.84c0-.608-.251-1.003-.641-1.121zm-4.6 13.506-1.83 1.056v-1.918l1.83-1.057v1.918zm1.556-6.037c-.132.353-.357.78-.674 1.284l-.324.494c-.23.355-.38.622-.451.799a1.33 1.33 0 0 0-.106.503v.242l-1.83 1.056v-.264c0-.294.056-.587.167-.878.111-.294.346-.721.705-1.279l.324-.5c.193-.298.333-.555.421-.771.091-.218.137-.409.137-.575 0-.251-.081-.4-.243-.447-.162-.05-.389.009-.679.177-.274.158-.569.39-.887.695-.318.302-.649.671-.994 1.107v-1.692c.409-.387.782-.714 1.12-.981s.664-.491.978-.673c.825-.476 1.453-.659 1.886-.55.433.106.649.502.649 1.188 0 .352-.066.706-.198 1.062z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","btn-svg"),u(e,"viewBox","0 0 32 32"),u(e,"width","24"),u(e,"height","24")},m(l,s){B(l,e,s),w(e,t)},p:J,i:J,o:J,d(l){l&&_(e)}}}class Xt extends Ce{constructor(e){super(),Ie(this,e,null,Kt,Ee,{})}}function Oe(n,e,t){const l=n.slice();l[50]=e[t];const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function Re(n,e,t){const l=n.slice();l[50]=e[t],l[55]=t;const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function Ze(n,e,t){const l=n.slice();l[50]=e[t],l[55]=t;const s=`${l[1]}-${l[50].id}`;return l[51]=s,l}function qe(n){let e,t,l,s,r,a,i,f,o,m,c="A-Z by Name",v,d,h="A-Z by Category",b,M,k,p,y,U;t=new be({props:{size:"sm",color:"green",icon:Ne,$$slots:{default:[Gt]},$$scope:{ctx:n}}}),t.$on("click",n[28]),s=new be({props:{size:"sm",color:"blue",class:n[0]?"reorder-active":"",$$slots:{default:[Jt]},$$scope:{ctx:n}}}),s.$on("click",n[16]),i=new be({props:{size:"sm",color:"blue",class:"sort-button",$$slots:{default:[jt]},$$scope:{ctx:n}}}),i.$on("click",n[14]),M=new be({props:{size:"sm",color:"orange",icon:Xt,$$slots:{default:[Wt]},$$scope:{ctx:n}}}),M.$on("click",n[27]);let E=n[10]&&He(n);return{c(){e=A("div"),le(t.$$.fragment),l=O(),le(s.$$.fragment),r=O(),a=A("div"),le(i.$$.fragment),f=O(),o=A("div"),m=A("button"),m.textContent=c,v=O(),d=A("button"),d.textContent=h,b=O(),le(M.$$.fragment),k=O(),E&&E.c(),this.h()},l(D){e=z(D,"DIV",{class:!0});var I=C(e);re(t.$$.fragment,I),l=F(I),re(s.$$.fragment,I),r=F(I),a=z(I,"DIV",{class:!0});var T=C(a);re(i.$$.fragment,T),f=F(T),o=z(T,"DIV",{class:!0});var L=C(o);m=z(L,"BUTTON",{class:!0,"data-svelte-h":!0}),me(m)!=="svelte-89w2uc"&&(m.textContent=c),v=F(L),d=z(L,"BUTTON",{class:!0,"data-svelte-h":!0}),me(d)!=="svelte-15r7md7"&&(d.textContent=h),L.forEach(_),T.forEach(_),b=F(I),re(M.$$.fragment,I),k=F(I),E&&E.l(I),I.forEach(_),this.h()},h(){u(m,"class","sort-option svelte-vsd94c"),u(d,"class","sort-option svelte-vsd94c"),u(o,"class","sort-dropdown svelte-vsd94c"),Z(o,"hidden",!n[8]),u(a,"class","sort-dropdown-container svelte-vsd94c"),u(e,"class","actions-bar svelte-vsd94c")},m(D,I){B(D,e,I),te(t,e,null),w(e,l),te(s,e,null),w(e,r),w(e,a),te(i,a,null),w(a,f),w(a,o),w(o,m),w(o,v),w(o,d),w(e,b),te(M,e,null),w(e,k),E&&E.m(e,null),p=!0,y||(U=[j(m,"click",n[22]),j(d,"click",n[21])],y=!0)},p(D,I){const T={};I[1]&67108864&&(T.$$scope={dirty:I,ctx:D}),t.$set(T);const L={};I[0]&1&&(L.class=D[0]?"reorder-active":""),I[0]&1|I[1]&67108864&&(L.$$scope={dirty:I,ctx:D}),s.$set(L);const se={};I[0]&256|I[1]&67108864&&(se.$$scope={dirty:I,ctx:D}),i.$set(se),(!p||I[0]&256)&&Z(o,"hidden",!D[8]);const q={};I[1]&67108864&&(q.$$scope={dirty:I,ctx:D}),M.$set(q),D[10]?E?(E.p(D,I),I[0]&1024&&N(E,1)):(E=He(D),E.c(),N(E,1),E.m(e,null)):E&&(oe(),$(E,1,1,()=>{E=null}),ie())},i(D){p||(N(t.$$.fragment,D),N(s.$$.fragment,D),N(i.$$.fragment,D),N(M.$$.fragment,D),N(E),p=!0)},o(D){$(t.$$.fragment,D),$(s.$$.fragment,D),$(i.$$.fragment,D),$(M.$$.fragment,D),$(E),p=!1},d(D){D&&_(e),ee(t),ee(s),ee(i),ee(M),E&&E.d(),y=!1,ge(U)}}}function Gt(n){let e;return{c(){e=Q("Add")},l(t){e=W(t,"Add")},m(t,l){B(t,e,l)},d(t){t&&_(e)}}}function Jt(n){let e=n[0]?"Done":"Reorder",t;return{c(){t=Q(e)},l(l){t=W(l,e)},m(l,s){B(l,t,s)},p(l,s){s[0]&1&&e!==(e=l[0]?"Done":"Reorder")&&ue(t,e)},d(l){l&&_(t)}}}function jt(n){let e,t,l;return{c(){e=Q(`Sort
          `),t=Y("svg"),l=Y("path"),this.h()},l(s){e=W(s,`Sort
          `),t=H(s,"svg",{class:!0,xmlns:!0,viewBox:!0,fill:!0});var r=C(t);l=H(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(l).forEach(_),r.forEach(_),this.h()},h(){u(l,"fill-rule","evenodd"),u(l,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),u(l,"clip-rule","evenodd"),u(l,"class","svelte-vsd94c"),u(t,"class","sort-chevron svelte-vsd94c"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 20 20"),u(t,"fill","currentColor"),Z(t,"open",n[8])},m(s,r){B(s,e,r),B(s,t,r),w(t,l)},p(s,r){r[0]&256&&Z(t,"open",s[8])},d(s){s&&(_(e),_(t))}}}function Wt(n){let e;return{c(){e=Q("Random")},l(t){e=W(t,"Random")},m(t,l){B(t,e,l)},d(t){t&&_(e)}}}function He(n){let e,t;return e=new be({props:{size:"sm",color:"neutral",$$slots:{default:[Qt]},$$scope:{ctx:n}}}),e.$on("click",n[15]),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[1]&67108864&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function Qt(n){let e;return{c(){e=Q("Undo")},l(t){e=W(t,"Undo")},m(t,l){B(t,e,l)},d(t){t&&_(e)}}}function xt(n){let e,t,l,s=[],r=new Map,a,i;const f=[ll,tl],o=[];function m(d,h){return d[4]==="row"?0:1}e=m(n),t=o[e]=f[e](n);let c=pe(n[6]);const v=d=>d[50].id;for(let d=0;d<c.length;d+=1){let h=Oe(n,c,d),b=v(h);r.set(b,s[d]=je(b,h))}return{c(){t.c(),l=O();for(let d=0;d<s.length;d+=1)s[d].c();a=ve()},l(d){t.l(d),l=F(d);for(let h=0;h<s.length;h+=1)s[h].l(d);a=ve()},m(d,h){o[e].m(d,h),B(d,l,h);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(d,h);B(d,a,h),i=!0},p(d,h){let b=e;e=m(d),e===b?o[e].p(d,h):(oe(),$(o[b],1,1,()=>{o[b]=null}),ie(),t=o[e],t?t.p(d,h):(t=o[e]=f[e](d),t.c()),N(t,1),t.m(l.parentNode,l)),h[0]&67111106&&(c=pe(d[6]),oe(),s=Ae(s,h,v,1,d,c,r,a.parentNode,Be,je,a,Oe),ie())},i(d){if(!i){N(t);for(let h=0;h<c.length;h+=1)N(s[h]);i=!0}},o(d){$(t);for(let h=0;h<s.length;h+=1)$(s[h]);i=!1},d(d){d&&(_(l),_(a)),o[e].d(d);for(let h=0;h<s.length;h+=1)s[h].d(d)}}}function el(n){let e,t,l="No favorites yet.",s,r,a;return r=new be({props:{size:"sm",color:"green",icon:Ne,$$slots:{default:[cl]},$$scope:{ctx:n}}}),r.$on("click",n[28]),{c(){e=A("div"),t=A("p"),t.textContent=l,s=O(),le(r.$$.fragment),this.h()},l(i){e=z(i,"DIV",{class:!0});var f=C(e);t=z(f,"P",{class:!0,"data-svelte-h":!0}),me(t)!=="svelte-d5qb2q"&&(t.textContent=l),s=F(f),re(r.$$.fragment,f),f.forEach(_),this.h()},h(){u(t,"class","empty-message svelte-vsd94c"),u(e,"class","empty-state svelte-vsd94c")},m(i,f){B(i,e,f),w(e,t),w(e,s),te(r,e,null),a=!0},p(i,f){const o={};f[1]&67108864&&(o.$$scope={dirty:f,ctx:i}),r.$set(o)},i(i){a||(N(r.$$.fragment,i),a=!0)},o(i){$(r.$$.fragment,i),a=!1},d(i){i&&_(e),ee(r)}}}function tl(n){let e,t=[],l=new Map,s,r,a,i=pe(n[6]);const f=o=>o[50].id;for(let o=0;o<i.length;o+=1){let m=Re(n,i,o),c=f(m);l.set(c,t[o]=Ke(c,m))}return{c(){e=A("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=z(o,"DIV",{class:!0});var m=C(e);for(let c=0;c<t.length;c+=1)t[c].l(m);m.forEach(_),this.h()},h(){u(e,"class","favorites-grid svelte-vsd94c")},m(o,m){B(o,e,m);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r||(a=[Te(s=nt.call(null,e,{items:n[6],dragDisabled:!n[0],dropTargetStyle:{},type:n[1]})),j(e,"consider",n[17]),j(e,"finalize",n[18])],r=!0)},p(o,m){m[0]&58732743&&(i=pe(o[6]),t=Ae(t,m,f,1,o,i,l,e,kt,Ke,null,Re)),s&&tt(s.update)&&m[0]&67&&s.update.call(null,{items:o[6],dragDisabled:!o[0],dropTargetStyle:{},type:o[1]})},i:J,o:J,d(o){o&&_(e);for(let m=0;m<t.length;m+=1)t[m].d();r=!1,ge(a)}}}function ll(n){let e,t,l=[],s=new Map,r,a,i,f,o=pe(n[6]);const m=c=>c[50].id;for(let c=0;c<o.length;c+=1){let v=Ze(n,o,c),d=m(v);s.set(d,l[c]=Ge(d,v))}return{c(){e=A("div"),t=A("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=z(c,"DIV",{class:!0});var v=C(e);t=z(v,"DIV",{class:!0});var d=C(t);for(let h=0;h<l.length;h+=1)l[h].l(d);d.forEach(_),v.forEach(_),this.h()},h(){u(t,"class","favorites-list svelte-vsd94c"),u(e,"class","reorder-wrapper svelte-vsd94c"),Z(e,"reorder-mode",n[0])},m(c,v){B(c,e,v),w(e,t);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(t,null);a=!0,i||(f=[Te(r=nt.call(null,t,{items:n[6],dragDisabled:!n[0],dropTargetStyle:{},type:n[1],transformDraggedElement:xe})),j(t,"consider",n[17]),j(t,"finalize",n[18])],i=!0)},p(c,v){v[0]&60305607&&(o=pe(c[6]),oe(),l=Ae(l,v,m,1,c,o,s,t,Be,Ge,null,Ze),ie()),r&&tt(r.update)&&v[0]&67&&r.update.call(null,{items:c[6],dragDisabled:!c[0],dropTargetStyle:{},type:c[1],transformDraggedElement:xe}),(!a||v[0]&1)&&Z(e,"reorder-mode",c[0])},i(c){if(!a){for(let v=0;v<o.length;v+=1)N(l[v]);a=!0}},o(c){for(let v=0;v<l.length;v+=1)$(l[v]);a=!1},d(c){c&&_(e);for(let v=0;v<l.length;v+=1)l[v].d();i=!1,ge(f)}}}function sl(n){let e,t=n[50].name+"",l,s=n[51],r,a;const i=()=>n[40](e,s),f=()=>n[40](null,s);function o(...c){return n[41](n[50],n[55],...c)}function m(){return n[42](n[50],n[55])}return{c(){e=A("span"),l=Q(t),this.h()},l(c){e=z(c,"SPAN",{class:!0,role:!0,tabindex:!0});var v=C(e);l=W(v,t),v.forEach(_),this.h()},h(){u(e,"class","dle-name-btn grid-name svelte-vsd94c"),u(e,"role","button"),u(e,"tabindex","0")},m(c,v){B(c,e,v),w(e,l),i(),r||(a=[j(e,"click",o),j(e,"auxclick",m)],r=!0)},p(c,v){n=c,v[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(f(),s=n[51],i())},d(c){c&&_(e),f(),r=!1,ge(a)}}}function nl(n){let e,t=n[50].name+"",l,s=n[51];const r=()=>n[39](e,s),a=()=>n[39](null,s);return{c(){e=A("span"),l=Q(t),this.h()},l(i){e=z(i,"SPAN",{class:!0});var f=C(e);l=W(f,t),f.forEach(_),this.h()},h(){u(e,"class","dle-name-btn grid-name drag-mode svelte-vsd94c")},m(i,f){B(i,e,f),w(e,l),r()},p(i,f){n=i,f[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(a(),s=n[51],r())},d(i){i&&_(e),a()}}}function Ye(n){let e,t=n[50].category+"",l;return{c(){e=A("div"),l=Q(t),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);l=W(r,t),r.forEach(_),this.h()},h(){u(e,"class","dle-category svelte-vsd94c")},m(s,r){B(s,e,r),w(e,l)},p(s,r){r[0]&64&&t!==(t=s[50].category+"")&&ue(l,t)},d(s){s&&_(e)}}}function Ke(n,e){let t,l,s,r=e[55]+1+"",a,i,f,o,m,c,v="Play",d,h,b;function M(E,D){return E[0]?nl:sl}let k=M(e),p=k(e),y=e[2]&&Ye(e);function U(){return e[43](e[50],e[55])}return{key:n,first:null,c(){t=A("div"),l=A("div"),s=A("div"),a=Q(r),i=O(),f=A("div"),p.c(),o=O(),y&&y.c(),m=O(),c=A("button"),c.textContent=v,d=O(),this.h()},l(E){t=z(E,"DIV",{class:!0});var D=C(t);l=z(D,"DIV",{class:!0});var I=C(l);s=z(I,"DIV",{class:!0,style:!0});var T=C(s);a=W(T,r),T.forEach(_),i=F(I),f=z(I,"DIV",{class:!0});var L=C(f);p.l(L),o=F(L),y&&y.l(L),L.forEach(_),I.forEach(_),m=F(D),c=z(D,"BUTTON",{class:!0,"data-svelte-h":!0}),me(c)!=="svelte-16l9gop"&&(c.textContent=v),d=F(D),D.forEach(_),this.h()},h(){u(s,"class","position-number svelte-vsd94c"),G(s,"--category-color",e[13][e[50].category]),u(f,"class","grid-card-details svelte-vsd94c"),u(l,"class","grid-card-inner svelte-vsd94c"),u(c,"class","play-btn svelte-vsd94c"),u(t,"class","grid-card svelte-vsd94c"),Z(t,"drag-enabled",e[0]),Z(t,"played",e[12].has(e[50].id)),this.first=t},m(E,D){B(E,t,D),w(t,l),w(l,s),w(s,a),w(l,i),w(l,f),p.m(f,null),w(f,o),y&&y.m(f,null),w(t,m),w(t,c),w(t,d),h||(b=j(c,"click",U),h=!0)},p(E,D){e=E,D[0]&64&&r!==(r=e[55]+1+"")&&ue(a,r),D[0]&8256&&G(s,"--category-color",e[13][e[50].category]),k===(k=M(e))&&p?p.p(e,D):(p.d(1),p=k(e),p&&(p.c(),p.m(f,o))),e[2]?y?y.p(e,D):(y=Ye(e),y.c(),y.m(f,null)):y&&(y.d(1),y=null),D[0]&1&&Z(t,"drag-enabled",e[0]),D[0]&4160&&Z(t,"played",e[12].has(e[50].id))},d(E){E&&_(t),p.d(),y&&y.d(),h=!1,b()}}}function rl(n){let e,t=n[50].name+"",l,s=n[51],r,a;const i=()=>n[33](e,s),f=()=>n[33](null,s);function o(...c){return n[34](n[50],n[55],...c)}function m(){return n[35](n[50],n[55])}return{c(){e=A("span"),l=Q(t),this.h()},l(c){e=z(c,"SPAN",{class:!0,role:!0,tabindex:!0});var v=C(e);l=W(v,t),v.forEach(_),this.h()},h(){u(e,"class","dle-name-btn svelte-vsd94c"),u(e,"role","button"),u(e,"tabindex","0")},m(c,v){B(c,e,v),w(e,l),i(),r||(a=[j(e,"click",o),j(e,"auxclick",m)],r=!0)},p(c,v){n=c,v[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(f(),s=n[51],i())},d(c){c&&_(e),f(),r=!1,ge(a)}}}function ol(n){let e,t=n[50].name+"",l,s=n[51];const r=()=>n[32](e,s),a=()=>n[32](null,s);return{c(){e=A("span"),l=Q(t),this.h()},l(i){e=z(i,"SPAN",{class:!0});var f=C(e);l=W(f,t),f.forEach(_),this.h()},h(){u(e,"class","dle-name-btn drag-mode svelte-vsd94c")},m(i,f){B(i,e,f),w(e,l),r()},p(i,f){n=i,f[0]&64&&t!==(t=n[50].name+"")&&ue(l,t),s!==n[51]&&(a(),s=n[51],r())},d(i){i&&_(e),a()}}}function Xe(n){let e,t=n[50].category+"",l;return{c(){e=A("div"),l=Q(t),this.h()},l(s){e=z(s,"DIV",{class:!0});var r=C(e);l=W(r,t),r.forEach(_),this.h()},h(){u(e,"class","dle-category svelte-vsd94c")},m(s,r){B(s,e,r),w(e,l)},p(s,r){r[0]&64&&t!==(t=s[50].category+"")&&ue(l,t)},d(s){s&&_(e)}}}function il(n){let e,t="Play",l,s;function r(){return n[38](n[50],n[55])}return{c(){e=A("button"),e.textContent=t,this.h()},l(a){e=z(a,"BUTTON",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1e1gng9"&&(e.textContent=t),this.h()},h(){u(e,"class","play-btn svelte-vsd94c")},m(a,i){B(a,e,i),l||(s=j(e,"click",r),l=!0)},p(a,i){n=a},i:J,o:J,d(a){a&&_(e),l=!1,s()}}}function al(n){let e,t,l,s,r,a,i,f,o,m,c,v,d,h,b;function M(){return n[36](n[55])}function k(){return n[37](n[55])}return v=new Bt({}),{c(){e=A("button"),t=Y("svg"),l=Y("path"),r=O(),a=A("button"),i=Y("svg"),f=Y("path"),m=O(),c=A("div"),le(v.$$.fragment),this.h()},l(p){e=z(p,"BUTTON",{class:!0,title:!0});var y=C(e);t=H(y,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var U=C(t);l=H(U,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(l).forEach(_),U.forEach(_),y.forEach(_),r=F(p),a=z(p,"BUTTON",{class:!0,title:!0});var E=C(a);i=H(E,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var D=C(i);f=H(D,"path",{"fill-rule":!0,d:!0,"clip-rule":!0,class:!0}),C(f).forEach(_),D.forEach(_),E.forEach(_),m=F(p),c=z(p,"DIV",{class:!0});var I=C(c);re(v.$$.fragment,I),I.forEach(_),this.h()},h(){u(l,"fill-rule","evenodd"),u(l,"d","M10.53 15.28a.75.75 0 0 1-1.06 0l-4.25-4.25a.75.75 0 1 1 1.06-1.06L10 13.69l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25ZM14.78 5.47a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 6.53a.75.75 0 0 1 1.06-1.06L10 9.19l3.72-3.72a.75.75 0 0 1 1.06 0Z"),u(l,"clip-rule","evenodd"),u(l,"class","svelte-vsd94c"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"viewBox","0 0 20 20"),u(t,"fill","currentColor"),u(t,"class","rotate-180 svelte-vsd94c"),u(e,"class","move-btn svelte-vsd94c"),e.disabled=s=n[55]===0,u(e,"title","Move to top"),u(f,"fill-rule","evenodd"),u(f,"d","M10.53 15.28a.75.75 0 0 1-1.06 0l-4.25-4.25a.75.75 0 1 1 1.06-1.06L10 13.69l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25ZM14.78 5.47a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 6.53a.75.75 0 0 1 1.06-1.06L10 9.19l3.72-3.72a.75.75 0 0 1 1.06 0Z"),u(f,"clip-rule","evenodd"),u(f,"class","svelte-vsd94c"),u(i,"xmlns","http://www.w3.org/2000/svg"),u(i,"viewBox","0 0 20 20"),u(i,"fill","currentColor"),u(i,"class","svelte-vsd94c"),u(a,"class","move-btn svelte-vsd94c"),a.disabled=o=n[55]===n[6].length-1,u(a,"title","Move to bottom"),u(c,"class","drag-handle svelte-vsd94c")},m(p,y){B(p,e,y),w(e,t),w(t,l),B(p,r,y),B(p,a,y),w(a,i),w(i,f),B(p,m,y),B(p,c,y),te(v,c,null),d=!0,h||(b=[j(e,"click",M),j(a,"click",k)],h=!0)},p(p,y){n=p,(!d||y[0]&64&&s!==(s=n[55]===0))&&(e.disabled=s),(!d||y[0]&64&&o!==(o=n[55]===n[6].length-1))&&(a.disabled=o)},i(p){d||(N(v.$$.fragment,p),d=!0)},o(p){$(v.$$.fragment,p),d=!1},d(p){p&&(_(e),_(r),_(a),_(m),_(c)),ee(v),h=!1,ge(b)}}}function Ge(n,e){let t,l,s,r=e[55]+1+"",a,i,f,o,m,c,v,d,h,b;function M(I,T){return I[0]?ol:rl}let k=M(e),p=k(e),y=e[2]&&Xe(e);const U=[al,il],E=[];function D(I,T){return I[0]?0:1}return v=D(e),d=E[v]=U[v](e),{key:n,first:null,c(){t=A("div"),l=A("div"),s=A("div"),a=Q(r),i=O(),f=A("div"),p.c(),o=O(),y&&y.c(),m=O(),c=A("div"),d.c(),h=O(),this.h()},l(I){t=z(I,"DIV",{class:!0});var T=C(t);l=z(T,"DIV",{class:!0});var L=C(l);s=z(L,"DIV",{class:!0,style:!0});var se=C(s);a=W(se,r),se.forEach(_),i=F(L),f=z(L,"DIV",{class:!0});var q=C(f);p.l(q),o=F(q),y&&y.l(q),q.forEach(_),L.forEach(_),m=F(T),c=z(T,"DIV",{class:!0});var fe=C(c);d.l(fe),fe.forEach(_),h=F(T),T.forEach(_),this.h()},h(){u(s,"class","position-number svelte-vsd94c"),G(s,"--category-color",e[13][e[50].category]),u(f,"class","dle-details svelte-vsd94c"),u(l,"class","dle-info svelte-vsd94c"),u(c,"class","favorite-actions svelte-vsd94c"),u(t,"class","favorite-item svelte-vsd94c"),Z(t,"even-row",e[55]%2===0),Z(t,"odd-row",e[55]%2!==0),Z(t,"drag-enabled",e[0]),Z(t,"played",e[12].has(e[50].id)),this.first=t},m(I,T){B(I,t,T),w(t,l),w(l,s),w(s,a),w(l,i),w(l,f),p.m(f,null),w(f,o),y&&y.m(f,null),w(t,m),w(t,c),E[v].m(c,null),w(t,h),b=!0},p(I,T){e=I,(!b||T[0]&64)&&r!==(r=e[55]+1+"")&&ue(a,r),(!b||T[0]&8256)&&G(s,"--category-color",e[13][e[50].category]),k===(k=M(e))&&p?p.p(e,T):(p.d(1),p=k(e),p&&(p.c(),p.m(f,o))),e[2]?y?y.p(e,T):(y=Xe(e),y.c(),y.m(f,null)):y&&(y.d(1),y=null);let L=v;v=D(e),v===L?E[v].p(e,T):(oe(),$(E[L],1,1,()=>{E[L]=null}),ie(),d=E[v],d?d.p(e,T):(d=E[v]=U[v](e),d.c()),N(d,1),d.m(c,null)),(!b||T[0]&64)&&Z(t,"even-row",e[55]%2===0),(!b||T[0]&64)&&Z(t,"odd-row",e[55]%2!==0),(!b||T[0]&1)&&Z(t,"drag-enabled",e[0]),(!b||T[0]&4160)&&Z(t,"played",e[12].has(e[50].id))},i(I){b||(N(d),b=!0)},o(I){$(d),b=!1},d(I){I&&_(t),p.d(),y&&y.d(),E[v].d()}}}function Je(n){let e,t;function l(...s){return n[44](n[50],...s)}return e=new Vt({props:{dle:n[50],handleClickOutside:n[26],section:n[1],position:n[6].findIndex(l),referenceEl:n[7][n[51]]}}),{c(){le(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,r){te(e,s,r),t=!0},p(s,r){n=s;const a={};r[0]&64&&(a.dle=n[50]),r[0]&2&&(a.section=n[1]),r[0]&64&&(a.position=n[6].findIndex(l)),r[0]&194&&(a.referenceEl=n[7][n[51]]),e.$set(a)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){$(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function je(n,e){let t,l,s,r=e[11]===e[51]&&Je(e);return{key:n,first:null,c(){t=ve(),r&&r.c(),l=ve(),this.h()},l(a){t=ve(),r&&r.l(a),l=ve(),this.h()},h(){this.first=t},m(a,i){B(a,t,i),r&&r.m(a,i),B(a,l,i),s=!0},p(a,i){e=a,e[11]===e[51]?r?(r.p(e,i),i[0]&2114&&N(r,1)):(r=Je(e),r.c(),N(r,1),r.m(l.parentNode,l)):r&&(oe(),$(r,1,1,()=>{r=null}),ie())},i(a){s||(N(r),s=!0)},o(a){$(r),s=!1},d(a){a&&(_(t),_(l)),r&&r.d(a)}}}function cl(n){let e;return{c(){e=Q("Add Favorite")},l(t){e=W(t,"Add Favorite")},m(t,l){B(t,e,l)},d(t){t&&_(e)}}}function We(n){let e,t;return e=new Yt({props:{onClose:n[29],zIndex:n[3]}}),{c(){le(e.$$.fragment)},l(l){re(e.$$.fragment,l)},m(l,s){te(e,l,s),t=!0},p(l,s){const r={};s[0]&8&&(r.zIndex=l[3]),e.$set(r)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){ee(e,l)}}}function ul(n){let e,t,l,s,r,a,i,f,o=n[5].length>0&&qe(n);const m=[el,xt],c=[];function v(h,b){return h[5].length===0?0:1}s=v(n),r=c[s]=m[s](n);let d=n[9]&&We(n);return{c(){e=A("div"),o&&o.c(),t=O(),l=A("div"),r.c(),a=O(),d&&d.c(),i=ve(),this.h()},l(h){e=z(h,"DIV",{class:!0});var b=C(e);o&&o.l(b),t=F(b),l=z(b,"DIV",{class:!0});var M=C(l);r.l(M),M.forEach(_),b.forEach(_),a=F(h),d&&d.l(h),i=ve(),this.h()},h(){u(l,"class","list-content svelte-vsd94c"),u(e,"class","favorites-list-container svelte-vsd94c")},m(h,b){B(h,e,b),o&&o.m(e,null),w(e,t),w(e,l),c[s].m(l,null),B(h,a,b),d&&d.m(h,b),B(h,i,b),f=!0},p(h,b){h[5].length>0?o?(o.p(h,b),b[0]&32&&N(o,1)):(o=qe(h),o.c(),N(o,1),o.m(e,t)):o&&(oe(),$(o,1,1,()=>{o=null}),ie());let M=s;s=v(h),s===M?c[s].p(h,b):(oe(),$(c[M],1,1,()=>{c[M]=null}),ie(),r=c[s],r?r.p(h,b):(r=c[s]=m[s](h),r.c()),N(r,1),r.m(l,null)),h[9]?d?(d.p(h,b),b[0]&512&&N(d,1)):(d=We(h),d.c(),N(d,1),d.m(i.parentNode,i)):d&&(oe(),$(d,1,1,()=>{d=null}),ie())},i(h){f||(N(o),N(r),N(d),f=!0)},o(h){$(o),$(r),$(d),f=!1},d(h){h&&(_(e),_(a),_(i)),o&&o.d(),c[s].d(),d&&d.d(h)}}}function Qe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const xe=n=>{n.style.willChange="transform",n.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)",n.style.opacity="0.95"};function fl(n,e,t){let l,s,r,a,i,f;he(n,ke,g=>t(11,s=g)),he(n,yt,g=>t(5,r=g)),he(n,_e,g=>t(45,a=g)),he(n,Et,g=>t(12,i=g)),he(n,lt,g=>t(13,f=g));let{section:o="favorites"}=e,{showCategory:m=!1}=e,{searchModalZIndex:c=1100}=e,{viewMode:v="row"}=e,{dragEnabled:d=!1}=e,h=[],b={},M=[],k=!1,p=!1;function y(){t(8,k=!k)}function U(){t(8,k=!1)}function E(){t(31,M=[...M,[...a]].slice(-10))}function D(){if(M.length===0)return;const g=M[M.length-1];t(31,M=M.slice(0,-1)),de(_e,a=g,a),localStorage.favorites=JSON.stringify(a)}function I(){t(0,d=!d),d||U()}function T(g){t(6,h=g.detail.items)}function L(g){t(6,h=g.detail.items),de(_e,a=h.map(V=>V.id),a),localStorage.favorites=JSON.stringify(a)}function se(g){if(g===0)return;E();const V=h[g];t(6,h=[V,...h.slice(0,g),...h.slice(g+1)]),de(_e,a=h.map(K=>K.id),a),localStorage.favorites=JSON.stringify(a)}function q(g){if(g===h.length-1)return;E();const V=h[g];t(6,h=[...h.slice(0,g),...h.slice(g+1),V]),de(_e,a=h.map(K=>K.id),a),localStorage.favorites=JSON.stringify(a)}function fe(){U();const g=h.map(X=>X.id),V=[...h].sort((X,Me)=>X.category.toLowerCase().localeCompare(Me.category.toLowerCase())),K=V.map(X=>X.id);Qe(g,K)||(E(),t(6,h=V),de(_e,a=K,a),localStorage.favorites=JSON.stringify(a))}function we(){U();const g=h.map(X=>X.id),V=[...h].sort((X,Me)=>X.name.toLowerCase().localeCompare(Me.name.toLowerCase())),K=V.map(X=>X.id);Qe(g,K)||(E(),t(6,h=V),de(_e,a=K,a),localStorage.favorites=JSON.stringify(a))}const{trackGameClick:R}=st(),S=At();function P(g,V){R(g,"play-button","favorites",o,V),S.markAsPlayed(g),Ve(g.url)}function x(g,V,K){if(g.ctrlKey||g.metaKey){R(V,"ctrl-click","favorites",o,K),S.markAsPlayed(V),Ve(V.url);return}const X=`${o}-${V.id}`;s===X?de(ke,s="",s):de(ke,s=X,s)}function ae(g,V){R(g,"middle-click","favorites",o,V),S.markAsPlayed(g),Ve(g.url)}function ne(g){var X;const V=(X=g.detail)==null?void 0:X.originalEvent,K=V==null?void 0:V.target;K&&K.closest(".dlePopUp")||de(ke,s="",s)}function ce(){const g={click_type:"random-button-favorites",section:o,available_options:r.length};Mt(r,g)}function De(){t(9,p=!0)}function Se(){t(9,p=!1)}function rt(){de(ke,s="",s)}function ot(g,V){ze[g?"unshift":"push"](()=>{b[V]=g,t(7,b)})}function it(g,V){ze[g?"unshift":"push"](()=>{b[V]=g,t(7,b)})}const at=(g,V,K)=>x(K,g,V),ct=(g,V)=>ae(g,V),ut=g=>se(g),ft=g=>q(g),dt=(g,V)=>P(g,V);function ht(g,V){ze[g?"unshift":"push"](()=>{b[V]=g,t(7,b)})}function _t(g,V){ze[g?"unshift":"push"](()=>{b[V]=g,t(7,b)})}const vt=(g,V,K)=>x(K,g,V),mt=(g,V)=>ae(g,V),pt=(g,V)=>P(g,V),gt=(g,V)=>V.id===g.id;return n.$$set=g=>{"section"in g&&t(1,o=g.section),"showCategory"in g&&t(2,m=g.showCategory),"searchModalZIndex"in g&&t(3,c=g.searchModalZIndex),"viewMode"in g&&t(4,v=g.viewMode),"dragEnabled"in g&&t(0,d=g.dragEnabled)},n.$$.update=()=>{n.$$.dirty[0]&32&&t(6,h=r.map(g=>({...g,id:g.id}))),n.$$.dirty[1]&1&&t(10,l=M.length>0)},[d,o,m,c,v,r,h,b,k,p,l,s,i,f,y,D,I,T,L,se,q,fe,we,P,x,ae,ne,ce,De,Se,rt,M,ot,it,at,ct,ut,ft,dt,ht,_t,vt,mt,pt,gt]}class yl extends Ce{constructor(e){super(),Ie(this,e,fl,ul,Ee,{section:1,showCategory:2,searchModalZIndex:3,viewMode:4,dragEnabled:0,clearPoppedUp:30},null,[-1,-1])}get clearPoppedUp(){return this.$$.ctx[30]}}function dl(n){let e,t,l;return{c(){e=Y("svg"),t=Y("rect"),l=Y("rect"),this.h()},l(s){e=H(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=C(e);t=H(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(t).forEach(_),l=H(r,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0}),C(l).forEach(_),r.forEach(_),this.h()},h(){u(t,"x","2"),u(t,"y","3"),u(t,"width","16"),u(t,"height","5.5"),u(t,"rx","1"),u(l,"x","2"),u(l,"y","11.5"),u(l,"width","16"),u(l,"height","5.5"),u(l,"rx","1"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","svelte-1e6pysk")},m(s,r){B(s,e,r),w(e,t),w(e,l)},d(s){s&&_(e)}}}function hl(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(l){e=H(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=C(e);t=H(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),C(t).forEach(_),s.forEach(_),this.h()},h(){u(t,"fill-rule","evenodd"),u(t,"d","M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z"),u(t,"clip-rule","evenodd"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class","svelte-1e6pysk")},m(l,s){B(l,e,s),w(e,t)},d(l){l&&_(e)}}}function et(n){let e,t="NEW";return{c(){e=A("span"),e.textContent=t,this.h()},l(l){e=z(l,"SPAN",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-enrg1q"&&(e.textContent=t),this.h()},h(){u(e,"class","toggle-label svelte-1e6pysk")},m(l,s){B(l,e,s)},d(l){l&&_(e)}}}function _l(n){let e,t,l,s,r,a;function i(c,v){return c[1]==="row"?hl:dl}let f=i(n),o=f(n),m=n[0]&&n[2]&&et();return{c(){e=A("button"),o.c(),t=O(),m&&m.c(),this.h()},l(c){e=z(c,"BUTTON",{class:!0,title:!0,"aria-label":!0});var v=C(e);o.l(v),t=F(v),m&&m.l(v),v.forEach(_),this.h()},h(){u(e,"class","view-toggle svelte-1e6pysk"),u(e,"title",l=n[1]==="row"?"Switch to Grid view":"Switch to Row view"),u(e,"aria-label",s=n[1]==="row"?"Switch to Grid view":"Switch to Row view")},m(c,v){B(c,e,v),o.m(e,null),w(e,t),m&&m.m(e,null),r||(a=j(e,"click",n[5]),r=!0)},p(c,[v]){f!==(f=i(c))&&(o.d(1),o=f(c),o&&(o.c(),o.m(e,t))),c[0]&&c[2]?m||(m=et(),m.c(),m.m(e,null)):m&&(m.d(1),m=null),v&2&&l!==(l=c[1]==="row"?"Switch to Grid view":"Switch to Row view")&&u(e,"title",l),v&2&&s!==(s=c[1]==="row"?"Switch to Grid view":"Switch to Row view")&&u(e,"aria-label",s)},i:J,o:J,d(c){c&&_(e),o.d(),m&&m.d(),r=!1,a()}}}function vl(n,e,t){let l,s,{showBadge:r=!1}=e;const{viewMode:a,showNewBadge:i,toggle:f}=Ct;return he(n,a,o=>t(1,l=o)),he(n,i,o=>t(2,s=o)),n.$$set=o=>{"showBadge"in o&&t(0,r=o.showBadge)},[r,l,s,a,i,f]}class El extends Ce{constructor(e){super(),Ie(this,e,vl,_l,Ee,{showBadge:0})}}export{yl as F,Bt as I,Yt as S,El as V};
