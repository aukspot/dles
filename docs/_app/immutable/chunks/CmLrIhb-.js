import{D as N,s as te,o as Qe,x as Mt,r as Pe,z as Ht,A as Lt,B as Nt,f as ft,n as j,i as He,c as fe,e as ke,d as Qt}from"./w_vi9pvy.js";import{S as ne,i as oe,d as p,r as R,u as F,B as Le,C as Ne,a as W,l as z,D as Ae,A as Je,b as y,c as g,f as S,g as C,j as T,k as M,m as H,q as Z,o as Se,v as K,p as ye,e as X,w as Q,t as be,s as Y,x as $,z as de,h as rt}from"./BHN_rrvk.js";import{i as $t,j as pe,k as en,b as re,p as Fe,s as _t,l as ue,m as kt,n as st,h as tn}from"./D05DKe3s.js";import{w as nn}from"./4rnmUhQg.js";const Zo=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,xt={DEDICATED_SECTION:"dles-of-the-week",REGULAR_SECTION:"regular-section-dle-of-week"};function Ct(t,e,n,o,i=null){const s={dle_name:t.name,dle_id:t.id,click_type:e,section:o},l=on(t,o,i);return l&&(s.position_id=l),s}function on(t,e,n){if(n!==null&&e==="dles-of-the-week")return`${xt.DEDICATED_SECTION}-${n+1}`;if(e==="regular"){const o=rn(t);if(o!==-1)return`${xt.REGULAR_SECTION}-${o+1}`}return null}function rn(t){return N($t).findIndex(n=>n.id===t.id)}function qe(t,e,n=""){typeof window<"u"&&window.umami&&window.umami.track(t,e)}function ve(){let t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function sn(t,e=null){if(e){const n={dle_name:e.dle_name,dle_id:e.dle_id,click_type:e.click_type,section:e.section||"random"};e.position_id&&e.section&&e.section.includes("dles-of-the-week")&&(n.position_id=e.position_id),qe("game-click",n)}Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:t}).click()}function Ko(t,e=null){if(t.length!=0){const n=t[Math.floor(Math.random()*t.length)],o=e||{dle_name:n.name,dle_id:n.id,click_type:"random-button",section:"random"};e&&(o.dle_name=n.name,o.dle_id=n.id),sn(n.url,o)}}function Qo(t){const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"America/New_York"}));for(const o of t)if(new Date(o.date)<n)return o;return t[t.length-1]}function dt(t){const e=n=>{t&&!t.contains(n.target)&&!n.defaultPrevented&&t.dispatchEvent(new CustomEvent("click_outside",{detail:{originalEvent:n}}))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function ln(t){let e,n,o,i;const s=t[9].default,l=Mt(s,t,t[8],null);return{c(){e=T("div"),l&&l.c()},l(r){e=S(r,"DIV",{});var c=C(e);l&&l.l(c),c.forEach(p)},m(r,c){W(r,e,c),l&&l.m(e,null),n=!0,o||(i=[ft(dt.call(null,e)),z(e,"click_outside",t[3])],o=!0)},p(r,c){l&&l.p&&(!n||c&256)&&Ht(l,s,r,r[8],n?Nt(s,r[8],c,null):Lt(r[8]),null)},i(r){n||(F(l,r),n=!0)},o(r){R(l,r),n=!1},d(r){r&&p(e),l&&l.d(r),o=!1,Pe(i)}}}function cn(t){let e,n,o,i,s;const l=t[9].default,r=Mt(l,t,t[8],null);return{c(){e=T("div"),n=T("div"),r&&r.c(),this.h()},l(c){e=S(c,"DIV",{class:!0,style:!0});var u=C(e);n=S(u,"DIV",{});var a=C(n);r&&r.l(a),a.forEach(p),u.forEach(p),this.h()},h(){g(e,"class","modal-overlay svelte-q2lgn8"),Je(e,"z-index",t[1])},m(c,u){W(c,e,u),y(e,n),r&&r.m(n,null),o=!0,i||(s=[ft(dt.call(null,n)),z(n,"click_outside",t[3])],i=!0)},p(c,u){r&&r.p&&(!o||u&256)&&Ht(r,l,c,c[8],o?Nt(l,c[8],u,null):Lt(c[8]),null),(!o||u&2)&&Je(e,"z-index",c[1])},i(c){o||(F(r,c),o=!0)},o(c){R(r,c),o=!1},d(c){c&&p(e),r&&r.d(c),i=!1,Pe(s)}}}function an(t){let e,n,o,i,s,l;const r=[cn,ln],c=[];function u(a,f){return a[0]?0:1}return e=u(t),n=c[e]=r[e](t),{c(){n.c(),o=Ae()},l(a){n.l(a),o=Ae()},m(a,f){c[e].m(a,f),W(a,o,f),i=!0,s||(l=z(window,"keydown",t[2]),s=!0)},p(a,[f]){let m=e;e=u(a),e===m?c[e].p(a,f):(Le(),R(c[m],1,1,()=>{c[m]=null}),Ne(),n=c[e],n?n.p(a,f):(n=c[e]=r[e](a),n.c()),F(n,1),n.m(o.parentNode,o))},i(a){i||(F(n),i=!0)},o(a){R(n),i=!1},d(a){a&&p(o),c[e].d(a),s=!1,l()}}}function un(t,e,n){let{$$slots:o={},$$scope:i}=e,{onClose:s}=e,{overlay:l=!1}=e,{closeOnEscape:r=!0}=e,{closeOnClickOutside:c=!0}=e,{zIndex:u=100}=e,{lockScroll:a=!0}=e;Qe(()=>{if(a){const d=document.documentElement,h=d.style.overflow,v=d.style.scrollbarGutter;return d.style.overflow="hidden",d.style.scrollbarGutter="stable",()=>{d.style.overflow=h,d.style.scrollbarGutter=v}}});function f(d){r&&d.key==="Escape"&&s()}function m(){c&&s()}return t.$$set=d=>{"onClose"in d&&n(4,s=d.onClose),"overlay"in d&&n(0,l=d.overlay),"closeOnEscape"in d&&n(5,r=d.closeOnEscape),"closeOnClickOutside"in d&&n(6,c=d.closeOnClickOutside),"zIndex"in d&&n(1,u=d.zIndex),"lockScroll"in d&&n(7,a=d.lockScroll),"$$scope"in d&&n(8,i=d.$$scope)},[l,u,f,m,s,r,c,a,i,o]}class fn extends ne{constructor(e){super(),oe(this,e,un,an,te,{onClose:4,overlay:0,closeOnEscape:5,closeOnClickOutside:6,zIndex:1,lockScroll:7})}}function dn(t){let e,n,o;return{c(){e=H("svg"),n=H("path"),o=H("circle"),this.h()},l(i){e=M(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var s=C(e);n=M(s,"path",{d:!0}),C(n).forEach(p),o=M(s,"circle",{cx:!0,cy:!0,r:!0}),C(o).forEach(p),s.forEach(p),this.h()},h(){g(n,"d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"),g(o,"cx","12"),g(o,"cy","12"),g(o,"r","3"),g(e,"width","20"),g(e,"height","20"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","2"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round")},m(i,s){W(i,e,s),y(e,n),y(e,o)},p:j,i:j,o:j,d(i){i&&p(e)}}}class mn extends ne{constructor(e){super(),oe(this,e,null,dn,te,{})}}function hn(t){let e,n,o;return{c(){e=H("svg"),n=H("path"),o=H("line"),this.h()},l(i){e=M(i,"svg",{viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var s=C(e);n=M(s,"path",{d:!0}),C(n).forEach(p),o=M(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),C(o).forEach(p),s.forEach(p),this.h()},h(){g(n,"d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"),g(o,"x1","1"),g(o,"y1","1"),g(o,"x2","23"),g(o,"y2","23"),g(e,"viewBox","0 0 24 24"),g(e,"fill","none"),g(e,"stroke","currentColor"),g(e,"stroke-width","2"),g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round")},m(i,s){W(i,e,s),y(e,n),y(e,o)},p:j,i:j,o:j,d(i){i&&p(e)}}}class gn extends ne{constructor(e){super(),oe(this,e,null,hn,te,{})}}function vn(t){let e,n;return{c(){e=H("svg"),n=H("path"),this.h()},l(o){e=M(o,"svg",{viewBox:!0,stroke:!0});var i=C(e);n=M(i,"path",{d:!0}),C(n).forEach(p),i.forEach(p),this.h()},h(){g(n,"d","M2 9.137C2 14 6.02 16.591 8.962 18.911 10 19.729 11 20.5 12 20.5s2-.77 3.038-1.59C17.981 16.592 22 14 22 9.138c0-4.863-5.5-8.312-10-3.636C7.5.825 2 4.274 2 9.137Z"),g(e,"viewBox","0 0 24 24"),g(e,"stroke","currentColor")},m(o,i){W(o,e,i),y(e,n)},p:j,i:j,o:j,d(o){o&&p(e)}}}class pn extends ne{constructor(e){super(),oe(this,e,null,vn,te,{})}}function wn(t){let e,n,o,i,s,l;return{c(){e=H("svg"),n=H("g"),o=H("path"),i=H("defs"),s=H("clipPath"),l=H("path"),this.h()},l(r){e=M(r,"svg",{viewBox:!0,class:!0});var c=C(e);n=M(c,"g",{});var u=C(n);o=M(u,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(o).forEach(p),u.forEach(p),i=M(c,"defs",{});var a=C(i);s=M(a,"clipPath",{id:!0});var f=C(s);l=M(f,"path",{d:!0}),C(l).forEach(p),f.forEach(p),a.forEach(p),c.forEach(p),this.h()},h(){g(o,"stroke-linecap","round"),g(o,"stroke-linejoin","round"),g(o,"stroke-width","2.5"),g(o,"d","m7 7 10 10M7 17 17 7"),g(l,"d","M0 0h24v24H0z"),g(s,"id","a"),g(e,"viewBox","0 0 24 24"),g(e,"class","svelte-166z64e")},m(r,c){W(r,e,c),y(e,n),y(n,o),y(e,i),y(i,s),y(s,l)},p:j,i:j,o:j,d(r){r&&p(e)}}}class mt extends ne{constructor(e){super(),oe(this,e,null,wn,te,{})}}function yn(t){let e,n,o,i,s,l,r,c,u,a,f;return c=new mt({}),{c(){e=T("div"),n=T("div"),o=Y(),i=T("h3"),s=be(t[0]),l=Y(),r=T("button"),$(c.$$.fragment),this.h()},l(m){e=S(m,"DIV",{class:!0});var d=C(e);n=S(d,"DIV",{class:!0}),C(n).forEach(p),o=X(d),i=S(d,"H3",{class:!0});var h=C(i);s=ye(h,t[0]),h.forEach(p),l=X(d),r=S(d,"BUTTON",{});var v=C(r);Q(c.$$.fragment,v),v.forEach(p),d.forEach(p),this.h()},h(){g(n,"class","w-6"),g(i,"class","modal-title-inline svelte-v4jt7w"),g(e,"class","modal-header-inline svelte-v4jt7w")},m(m,d){W(m,e,d),y(e,n),y(e,o),y(e,i),y(i,s),y(e,l),y(e,r),K(c,r,null),u=!0,a||(f=z(r,"click",function(){He(t[1])&&t[1].apply(this,arguments)}),a=!0)},p(m,d){t=m,(!u||d&1)&&Se(s,t[0])},i(m){u||(F(c.$$.fragment,m),u=!0)},o(m){R(c.$$.fragment,m),u=!1},d(m){m&&p(e),Z(c),a=!1,f()}}}function bn(t){let e,n,o,i,s,l,r,c,u;return l=new mt({}),{c(){e=T("div"),n=T("h3"),o=be(t[0]),i=Y(),s=T("button"),$(l.$$.fragment),this.h()},l(a){e=S(a,"DIV",{class:!0});var f=C(e);n=S(f,"H3",{class:!0});var m=C(n);o=ye(m,t[0]),m.forEach(p),i=X(f),s=S(f,"BUTTON",{class:!0});var d=C(s);Q(l.$$.fragment,d),d.forEach(p),f.forEach(p),this.h()},h(){g(n,"class","modal-title svelte-v4jt7w"),g(s,"class","close-button svelte-v4jt7w"),g(e,"class","modal-header-section svelte-v4jt7w")},m(a,f){W(a,e,f),y(e,n),y(n,o),y(e,i),y(e,s),K(l,s,null),r=!0,c||(u=z(s,"click",function(){He(t[1])&&t[1].apply(this,arguments)}),c=!0)},p(a,f){t=a,(!r||f&1)&&Se(o,t[0])},i(a){r||(F(l.$$.fragment,a),r=!0)},o(a){R(l.$$.fragment,a),r=!1},d(a){a&&p(e),Z(l),c=!1,u()}}}function _n(t){let e,n,o,i;const s=[bn,yn],l=[];function r(c,u){return c[2]==="section"?0:1}return e=r(t),n=l[e]=s[e](t),{c(){n.c(),o=Ae()},l(c){n.l(c),o=Ae()},m(c,u){l[e].m(c,u),W(c,o,u),i=!0},p(c,[u]){let a=e;e=r(c),e===a?l[e].p(c,u):(Le(),R(l[a],1,1,()=>{l[a]=null}),Ne(),n=l[e],n?n.p(c,u):(n=l[e]=s[e](c),n.c()),F(n,1),n.m(o.parentNode,o))},i(c){i||(F(n),i=!0)},o(c){R(n),i=!1},d(c){c&&p(o),l[e].d(c)}}}function kn(t,e,n){let{title:o}=e,{onClose:i}=e,{variant:s="inline"}=e;return t.$$set=l=>{"title"in l&&n(0,o=l.title),"onClose"in l&&n(1,i=l.onClose),"variant"in l&&n(2,s=l.variant)},[o,i,s]}class xn extends ne{constructor(e){super(),oe(this,e,kn,_n,te,{title:0,onClose:1,variant:2})}}function Cn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ie(t){return`<strong>${Cn(t)}</strong>`}function En(){const{subscribe:t,update:e}=nn([]);let n=0;const o=new Map;function i(a,f){if(f<=0)return;const m=setTimeout(()=>{o.delete(a),c(a)},f);o.set(a,{timeoutId:m,remaining:f,startedAt:Date.now()})}function s(a,f={}){const m=++n,d={id:m,message:a,type:f.type||"info",duration:f.duration??5e3,action:f.action||null,actions:f.actions||null};return e(h=>[...h,d]),i(m,d.duration),m}function l(a){const f=o.get(a);f&&(clearTimeout(f.timeoutId),f.remaining-=Date.now()-f.startedAt,f.timeoutId=null)}function r(a){const f=o.get(a);!f||f.timeoutId||i(a,f.remaining)}function c(a){const f=o.get(a);f&&(clearTimeout(f.timeoutId),o.delete(a)),e(m=>m.filter(d=>d.id!==a))}function u(){o.forEach(a=>clearTimeout(a.timeoutId)),o.clear(),e(()=>[])}return{subscribe:t,show:s,pause:l,resume:r,dismiss:c,clear:u}}const Be=En();function Bt(){function t(i,s,l,r,c){try{if(typeof window>"u"||!window.umami)return!1;const u=Ct(i,s,l,r,c),a={dle_name:u.dle_name,dle_id:u.dle_id,action:s,section:u.section};return u.position_id&&(a.position_id=u.position_id),qe("favorite-action",a,`${l} ${s}`),!0}catch(u){return console.error("Failed to track favorite action:",u),!1}}function e(i,s,l,r,c){try{if(typeof window>"u"||!window.umami)return!1;const u=Ct(i,s,l,r,c);return qe("game-click",u,`${l} ${s}`),!0}catch(u){return console.error("Failed to track game click:",u),!1}}function n(i,s,l){try{if(typeof window>"u"||!window.umami)return!1;const r={sponsor_name:i.name,sponsor_id:i.id,sponsor_url:i.url,click_type:s};return l!=null&&(r.position_id=`sponsor-${l+1}`),qe("sponsor-click",r,`sponsor ${s}`),!0}catch(r){return console.error("Failed to track sponsor click:",r),!1}}function o(){return typeof window<"u"&&!!window.umami}return{trackFavoriteAction:t,trackGameClick:e,trackSponsorClick:n,isTrackingAvailable:o}}function Dn(){function t(s){return N(pe).includes(s.id)}function e(s,l=!1){if(!l&&!N(en))return!1;try{const r=N(pe);if(r.includes(s.id))return!0;const c=[...r,s.id];return pe.set(c),ve()&&(localStorage.playedDles=JSON.stringify(c)),!0}catch(r){return console.error("Failed to mark dle as played:",r),!1}}function n(s){try{const r=N(pe).filter(c=>c!==s.id);return pe.set(r),ve()&&(localStorage.playedDles=JSON.stringify(r)),!0}catch(l){return console.error("Failed to unmark dle as played:",l),!1}}function o(){const s=N(pe);return pe.set([]),ve()&&(localStorage.playedDles=JSON.stringify([])),s}function i(){return N(pe).length}return{isPlayed:t,markAsPlayed:e,unmarkAsPlayed:n,resetPlayedDles:o,getPlayedCount:i}}function On(t){let e,n;return{c(){e=H("svg"),n=H("path"),this.h()},l(o){e=M(o,"svg",{fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,xmlns:!0});var i=C(e);n=M(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(p),i.forEach(p),this.h()},h(){g(n,"stroke-linecap","round"),g(n,"stroke-linejoin","round"),g(n,"d","M5 13l4 4L19 7"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"stroke","currentColor"),g(e,"stroke-width","2.5"),g(e,"xmlns","http://www.w3.org/2000/svg")},m(o,i){W(o,e,i),y(e,n)},p:j,i:j,o:j,d(o){o&&p(e)}}}class Sn extends ne{constructor(e){super(),oe(this,e,null,On,te,{})}}let je=null,q=null;function Tn(){q!==null&&(re.set(q),ve()&&(localStorage.favorites=JSON.stringify(q)),q=null)}function lt(t){q=t,je&&clearTimeout(je),je=setTimeout(()=>{Tn(),je=null},15)}function ht(){function t(l){return q!==null?q.includes(l.id):N(re).includes(l.id)}function e(l){try{const r=q!==null?q:N(re);if(r.includes(l.id))return!0;const c=[...r,l.id];return lt(c),!0}catch(r){return console.error("Failed to add favorite:",r),!1}}function n(l,r){try{const c=q!==null?q:N(re);if(c.includes(l.id))return!0;const u=[...c],a=Math.min(r,u.length);return u.splice(a,0,l.id),lt(u),!0}catch(c){return console.error("Failed to insert favorite:",c),!1}}function o(l){try{const r=q!==null?q:N(re),c=r.indexOf(l.id),u=r.filter(a=>a!==l.id);return lt(u),{success:!0,index:c}}catch(r){return console.error("Failed to remove favorite:",r),{success:!1,index:-1}}}function i(l){const r=t(l);let c=!1,u=-1;if(r){const f=o(l);c=f.success,u=f.index}else c=e(l);const a=q!==null?q.length:N(re).length;return{success:c,action:r?"unfavorite":"favorite",wasInFavorites:r,previousIndex:u,totalFavorites:a}}function s(){return q!==null?q.length:N(re).length}return{isFavorited:t,addToFavorites:e,insertFavoriteAt:n,removeFromFavorites:o,toggleFavorite:i,getFavoritesCount:s}}function An(t){let e,n,o,i,s,l;return{c(){e=H("svg"),n=H("defs"),o=H("mask"),i=H("rect"),s=H("path"),l=H("path"),this.h()},l(r){e=M(r,"svg",{viewBox:!0,fill:!0});var c=C(e);n=M(c,"defs",{});var u=C(n);o=M(u,"mask",{id:!0});var a=C(o);i=M(a,"rect",{width:!0,height:!0,fill:!0}),C(i).forEach(p),s=M(a,"path",{fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(s).forEach(p),a.forEach(p),u.forEach(p),l=M(c,"path",{mask:!0,d:!0}),C(l).forEach(p),c.forEach(p),this.h()},h(){g(i,"width","24"),g(i,"height","24"),g(i,"fill","white"),g(s,"fill","none"),g(s,"stroke","black"),g(s,"stroke-width","2"),g(s,"stroke-linecap","round"),g(s,"stroke-linejoin","round"),g(s,"d","m 12.453133,4.7825861 -1.6652,2.6158265 3.001768,3.0270634 -2.386811,2.974459"),g(o,"id","brokenHeartMask"),g(l,"mask","url(#brokenHeartMask)"),g(l,"d","M2 9.137C2 14 6.02 16.591 8.962 18.911 10 19.729 11 20.5 12 20.5s2-.77 3.038-1.59C17.981 16.592 22 14 22 9.138c0-4.863-5.5-8.312-10-3.636C7.5.825 2 4.274 2 9.137Z"),g(e,"viewBox","0 0 24 24"),g(e,"fill","currentColor")},m(r,c){W(r,e,c),y(e,n),y(n,o),y(o,i),y(o,s),y(e,l)},p:j,i:j,o:j,d(r){r&&p(e)}}}class Fn extends ne{constructor(e){super(),oe(this,e,null,An,te,{})}}function In(t){let e,n;return e=new pn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Rn(t){let e,n;return e=new Fn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Pn(t){let e,n,o,i,s,l,r;const c=[Rn,In],u=[];function a(f,m){return f[1]&&f[3]&&!f[4]?0:1}return n=a(t),o=u[n]=c[n](t),{c(){e=T("button"),o.c(),this.h()},l(f){e=S(f,"BUTTON",{style:!0,class:!0,title:!0});var m=C(e);o.l(m),m.forEach(p),this.h()},h(){Je(e,"fill",t[2]??"transparent"),g(e,"class","hover:scale-105 flex items-center justify-center favorite-button svelte-1jsw2dm"),g(e,"title",i=t[1]?"Remove from favorites":"Add to favorites"),de(e,"small",t[0]==="small"),de(e,"is-favorited",t[1])},m(f,m){W(f,e,m),u[n].m(e,null),s=!0,l||(r=[z(e,"click",t[5]),z(e,"mouseenter",t[10]),z(e,"mouseleave",t[11])],l=!0)},p(f,[m]){let d=n;n=a(f),n!==d&&(Le(),R(u[d],1,1,()=>{u[d]=null}),Ne(),o=u[n],o||(o=u[n]=c[n](f),o.c()),F(o,1),o.m(e,null)),(!s||m&4)&&Je(e,"fill",f[2]??"transparent"),(!s||m&2&&i!==(i=f[1]?"Remove from favorites":"Add to favorites"))&&g(e,"title",i),(!s||m&1)&&de(e,"small",f[0]==="small"),(!s||m&2)&&de(e,"is-favorited",f[1])},i(f){s||(F(o),s=!0)},o(f){R(o),s=!1},d(f){f&&p(e),u[n].d(),l=!1,Pe(r)}}}let Mn="rgb(var(--colors-colorTextSofter))",Hn="transparent";function Ln(t,e,n){let o,i,s,l;fe(t,Fe,w=>n(12,i=w)),fe(t,_t,w=>n(13,s=w)),fe(t,re,w=>n(9,l=w));let{dle:r}=e,{size:c="normal"}=e,{section:u="regular"}=e,{position:a=null}=e;const f=ht(),m=Bt();let d,h=!1,v=!1;Qe(()=>{n(4,v="ontouchstart"in window||navigator.maxTouchPoints>0)});function b(w){n(2,d=w?Mn:Hn)}function x(){const w=f.toggleFavorite(r);if(w.success){b(!w.wasInFavorites),m.trackFavoriteAction(r,w.action,"button",u,a);const D={label:"Manage",onClick:()=>{ke(_t,s=!0,s)}};if(w.action==="favorite")Be.show(`${Ie(r.name)} added to favorites`,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>f.removeFromFavorites(r)},D]});else{ke(Fe,i="",i);const E=w.previousIndex;Be.show(`${Ie(r.name)} removed from favorites`,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>f.insertFavoriteAt(r,E)},D]})}}}const k=()=>!v&&n(3,h=!0),O=()=>n(3,h=!1);return t.$$set=w=>{"dle"in w&&n(6,r=w.dle),"size"in w&&n(0,c=w.size),"section"in w&&n(7,u=w.section),"position"in w&&n(8,a=w.position)},t.$$.update=()=>{t.$$.dirty&576&&n(1,o=l.includes(r.id)),t.$$.dirty&2&&b(o)},[c,o,d,h,v,x,r,u,a,l,k,O]}class Nn extends ne{constructor(e){super(),oe(this,e,Ln,Pn,te,{dle:6,size:0,section:7,position:8})}}let We=null,J=null;function Bn(){J!==null&&(ue.set(J),ve()&&(localStorage.hiddenDles=JSON.stringify(J)),J=null)}function Et(t){J=t,We&&clearTimeout(We),We=setTimeout(()=>{Bn(),We=null},15)}function Vn(){function t(r){return J!==null?J.includes(r.id):N(ue).includes(r.id)}function e(r){try{const c=J!==null?J:N(ue);if(c.includes(r.id))return{success:!0,previousFavoriteIndex:-1};const u=[...c,r.id];Et(u);let a=-1;const f=N(re);return f.includes(r.id)&&(a=f.indexOf(r.id),ht().removeFromFavorites(r)),{success:!0,previousFavoriteIndex:a}}catch(c){return console.error("Failed to hide dle:",c),{success:!1,previousFavoriteIndex:-1}}}function n(r){try{const u=(J!==null?J:N(ue)).filter(a=>a!==r.id);return Et(u),!0}catch(c){return console.error("Failed to unhide dle:",c),!1}}function o(r){const c=t(r),u=!c&&N(re).includes(r.id);let a=!1,f=-1;if(c)a=n(r);else{const d=e(r);a=d.success,f=d.previousFavoriteIndex}const m=J!==null?J.length:N(ue).length;return{success:a,action:c?"unhide":"hide",wasHidden:c,wasFavorited:u,previousFavoriteIndex:f,totalHidden:m}}function i(){return J!==null?J.length:N(ue).length}function s(){const r=N(ue);return ue.set([]),ve()&&(localStorage.hiddenDles=JSON.stringify([])),r}function l(r){ue.set(r),ve()&&(localStorage.hiddenDles=JSON.stringify(r))}return{isHidden:t,hideDle:e,unhideDle:n,toggleHidden:o,getHiddenCount:i,resetHiddenDles:s,restoreHiddenDles:l}}function zn(t){let e,n,o,i,s,l,r,c,u,a,f,m='You can unhide it later in <strong class="svelte-1xvsh34">Settings â†’ Manage hidden DLES</strong>.',d,h,v,b="Cancel",x,k,O="Hide",w,D,E;return n=new xn({props:{title:"Hide this dle?",onClose:t[2],variant:"section"}}),{c(){e=T("div"),$(n.$$.fragment),o=Y(),i=T("div"),s=T("p"),l=be("Are you sure you want to hide "),r=T("strong"),c=be(t[0]),u=be("?"),a=Y(),f=T("p"),f.innerHTML=m,d=Y(),h=T("div"),v=T("button"),v.textContent=b,x=Y(),k=T("button"),k.textContent=O,this.h()},l(_){e=S(_,"DIV",{class:!0});var P=C(e);Q(n.$$.fragment,P),o=X(P),i=S(P,"DIV",{class:!0});var A=C(i);s=S(A,"P",{class:!0});var B=C(s);l=ye(B,"Are you sure you want to hide "),r=S(B,"STRONG",{class:!0});var ce=C(r);c=ye(ce,t[0]),ce.forEach(p),u=ye(B,"?"),B.forEach(p),a=X(A),f=S(A,"P",{class:!0,"data-svelte-h":!0}),rt(f)!=="svelte-2xnyb1"&&(f.innerHTML=m),d=X(A),h=S(A,"DIV",{class:!0});var U=C(h);v=S(U,"BUTTON",{class:!0,"data-svelte-h":!0}),rt(v)!=="svelte-1dr2zjf"&&(v.textContent=b),x=X(U),k=S(U,"BUTTON",{class:!0,"data-svelte-h":!0}),rt(k)!=="svelte-xghks5"&&(k.textContent=O),U.forEach(p),A.forEach(p),P.forEach(p),this.h()},h(){g(r,"class","svelte-1xvsh34"),g(s,"class","message svelte-1xvsh34"),g(f,"class","hint svelte-1xvsh34"),g(v,"class","btn btn-cancel svelte-1xvsh34"),g(k,"class","btn btn-confirm svelte-1xvsh34"),g(h,"class","button-row svelte-1xvsh34"),g(i,"class","modal-content svelte-1xvsh34"),g(e,"class","modal-container svelte-1xvsh34")},m(_,P){W(_,e,P),K(n,e,null),y(e,o),y(e,i),y(i,s),y(s,l),y(s,r),y(r,c),y(s,u),y(i,a),y(i,f),y(i,d),y(i,h),y(h,v),y(h,x),y(h,k),w=!0,D||(E=[z(v,"click",function(){He(t[2])&&t[2].apply(this,arguments)}),z(k,"click",function(){He(t[1])&&t[1].apply(this,arguments)})],D=!0)},p(_,P){t=_;const A={};P&4&&(A.onClose=t[2]),n.$set(A),(!w||P&1)&&Se(c,t[0])},i(_){w||(F(n.$$.fragment,_),w=!0)},o(_){R(n.$$.fragment,_),w=!1},d(_){_&&p(e),Z(n),D=!1,Pe(E)}}}function Un(t){let e,n;return e=new fn({props:{onClose:t[2],overlay:!0,zIndex:1100,$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,[i]){const s={};i&4&&(s.onClose=o[2]),i&15&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function jn(t,e,n){let{dleName:o}=e,{onConfirm:i}=e,{onCancel:s}=e;return t.$$set=l=>{"dleName"in l&&n(0,o=l.dleName),"onConfirm"in l&&n(1,i=l.onConfirm),"onCancel"in l&&n(2,s=l.onCancel)},[o,i,s]}class Wn extends ne{constructor(e){super(),oe(this,e,jn,Un,te,{dleName:0,onConfirm:1,onCancel:2})}}function Gn(t){let e,n;return e=new gn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function qn(t){let e,n;return e=new mn({}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Dt(t){let e,n;return e=new Wn({props:{dleName:t[0].name,onConfirm:t[7],onCancel:t[8]}}),{c(){$(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,i){K(e,o,i),n=!0},p(o,i){const s={};i&1&&(s.dleName=o[0].name),e.$set(s)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){Z(e,o)}}}function Jn(t){let e,n,o,i,s,l,r,c,u;const a=[qn,Gn],f=[];function m(h,v){return h[5]?0:1}n=m(t),o=f[n]=a[n](t);let d=t[4]&&Dt(t);return{c(){e=T("button"),o.c(),s=Y(),d&&d.c(),l=Ae(),this.h()},l(h){e=S(h,"BUTTON",{class:!0,title:!0});var v=C(e);o.l(v),v.forEach(p),s=X(h),d&&d.l(h),l=Ae(),this.h()},h(){g(e,"class","hover:scale-105 flex items-center justify-center hide-button svelte-odutcb"),g(e,"title",i=t[5]?"Unhide dle":"Hide dle"),de(e,"small",t[1]==="small"),de(e,"is-hidden",t[5])},m(h,v){W(h,e,v),f[n].m(e,null),W(h,s,v),d&&d.m(h,v),W(h,l,v),r=!0,c||(u=[z(e,"click",t[6]),z(e,"mouseenter",t[11]),z(e,"mouseleave",t[12])],c=!0)},p(h,[v]){let b=n;n=m(h),n!==b&&(Le(),R(f[b],1,1,()=>{f[b]=null}),Ne(),o=f[n],o||(o=f[n]=a[n](h),o.c()),F(o,1),o.m(e,null)),(!r||v&32&&i!==(i=h[5]?"Unhide dle":"Hide dle"))&&g(e,"title",i),(!r||v&2)&&de(e,"small",h[1]==="small"),(!r||v&32)&&de(e,"is-hidden",h[5]),h[4]?d?(d.p(h,v),v&16&&F(d,1)):(d=Dt(h),d.c(),F(d,1),d.m(l.parentNode,l)):d&&(Le(),R(d,1,1,()=>{d=null}),Ne())},i(h){r||(F(o),F(d),r=!0)},o(h){R(o),R(d),r=!1},d(h){h&&(p(e),p(s),p(l)),f[n].d(),d&&d.d(h),c=!1,Pe(u)}}}function Xn(t,e,n){let o,i,s,l,r;fe(t,Fe,E=>n(15,i=E)),fe(t,kt,E=>n(16,s=E)),fe(t,re,E=>n(9,l=E)),fe(t,ue,E=>n(10,r=E));let{dle:c}=e,{size:u="normal"}=e;const a=Vn(),f=ht();let m=!1,d=!1,h=!1,v=!1;Qe(()=>{n(3,d="ontouchstart"in window||navigator.maxTouchPoints>0),ve()&&(v=localStorage.getItem("hasHiddenDle")==="true")});function b(){if(o){a.unhideDle(c);return}if(!v){n(4,h=!0);return}x()}function x(){const E=a.toggleHidden(c);if(E.success&&E.action==="hide"){ve()&&(localStorage.setItem("hasHiddenDle","true"),v=!0);const _=E.wasFavorited?`${Ie(c.name)} hidden and removed from favorites`:`${Ie(c.name)} hidden`,P=E.previousFavoriteIndex;Be.show(_,{type:"info",duration:5e3,actions:[{label:"Undo",onClick:()=>{a.unhideDle(c),E.wasFavorited&&f.insertFavoriteAt(c,P)}},{label:"Manage",onClick:()=>{ke(kt,s=!0,s)}}]}),ke(Fe,i="",i)}}function k(){n(4,h=!1),x()}function O(){n(4,h=!1)}const w=()=>!d&&n(2,m=!0),D=()=>n(2,m=!1);return t.$$set=E=>{"dle"in E&&n(0,c=E.dle),"size"in E&&n(1,u=E.size)},t.$$.update=()=>{t.$$.dirty&1025&&n(5,o=r.includes(c.id)),t.$$.dirty&513&&l.includes(c.id)},[c,u,m,d,h,o,b,k,O,l,r,w,D]}class Yn extends ne{constructor(e){super(),oe(this,e,Xn,Jn,te,{dle:0,size:1})}}const Xe=Math.min,xe=Math.max,Ye=Math.round,Ge=Math.floor,me=t=>({x:t,y:t}),Zn={left:"right",right:"left",bottom:"top",top:"bottom"},Kn={start:"end",end:"start"};function Ot(t,e,n){return xe(t,Xe(e,n))}function $e(t,e){return typeof t=="function"?t(e):t}function Ce(t){return t.split("-")[0]}function et(t){return t.split("-")[1]}function Vt(t){return t==="x"?"y":"x"}function zt(t){return t==="y"?"height":"width"}const Qn=new Set(["top","bottom"]);function we(t){return Qn.has(Ce(t))?"y":"x"}function Ut(t){return Vt(we(t))}function $n(t,e,n){n===void 0&&(n=!1);const o=et(t),i=Ut(t),s=zt(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Ze(l)),[l,Ze(l)]}function eo(t){const e=Ze(t);return[at(t),e,at(e)]}function at(t){return t.replace(/start|end/g,e=>Kn[e])}const St=["left","right"],Tt=["right","left"],to=["top","bottom"],no=["bottom","top"];function oo(t,e,n){switch(t){case"top":case"bottom":return n?e?Tt:St:e?St:Tt;case"left":case"right":return e?to:no;default:return[]}}function io(t,e,n,o){const i=et(t);let s=oo(Ce(t),n==="start",o);return i&&(s=s.map(l=>l+"-"+i),e&&(s=s.concat(s.map(at)))),s}function Ze(t){return t.replace(/left|right|bottom|top/g,e=>Zn[e])}function ro(t){return{top:0,right:0,bottom:0,left:0,...t}}function so(t){return typeof t!="number"?ro(t):{top:t,right:t,bottom:t,left:t}}function Ke(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function At(t,e,n){let{reference:o,floating:i}=t;const s=we(e),l=Ut(e),r=zt(l),c=Ce(e),u=s==="y",a=o.x+o.width/2-i.width/2,f=o.y+o.height/2-i.height/2,m=o[r]/2-i[r]/2;let d;switch(c){case"top":d={x:a,y:o.y-i.height};break;case"bottom":d={x:a,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:f};break;case"left":d={x:o.x-i.width,y:f};break;default:d={x:o.x,y:o.y}}switch(et(e)){case"start":d[l]-=m*(n&&u?-1:1);break;case"end":d[l]+=m*(n&&u?-1:1);break}return d}const lo=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,r=s.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(e));let u=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:a,y:f}=At(u,o,c),m=o,d={},h=0;for(let v=0;v<r.length;v++){const{name:b,fn:x}=r[v],{x:k,y:O,data:w,reset:D}=await x({x:a,y:f,initialPlacement:o,placement:m,strategy:i,middlewareData:d,rects:u,platform:l,elements:{reference:t,floating:e}});a=k??a,f=O??f,d={...d,[b]:{...d[b],...w}},D&&h<=50&&(h++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:a,y:f}=At(u,m,c)),v=-1)}return{x:a,y:f,placement:m,strategy:i,middlewareData:d}};async function jt(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:s,rects:l,elements:r,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:a="viewport",elementContext:f="floating",altBoundary:m=!1,padding:d=0}=$e(e,t),h=so(d),b=r[m?f==="floating"?"reference":"floating":f],x=Ke(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(r.floating)),boundary:u,rootBoundary:a,strategy:c})),k=f==="floating"?{x:o,y:i,width:l.floating.width,height:l.floating.height}:l.reference,O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(r.floating)),w=await(s.isElement==null?void 0:s.isElement(O))?await(s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},D=Ke(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:r,rect:k,offsetParent:O,strategy:c}):k);return{top:(x.top-D.top+h.top)/w.y,bottom:(D.bottom-x.bottom+h.bottom)/w.y,left:(x.left-D.left+h.left)/w.x,right:(D.right-x.right+h.right)/w.x}}const co=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:i,middlewareData:s,rects:l,initialPlacement:r,platform:c,elements:u}=e,{mainAxis:a=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...b}=$e(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=Ce(i),k=we(r),O=Ce(r)===r,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(O||!v?[Ze(r)]:eo(r)),E=h!=="none";!m&&E&&D.push(...io(r,v,h,w));const _=[r,...D],P=await jt(e,b),A=[];let B=((o=s.flip)==null?void 0:o.overflows)||[];if(a&&A.push(P[x]),f){const ae=$n(i,l,w);A.push(P[ae[0]],P[ae[1]])}if(B=[...B,{placement:i,overflows:A}],!A.every(ae=>ae<=0)){var ce,U;const ae=(((ce=s.flip)==null?void 0:ce.index)||0)+1,L=_[ae];if(L&&(!(f==="alignment"?k!==we(L):!1)||B.every(G=>we(G.placement)===k?G.overflows[0]>0:!0)))return{data:{index:ae,overflows:B},reset:{placement:L}};let I=(U=B.filter(V=>V.overflows[0]<=0).sort((V,G)=>V.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(d){case"bestFit":{var De;const V=(De=B.filter(G=>{if(E){const ie=we(G.placement);return ie===k||ie==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ie=>ie>0).reduce((ie,Ue)=>ie+Ue,0)]).sort((G,ie)=>G[1]-ie[1])[0])==null?void 0:De[0];V&&(I=V);break}case"initialPlacement":I=r;break}if(i!==I)return{reset:{placement:I}}}return{}}}},ao=new Set(["left","top"]);async function uo(t,e){const{placement:n,platform:o,elements:i}=t,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=Ce(n),r=et(n),c=we(n)==="y",u=ao.has(l)?-1:1,a=s&&c?-1:1,f=$e(e,t);let{mainAxis:m,crossAxis:d,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return r&&typeof h=="number"&&(d=r==="end"?h*-1:h),c?{x:d*a,y:m*u}:{x:m*u,y:d*a}}const fo=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:s,placement:l,middlewareData:r}=e,c=await uo(e,t);return l===((n=r.offset)==null?void 0:n.placement)&&(o=r.arrow)!=null&&o.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:l}}}}},mo=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:r={fn:b=>{let{x,y:k}=b;return{x,y:k}}},...c}=$e(t,e),u={x:n,y:o},a=await jt(e,c),f=we(Ce(i)),m=Vt(f);let d=u[m],h=u[f];if(s){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",k=d+a[b],O=d-a[x];d=Ot(k,d,O)}if(l){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",k=h+a[b],O=h-a[x];h=Ot(k,h,O)}const v=r.fn({...e,[m]:d,[f]:h});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[m]:s,[f]:l}}}}}};function tt(){return typeof window<"u"}function Me(t){return Wt(t)?(t.nodeName||"").toLowerCase():"#document"}function ee(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ge(t){var e;return(e=(Wt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Wt(t){return tt()?t instanceof Node||t instanceof ee(t).Node:!1}function se(t){return tt()?t instanceof Element||t instanceof ee(t).Element:!1}function he(t){return tt()?t instanceof HTMLElement||t instanceof ee(t).HTMLElement:!1}function Ft(t){return!tt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ee(t).ShadowRoot}const ho=new Set(["inline","contents"]);function ze(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=le(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!ho.has(i)}const go=new Set(["table","td","th"]);function vo(t){return go.has(Me(t))}const po=[":popover-open",":modal"];function nt(t){return po.some(e=>{try{return t.matches(e)}catch{return!1}})}const wo=["transform","translate","scale","rotate","perspective"],yo=["transform","translate","scale","rotate","perspective","filter"],bo=["paint","layout","strict","content"];function gt(t){const e=vt(),n=se(t)?le(t):t;return wo.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yo.some(o=>(n.willChange||"").includes(o))||bo.some(o=>(n.contain||"").includes(o))}function _o(t){let e=_e(t);for(;he(e)&&!Re(e);){if(gt(e))return e;if(nt(e))return null;e=_e(e)}return null}function vt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ko=new Set(["html","body","#document"]);function Re(t){return ko.has(Me(t))}function le(t){return ee(t).getComputedStyle(t)}function ot(t){return se(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _e(t){if(Me(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ft(t)&&t.host||ge(t);return Ft(e)?e.host:e}function Gt(t){const e=_e(t);return Re(e)?t.ownerDocument?t.ownerDocument.body:t.body:he(e)&&ze(e)?e:Gt(e)}function Ve(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Gt(t),s=i===((o=t.ownerDocument)==null?void 0:o.body),l=ee(i);if(s){const r=ut(l);return e.concat(l,l.visualViewport||[],ze(i)?i:[],r&&n?Ve(r):[])}return e.concat(i,Ve(i,[],n))}function ut(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qt(t){const e=le(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=he(t),s=i?t.offsetWidth:n,l=i?t.offsetHeight:o,r=Ye(n)!==s||Ye(o)!==l;return r&&(n=s,o=l),{width:n,height:o,$:r}}function pt(t){return se(t)?t:t.contextElement}function Te(t){const e=pt(t);if(!he(e))return me(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:s}=qt(e);let l=(s?Ye(n.width):n.width)/o,r=(s?Ye(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!r||!Number.isFinite(r))&&(r=1),{x:l,y:r}}const xo=me(0);function Jt(t){const e=ee(t);return!vt()||!e.visualViewport?xo:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Co(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ee(t)?!1:e}function Ee(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=pt(t);let l=me(1);e&&(o?se(o)&&(l=Te(o)):l=Te(t));const r=Co(s,n,o)?Jt(s):me(0);let c=(i.left+r.x)/l.x,u=(i.top+r.y)/l.y,a=i.width/l.x,f=i.height/l.y;if(s){const m=ee(s),d=o&&se(o)?ee(o):o;let h=m,v=ut(h);for(;v&&o&&d!==h;){const b=Te(v),x=v.getBoundingClientRect(),k=le(v),O=x.left+(v.clientLeft+parseFloat(k.paddingLeft))*b.x,w=x.top+(v.clientTop+parseFloat(k.paddingTop))*b.y;c*=b.x,u*=b.y,a*=b.x,f*=b.y,c+=O,u+=w,h=ee(v),v=ut(h)}}return Ke({width:a,height:f,x:c,y:u})}function it(t,e){const n=ot(t).scrollLeft;return e?e.left+n:Ee(ge(t)).left+n}function Xt(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-it(t,n),i=n.top+e.scrollTop;return{x:o,y:i}}function Eo(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const s=i==="fixed",l=ge(o),r=e?nt(e.floating):!1;if(o===l||r&&s)return n;let c={scrollLeft:0,scrollTop:0},u=me(1);const a=me(0),f=he(o);if((f||!f&&!s)&&((Me(o)!=="body"||ze(l))&&(c=ot(o)),he(o))){const d=Ee(o);u=Te(o),a.x=d.x+o.clientLeft,a.y=d.y+o.clientTop}const m=l&&!f&&!s?Xt(l,c):me(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+a.x+m.x,y:n.y*u.y-c.scrollTop*u.y+a.y+m.y}}function Do(t){return Array.from(t.getClientRects())}function Oo(t){const e=ge(t),n=ot(t),o=t.ownerDocument.body,i=xe(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=xe(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+it(t);const r=-n.scrollTop;return le(o).direction==="rtl"&&(l+=xe(e.clientWidth,o.clientWidth)-i),{width:i,height:s,x:l,y:r}}const It=25;function So(t,e){const n=ee(t),o=ge(t),i=n.visualViewport;let s=o.clientWidth,l=o.clientHeight,r=0,c=0;if(i){s=i.width,l=i.height;const a=vt();(!a||a&&e==="fixed")&&(r=i.offsetLeft,c=i.offsetTop)}const u=it(o);if(u<=0){const a=o.ownerDocument,f=a.body,m=getComputedStyle(f),d=a.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,h=Math.abs(o.clientWidth-f.clientWidth-d);h<=It&&(s-=h)}else u<=It&&(s+=u);return{width:s,height:l,x:r,y:c}}const To=new Set(["absolute","fixed"]);function Ao(t,e){const n=Ee(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=he(t)?Te(t):me(1),l=t.clientWidth*s.x,r=t.clientHeight*s.y,c=i*s.x,u=o*s.y;return{width:l,height:r,x:c,y:u}}function Rt(t,e,n){let o;if(e==="viewport")o=So(t,n);else if(e==="document")o=Oo(ge(t));else if(se(e))o=Ao(e,n);else{const i=Jt(t);o={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ke(o)}function Yt(t,e){const n=_e(t);return n===e||!se(n)||Re(n)?!1:le(n).position==="fixed"||Yt(n,e)}function Fo(t,e){const n=e.get(t);if(n)return n;let o=Ve(t,[],!1).filter(r=>se(r)&&Me(r)!=="body"),i=null;const s=le(t).position==="fixed";let l=s?_e(t):t;for(;se(l)&&!Re(l);){const r=le(l),c=gt(l);!c&&r.position==="fixed"&&(i=null),(s?!c&&!i:!c&&r.position==="static"&&!!i&&To.has(i.position)||ze(l)&&!c&&Yt(t,l))?o=o.filter(a=>a!==l):i=r,l=_e(l)}return e.set(t,o),o}function Io(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const l=[...n==="clippingAncestors"?nt(e)?[]:Fo(e,this._c):[].concat(n),o],r=l[0],c=l.reduce((u,a)=>{const f=Rt(e,a,i);return u.top=xe(f.top,u.top),u.right=Xe(f.right,u.right),u.bottom=Xe(f.bottom,u.bottom),u.left=xe(f.left,u.left),u},Rt(e,r,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ro(t){const{width:e,height:n}=qt(t);return{width:e,height:n}}function Po(t,e,n){const o=he(e),i=ge(e),s=n==="fixed",l=Ee(t,!0,s,e);let r={scrollLeft:0,scrollTop:0};const c=me(0);function u(){c.x=it(i)}if(o||!o&&!s)if((Me(e)!=="body"||ze(i))&&(r=ot(e)),o){const d=Ee(e,!0,s,e);c.x=d.x+e.clientLeft,c.y=d.y+e.clientTop}else i&&u();s&&!o&&i&&u();const a=i&&!o&&!s?Xt(i,r):me(0),f=l.left+r.scrollLeft-c.x-a.x,m=l.top+r.scrollTop-c.y-a.y;return{x:f,y:m,width:l.width,height:l.height}}function ct(t){return le(t).position==="static"}function Pt(t,e){if(!he(t)||le(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ge(t)===n&&(n=n.ownerDocument.body),n}function Zt(t,e){const n=ee(t);if(nt(t))return n;if(!he(t)){let i=_e(t);for(;i&&!Re(i);){if(se(i)&&!ct(i))return i;i=_e(i)}return n}let o=Pt(t,e);for(;o&&vo(o)&&ct(o);)o=Pt(o,e);return o&&Re(o)&&ct(o)&&!gt(o)?n:o||_o(t)||n}const Mo=async function(t){const e=this.getOffsetParent||Zt,n=this.getDimensions,o=await n(t.floating);return{reference:Po(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Ho(t){return le(t).direction==="rtl"}const Lo={convertOffsetParentRelativeRectToViewportRelativeRect:Eo,getDocumentElement:ge,getClippingRect:Io,getOffsetParent:Zt,getElementRects:Mo,getClientRects:Do,getDimensions:Ro,getScale:Te,isElement:se,isRTL:Ho};function Kt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function No(t,e){let n=null,o;const i=ge(t);function s(){var r;clearTimeout(o),(r=n)==null||r.disconnect(),n=null}function l(r,c){r===void 0&&(r=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:a,top:f,width:m,height:d}=u;if(r||e(),!m||!d)return;const h=Ge(f),v=Ge(i.clientWidth-(a+m)),b=Ge(i.clientHeight-(f+d)),x=Ge(a),O={rootMargin:-h+"px "+-v+"px "+-b+"px "+-x+"px",threshold:xe(0,Xe(1,c))||1};let w=!0;function D(E){const _=E[0].intersectionRatio;if(_!==c){if(!w)return l();_?l(!1,_):o=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!Kt(u,t.getBoundingClientRect())&&l(),w=!1}try{n=new IntersectionObserver(D,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,O)}n.observe(t)}return l(!0),s}function Bo(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,u=pt(t),a=i||s?[...u?Ve(u):[],...Ve(e)]:[];a.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const f=u&&r?No(u,n):null;let m=-1,d=null;l&&(d=new ResizeObserver(x=>{let[k]=x;k&&k.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var O;(O=d)==null||O.observe(e)})),n()}),u&&!c&&d.observe(u),d.observe(e));let h,v=c?Ee(t):null;c&&b();function b(){const x=Ee(t);v&&!Kt(v,x)&&n(),v=x,h=requestAnimationFrame(b)}return n(),()=>{var x;a.forEach(k=>{i&&k.removeEventListener("scroll",n),s&&k.removeEventListener("resize",n)}),f==null||f(),(x=d)==null||x.disconnect(),d=null,c&&cancelAnimationFrame(h)}}const Vo=fo,zo=mo,Uo=co,jo=(t,e,n)=>{const o=new Map,i={platform:Lo,...n},s={...i.platform,_c:o};return lo(t,e,{...i,platform:s})};function Wo(t){let e,n,o,i,s,l=t[0].name+"",r,c,u,a,f,m,d=t[0].description+"",h,v,b,x,k,O,w,D=t[0].url+"",E,_,P,A,B,ce,U,De,ae;return o=new Nn({props:{dle:t[0],section:t[2],position:t[3]}}),a=new mt({}),k=new Yn({props:{dle:t[0]}}),B=new Sn({}),{c(){e=T("div"),n=T("div"),$(o.$$.fragment),i=Y(),s=T("div"),r=be(l),c=Y(),u=T("button"),$(a.$$.fragment),f=Y(),m=T("div"),h=be(d),v=Y(),b=T("div"),x=T("div"),$(k.$$.fragment),O=Y(),w=T("a"),E=be(D),P=Y(),A=T("button"),$(B.$$.fragment),this.h()},l(L){e=S(L,"DIV",{class:!0});var I=C(e);n=S(I,"DIV",{class:!0});var V=C(n);Q(o.$$.fragment,V),i=X(V),s=S(V,"DIV",{class:!0});var G=C(s);r=ye(G,l),G.forEach(p),c=X(V),u=S(V,"BUTTON",{class:!0});var ie=C(u);Q(a.$$.fragment,ie),ie.forEach(p),V.forEach(p),f=X(I),m=S(I,"DIV",{class:!0});var Ue=C(m);h=ye(Ue,d),Ue.forEach(p),v=X(I),b=S(I,"DIV",{class:!0});var Oe=C(b);x=S(Oe,"DIV",{class:!0});var wt=C(x);Q(k.$$.fragment,wt),wt.forEach(p),O=X(Oe),w=S(Oe,"A",{href:!0,target:!0,class:!0});var yt=C(w);E=ye(yt,D),yt.forEach(p),P=X(Oe),A=S(Oe,"BUTTON",{class:!0,title:!0});var bt=C(A);Q(B.$$.fragment,bt),bt.forEach(p),Oe.forEach(p),I.forEach(p),this.h()},h(){g(s,"class","text-center text-xl font-bold flex-1 svelte-1bmpybn"),g(u,"class","close-btn svelte-1bmpybn"),g(n,"class","header-row svelte-1bmpybn"),g(m,"class","text-center text-base text-colorTextSoft px-6 svelte-1bmpybn"),g(x,"class","hide-btn-container svelte-1bmpybn"),g(w,"href",_=t[0].url),g(w,"target","_blank"),g(w,"class","svelte-1bmpybn"),g(A,"class","played-btn svelte-1bmpybn"),g(A,"title",ce=t[5]?"Mark as not played":"Mark as played"),de(A,"checked",t[5]),g(b,"class","url-row svelte-1bmpybn"),g(e,"class","dlePopUp bevel svelte-1bmpybn")},m(L,I){W(L,e,I),y(e,n),K(o,n,null),y(n,i),y(n,s),y(s,r),y(n,c),y(n,u),K(a,u,null),y(e,f),y(e,m),y(m,h),y(e,v),y(e,b),y(b,x),K(k,x,null),y(b,O),y(b,w),y(w,E),y(b,P),y(b,A),K(B,A,null),t[14](e),U=!0,De||(ae=[z(u,"click",t[7]),z(w,"click",t[11]),z(w,"auxclick",t[12]),z(w,"contextmenu",t[13]),z(A,"click",t[8]),ft(dt.call(null,e)),z(e,"click_outside",function(){He(t[1])&&t[1].apply(this,arguments)})],De=!0)},p(L,[I]){t=L;const V={};I&1&&(V.dle=t[0]),I&4&&(V.section=t[2]),I&8&&(V.position=t[3]),o.$set(V),(!U||I&1)&&l!==(l=t[0].name+"")&&Se(r,l),(!U||I&1)&&d!==(d=t[0].description+"")&&Se(h,d);const G={};I&1&&(G.dle=t[0]),k.$set(G),(!U||I&1)&&D!==(D=t[0].url+"")&&Se(E,D),(!U||I&1&&_!==(_=t[0].url))&&g(w,"href",_),(!U||I&32&&ce!==(ce=t[5]?"Mark as not played":"Mark as played"))&&g(A,"title",ce),(!U||I&32)&&de(A,"checked",t[5])},i(L){U||(F(o.$$.fragment,L),F(a.$$.fragment,L),F(k.$$.fragment,L),F(B.$$.fragment,L),U=!0)},o(L){R(o.$$.fragment,L),R(a.$$.fragment,L),R(k.$$.fragment,L),R(B.$$.fragment,L),U=!1},d(L){L&&p(e),Z(o),Z(a),Z(k),Z(B),t[14](null),De=!1,Pe(ae)}}}function Go(t,e,n){let o,i,s,l;fe(t,tn,_=>n(10,i=_)),fe(t,st,_=>n(16,s=_)),fe(t,Fe,_=>n(17,l=_));let{dle:r,handleClickOutside:c,referenceEl:u}=e,{section:a="regular"}=e,{position:f=null}=e;const m=Bt(),d=Dn();let h,v;function b(_,P){a==="sponsors"?m.trackSponsorClick(_,P,f):m.trackGameClick(_,P,"popup",a,f),d.markAsPlayed(_)}Qe(()=>(u&&h&&(v=Bo(u,h,()=>{jo(u,h,{placement:"top",middleware:[Vo(-10),Uo(),zo({padding:10})]}).then(({x:_,y:P})=>{Object.assign(h.style,{left:`${_}px`,top:`${P}px`})})})),()=>{v&&v()}));function x(){ke(Fe,l="",l)}function k(){i.has(r.id)?(d.unmarkAsPlayed(r),Be.show(`${Ie(r.name)} marked as not played`,{duration:5e3,actions:[{label:"Undo",onClick:()=>{d.markAsPlayed(r,!0)}},{label:"Manage",onClick:()=>{ke(st,s=!0,s)}}]})):(d.markAsPlayed(r,!0),Be.show(`${Ie(r.name)} marked as played`,{duration:5e3,actions:[{label:"Undo",onClick:()=>{d.unmarkAsPlayed(r)}},{label:"Manage",onClick:()=>{ke(st,s=!0,s)}}]}))}const O=()=>b(r,"popup-link"),w=()=>b(r,"popup-middle-click"),D=()=>b(r,"popup-context-menu");function E(_){Qt[_?"unshift":"push"](()=>{h=_,n(4,h)})}return t.$$set=_=>{"dle"in _&&n(0,r=_.dle),"handleClickOutside"in _&&n(1,c=_.handleClickOutside),"referenceEl"in _&&n(9,u=_.referenceEl),"section"in _&&n(2,a=_.section),"position"in _&&n(3,f=_.position)},t.$$.update=()=>{t.$$.dirty&1025&&n(5,o=i.has(r.id))},[r,c,a,f,h,o,b,x,k,u,i,O,w,D,E]}class $o extends ne{constructor(e){super(),oe(this,e,Go,Wo,te,{dle:0,handleClickOutside:1,referenceEl:9,section:2,position:3})}}export{$o as D,Nn as F,gn as I,fn as M,xn as a,Bt as b,Dn as c,mn as d,Be as e,Vn as f,Zo as g,Qo as h,ve as i,sn as o,Ko as p,qe as t,ht as u};
